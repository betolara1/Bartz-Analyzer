This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
cjs-main.js
electron/main.js
electron/preload.js
index.html
ipcRenderer.invoke('analyzer
ipcRenderer.invoke('settings
main.esm.js
MELHORIAS.TXT
package.json
postcss.config.cjs
preload.js
README.md
src/App.tsx
src/Attributions.md
src/components/AutoFixBadge.tsx
src/components/ConfigurationScreen.tsx
src/components/Dashboard.tsx
src/components/ErrorBadge.tsx
src/components/figma/BadgeErro.tsx
src/components/figma/CardKPI.tsx
src/components/figma/ChipStatus.tsx
src/components/figma/ComponentLibrary.tsx
src/components/figma/EnhancedDashboard.tsx
src/components/figma/FilterBarShowcase.tsx
src/components/figma/FrameDashboard.tsx
src/components/figma/FrameDetailDrawer.tsx
src/components/figma/FrameSettings.tsx
src/components/figma/ImageWithFallback.tsx
src/components/figma/TableHeader.tsx
src/components/figma/TableRow.tsx
src/components/figma/Toast.tsx
src/components/FileDetailDrawer.tsx
src/components/hooks/useBartzProcessor.tsx
src/components/KPICard.tsx
src/components/ProcessingStats.tsx
src/components/StatusChip.tsx
src/components/ui/accordion.tsx
src/components/ui/alert-dialog.tsx
src/components/ui/alert.tsx
src/components/ui/aspect-ratio.tsx
src/components/ui/avatar.tsx
src/components/ui/badge.tsx
src/components/ui/breadcrumb.tsx
src/components/ui/button.tsx
src/components/ui/calendar.tsx
src/components/ui/card.tsx
src/components/ui/carousel.tsx
src/components/ui/chart.tsx
src/components/ui/checkbox.tsx
src/components/ui/chip-filter.tsx
src/components/ui/collapsible.tsx
src/components/ui/command.tsx
src/components/ui/context-menu.tsx
src/components/ui/dialog.tsx
src/components/ui/drawer.tsx
src/components/ui/dropdown-menu.tsx
src/components/ui/filter-bar.tsx
src/components/ui/form.tsx
src/components/ui/hover-card.tsx
src/components/ui/input-otp.tsx
src/components/ui/input.tsx
src/components/ui/label.tsx
src/components/ui/menubar.tsx
src/components/ui/navigation-menu.tsx
src/components/ui/pagination.tsx
src/components/ui/popover.tsx
src/components/ui/progress.tsx
src/components/ui/radio-group.tsx
src/components/ui/resizable.tsx
src/components/ui/scroll-area.tsx
src/components/ui/select.tsx
src/components/ui/separator.tsx
src/components/ui/sheet.tsx
src/components/ui/sidebar.tsx
src/components/ui/skeleton.tsx
src/components/ui/slider.tsx
src/components/ui/sonner.tsx
src/components/ui/switch.tsx
src/components/ui/table.tsx
src/components/ui/tabs.tsx
src/components/ui/textarea.tsx
src/components/ui/toggle-group.tsx
src/components/ui/toggle.tsx
src/components/ui/tooltip.tsx
src/components/ui/use-mobile.ts
src/components/ui/utils.ts
src/FigmaShowcase.tsx
src/FilterDemo.tsx
src/global.d.ts
src/guidelines/Guidelines.md
src/index.css
src/main.tsx
src/package.json
src/Settings.ts
src/src/App.tsx
src/src/components/AutoFixBadge.tsx
src/src/components/ConfigurationScreen.tsx
src/src/components/Dashboard.tsx
src/src/components/ErrorBadge.tsx
src/src/components/FileDetailDrawer.tsx
src/src/components/hooks/useElectronAPI.tsx
src/src/components/KPICard.tsx
src/src/components/StatusChip.tsx
src/src/components/ui/badge.tsx
src/src/components/ui/button.tsx
src/src/components/ui/input.tsx
src/src/components/ui/table.tsx
src/src/components/ui/utils.ts
src/src/main.tsx
src/styles/globals.css
src/tsconfig.json
src/vite.config.ts
tailwind.config.cjs
vite.config.mts
watcher.js
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="MELHORIAS.TXT">
üìä Sugest√µes de Melhoria para o Bartz Analyzer
Analisando o sistema, aqui est√£o as principais √°reas de melhoria:

1. Funcionalidades Cr√≠ticas
Relat√≥rios Export√°veis - Adicionar export de resultados em CSV/JSON/Excel para integra√ß√£o com sistemas externos
Processamento em Batch - Aplicar corre√ß√µes em m√∫ltiplos arquivos simultaneamente (ex: "Corrigir todos os 37MM" de uma vez)
Agenda/Agendador - Executar valida√ß√µes em hor√°rios espec√≠ficos ou recorrentes
Integra√ß√£o com Webhook - Notificar sistemas externos quando erros s√£o detectados


2. UX/Interface
Busca Avan√ßada - Filtros por data, quantidade de erros, tipo espec√≠fico de erro
Sugest√µes de Corre√ß√£o - Mostrar valores sugeridos baseado em hist√≥rico (ex: "FRESA_12_37 encontrada, corrigir para 18?"
Atalhos de Teclado - Ctrl+L para limpar, Ctrl+S para scan, Ctrl+D para drawer
Notifica√ß√µes do Sistema - Alertar usu√°rio via toast com sons para eventos cr√≠ticos (muitos erros detectados)
Tema Escuro Completo - Melhorar suporte a dark mode em todas as telas


3. Robustez & Performance
Cache de DXF - Armazenar resultados de an√°lise DXF com hash para evitar re-ler arquivos iguais
Valida√ß√£o em Background - Processar grandes volumes sem travar interface
Cancelamento de Opera√ß√µes - Parar scan/an√°lise com ESC ou bot√£o de stop
Limites de Seguran√ßa - N√£o analisar arquivos > 100MB, avisar com muitos arquivos
Compress√£o de Logs - Arquivar logs antigos, manter hist√≥rico compactado


4. Dados & Hist√≥rico
Reprocessamento Autom√°tico - Ap√≥s hora X, revalidar arquivos OK com problemas conhecidos
An√°lise de Tend√™ncias - Gr√°ficos mostrando evolu√ß√£o de erros (dia/semana/m√™s)
Compara√ß√£o de Vers√µes - Mostrar que mudou entre vers√£o anterior e nova do arquivo
Auditoria - Log de who/what/when para cada corre√ß√£o (para compliance)


5. Configura√ß√£o & Customiza√ß√£o
Perfis de Valida√ß√£o - Diferentes regras para diferentes clientes/projetos
Importar/Exportar Configura√ß√µes - Compartilhar setup entre m√°quinas
Vari√°veis de Ambiente - Usar .env para caminhos sensiveis em produ√ß√£o
Toler√¢ncias Customiz√°veis - Permitir ajustar limites (ex: pre√ßo m√≠nimo aceit√°vel)


6. Integra√ß√£o & Conectividade
Sincroniza√ß√£o em Nuvem - Backup autom√°tico de logs em SharePoint/OneDrive
API Local REST - Permitir que outros apps iniciem valida√ß√µes
Integra√ß√£o com Excel - Ler lista de arquivos a processar de spreadsheet
Email de Alertas - Notificar respons√°veis quando muitos erros detectados


7. Qualidade de C√≥digo
Testes Automatizados - Validar l√≥gica de corre√ß√£o em casos de teste (37mm, cor coringa, etc)
Refatora√ß√£o em Camadas - Separar l√≥gica de neg√≥cio (valida√ß√£o) da UI e IPC
Documenta√ß√£o T√©cnica - Como adicionar nova regra de valida√ß√£o, novo tipo de erro
Monitoramento de Performance - Tempo gasto em cada opera√ß√£o (scan, valida√ß√£o, DXF)


üéØ Top 3 Recomenda√ß√µes Priorit√°rias:
Processamento em Batch (3-4h) - Qualidade de vida enorme: "Corrigir todos os 37MM" em um clique
Cache de DXF (2-3h) - Melhora performance significativa se arquivos DXF s√£o reutilizados
Relat√≥rios Export√°veis (2-3h) - Acesso aos dados em Excel/CSV √© requisito comum
</file>

<file path=".gitignore">
/node_modules
</file>

<file path="electron/preload.js">
// preload.js  (CommonJS)
const { contextBridge, ipcRenderer } = require('electron');

contextBridge.exposeInMainWorld('electron', {
  analyzer: {
    start: (cfg) => ipcRenderer.invoke('analyzer:start', cfg || {}),
    stop:  () => ipcRenderer.invoke('analyzer:stop'),
    scanOnce: () => ipcRenderer.invoke('analyzer:scanOnce'),
    onEvent: (cb) => {
      ipcRenderer.removeAllListeners('analyzer:event');
      ipcRenderer.on('analyzer:event', (_e, data) => cb?.(data));
    }
  },
  settings: {
    load: () => ipcRenderer.invoke('settings:load'),
    save: (data) => ipcRenderer.invoke('settings:save', data),
    testPaths: (data) => ipcRenderer.invoke('settings:testPaths', data),
    pickFolder: (initial) => ipcRenderer.invoke('settings:pickFolder', initial || '')
  }
});
</file>

<file path="index.html">
<!doctype html>
<html lang="pt-BR" class="dark h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="color-scheme" content="dark" />
    <link rel="preload" href="/src/index.css" as="style" />
    <title>Bartz Analyzer</title>
  </head>
  <body class="h-full bg-neutral-950 text-zinc-100">
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
</file>

<file path="ipcRenderer.invoke('analyzer">

</file>

<file path="ipcRenderer.invoke('settings">

</file>

<file path="main.esm.js">
// src/main/main.ts
import { app, BrowserWindow, ipcMain } from "electron";
import path from "path";
import { Settings } from "./settings";
import { registerAnalyzerIPC } from "./analyzer";

function createWindow() {
  const win = new BrowserWindow({
    width: 1200,
    height: 800,
    webPreferences: {
      preload: path.join(__dirname, "../preload.js"),
      nodeIntegration: false,
      contextIsolation: true,
    },
  });

  if (process.env.VITE_DEV) {
    win.loadURL("http://localhost:5174/");
    win.webContents.openDevTools({ mode: "detach" });
  } else {
    win.loadFile(path.join(__dirname, "../../index.html"));
  }

  // IPC ‚Äì settings
  ipcMain.handle("settings:load", () => Settings.load());
  ipcMain.handle("settings:save", (_e, data) => Settings.save(data));
  ipcMain.handle("settings:testPaths", (_e, data) => Settings.testPaths(data));
  ipcMain.handle("settings:pickFolder", (_e, initial) => Settings.pickFolder(initial));

  // IPC ‚Äì analyzer
  registerAnalyzerIPC(win);
}

app.whenReady().then(createWindow);
app.on("window-all-closed", () => { if (process.platform !== "darwin") app.quit(); });
app.on("activate", () => { if (BrowserWindow.getAllWindows().length === 0) createWindow(); });
</file>

<file path="postcss.config.cjs">
// postcss.config.cjs
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};
</file>

<file path="src/App.tsx">
// src/App.tsx
import { useState } from "react";
import Dashboard from "./components/Dashboard";
import ConfigurationScreen from "./components/ConfigurationScreen";

export default function App() {
  const [screen, setScreen] = useState<'dash' | 'cfg'>('dash');
  return screen === 'dash'
    ? <Dashboard onNavigateToConfig={() => setScreen('cfg')} />
    : <ConfigurationScreen onBack={() => setScreen('dash')} />;
}
</file>

<file path="src/Attributions.md">
Este arquivo do Figma Make inclui componentes de [shadcn/ui](https://ui.shadcn.com/) usados sob [licen√ßa MIT](https://github.com/shadcn-ui/ui/blob/main/LICENSE.md).

Este arquivo do Figma Make inclui fotos do [Unsplash](https://unsplash.com) utilizadas sob [licen√ßa](https://unsplash.com/license).
</file>

<file path="src/components/AutoFixBadge.tsx">
import { Badge } from "./ui/badge"
export function AutoFixBadge({ fix }: { fix: string }) {
  return <Badge variant="outline" className="text-emerald-500 border-emerald-500/30 bg-emerald-500/10 text-xs">{fix}</Badge>
}
</file>

<file path="src/components/ErrorBadge.tsx">
import { Badge } from "./ui/badge"
export function ErrorBadge({ error }: { error: string }) {
  return <Badge variant="outline" className="text-red-500 border-red-500/30 bg-red-500/10 text-xs">{error}</Badge>
}
</file>

<file path="src/components/figma/BadgeErro.tsx">
import { cn } from "../ui/utils"

interface BadgeErroProps {
  type: 'ItemSemCodigo' | 'ItemSemQuantidade' | 'ItemSemPreco' | 'CadastroCorCoringa' | 'PecaMuxarabi' | 'Maquina2530Ausente' | 'Maquina2534Ausente' | 'Maquina2341Ausente' | 'Maquina2525Ausente' | 'Programa2530NaoGerado' | 'Programa2534NaoGerado' | 'Programa2341NaoGerado' | 'Programa2525NaoGerado'
  className?: string
}

const errorMessages = {
  ItemSemCodigo: 'ITEM SEM C√ìDIGO',
  ItemSemQuantidade: 'ITEM SEM QUANTIDADE', 
  ItemSemPreco: 'ITEM SEM PRE√áO',
  CadastroCorCoringa: 'CADASTRO DE COR CORINGA',
  PecaMuxarabi: 'PE√áA MUXARABI',
  Maquina2530Ausente: 'MAQUINA COM PLUGIN 2530 AUSENTE',
  Maquina2534Ausente: 'MAQUINA COM PLUGIN 2534 AUSENTE',
  Maquina2341Ausente: 'MAQUINA COM PLUGIN 2341 AUSENTE',
  Maquina2525Ausente: 'MAQUINA COM PLUGIN 2525 AUSENTE',
  Programa2530NaoGerado: 'PROGRAMA N√ÉO GERADO PARA PLUGIN 2530',
  Programa2534NaoGerado: 'PROGRAMA N√ÉO GERADO PARA PLUGIN 2534',
  Programa2341NaoGerado: 'PROGRAMA N√ÉO GERADO PARA PLUGIN 2341',
  Programa2525NaoGerado: 'PROGRAMA N√ÉO GERADO PARA PLUGIN 2525'
}

export function BadgeErro({ type, className }: BadgeErroProps) {
  return (
    <span 
      className={cn(
        "inline-flex items-center px-2 py-1 rounded text-xs bg-[#E74C3C]/10 text-[#E74C3C] border border-[#E74C3C]/20 whitespace-nowrap",
        className
      )}
    >
      {errorMessages[type]}
    </span>
  )
}

// Componentes espec√≠ficos para Figma
export const BadgeErroItemSemCodigo = () => <BadgeErro type="ItemSemCodigo" />
export const BadgeErroItemSemQuantidade = () => <BadgeErro type="ItemSemQuantidade" />
export const BadgeErroItemSemPreco = () => <BadgeErro type="ItemSemPreco" />
export const BadgeErroCadastroCorCoringa = () => <BadgeErro type="CadastroCorCoringa" />
export const BadgeErroPecaMuxarabi = () => <BadgeErro type="PecaMuxarabi" />
export const BadgeErroMaquina2530Ausente = () => <BadgeErro type="Maquina2530Ausente" />
export const BadgeErroMaquina2534Ausente = () => <BadgeErro type="Maquina2534Ausente" />
export const BadgeErroMaquina2341Ausente = () => <BadgeErro type="Maquina2341Ausente" />
export const BadgeErroMaquina2525Ausente = () => <BadgeErro type="Maquina2525Ausente" />
export const BadgeErroPrograma2530NaoGerado = () => <BadgeErro type="Programa2530NaoGerado" />
export const BadgeErroPrograma2534NaoGerado = () => <BadgeErro type="Programa2534NaoGerado" />
export const BadgeErroPrograma2341NaoGerado = () => <BadgeErro type="Programa2341NaoGerado" />
export const BadgeErroPrograma2525NaoGerado = () => <BadgeErro type="Programa2525NaoGerado" />
</file>

<file path="src/components/figma/CardKPI.tsx">
import { Card } from "../ui/card"
import { cn } from "../ui/utils"
import { FileText, CheckCircle, XCircle, Package } from "lucide-react"

interface CardKPIProps {
  variant: 'Recebidos' | 'Corretos' | 'Inconformidades' | 'Ferragens'
  value: number
  className?: string
}

const kpiConfig = {
  Recebidos: {
    title: 'Recebidos',
    icon: <FileText className="h-5 w-5" />,
    color: '#3498DB'
  },
  Corretos: {
    title: 'Corretos', 
    icon: <CheckCircle className="h-5 w-5" />,
    color: '#27AE60'
  },
  Inconformidades: {
    title: 'Inconformidades',
    icon: <XCircle className="h-5 w-5" />,
    color: '#E74C3C'
  },
  Ferragens: {
    title: 'Ferragens-only',
    icon: <Package className="h-5 w-5" />,
    color: '#F39C12'
  }
}

export function CardKPI({ variant, value, className }: CardKPIProps) {
  const config = kpiConfig[variant]
  
  return (
    <Card className={cn("p-4 bg-[#1B1B1B] border-[#2C2C2C]", className)}>
      <div className="flex items-center gap-3">
        <div 
          className="p-2 rounded-lg"
          style={{ backgroundColor: `${config.color}20`, color: config.color }}
        >
          {config.icon}
        </div>
        <div>
          <p className="text-[#A7A7A7] text-sm">{config.title}</p>
          <p className="text-white text-2xl font-medium">{value}</p>
        </div>
      </div>
    </Card>
  )
}

// Componentes espec√≠ficos para Figma
export const CardKPIRecebidos = () => <CardKPI variant="Recebidos" value={156} />
export const CardKPICorretos = () => <CardKPI variant="Corretos" value={142} />
export const CardKPIInconformidades = () => <CardKPI variant="Inconformidades" value={12} />
export const CardKPIFerragens = () => <CardKPI variant="Ferragens" value={2} />
</file>

<file path="src/components/figma/ChipStatus.tsx">
import { cn } from "../ui/utils"

interface ChipStatusProps {
  variant: 'OK' | 'ERRO' | 'FERRAGENS'
  className?: string
}

export function ChipStatus({ variant, className }: ChipStatusProps) {
  const getStatusStyles = (variant: string) => {
    switch (variant) {
      case 'OK':
        return 'bg-[#27AE60] text-white'
      case 'ERRO':
        return 'bg-[#E74C3C] text-white'
      case 'FERRAGENS':
        return 'bg-[#F39C12] text-white'
      default:
        return 'bg-[#3498DB] text-white'
    }
  }

  const getStatusText = (variant: string) => {
    switch (variant) {
      case 'FERRAGENS':
        return 'FERRAGENS-ONLY'
      default:
        return variant
    }
  }

  return (
    <span 
      className={cn(
        "inline-flex items-center px-2 py-1 rounded text-xs font-medium whitespace-nowrap",
        getStatusStyles(variant),
        className
      )}
    >
      {getStatusText(variant)}
    </span>
  )
}

// Componentes espec√≠ficos para Figma
export const ChipStatusOK = () => <ChipStatus variant="OK" />
export const ChipStatusERRO = () => <ChipStatus variant="ERRO" />
export const ChipStatusFERRAGENS = () => <ChipStatus variant="FERRAGENS" />
</file>

<file path="src/components/figma/ComponentLibrary.tsx">
import { Card } from "../ui/card"
import { Separator } from "../ui/separator"
import { Table, TableBody } from "../ui/table"

// Importar todos os componentes espec√≠ficos
import { 
  ChipStatusOK, 
  ChipStatusERRO, 
  ChipStatusFERRAGENS 
} from "./ChipStatus"

import { 
  BadgeErroItemSemCodigo,
  BadgeErroItemSemQuantidade, 
  BadgeErroItemSemPreco,
  BadgeErroCadastroCorCoringa,
  BadgeErroPecaMuxarabi,
  BadgeErroMaquina2530Ausente,
  BadgeErroMaquina2534Ausente,
  BadgeErroPrograma2530NaoGerado,
  BadgeErroPrograma2534NaoGerado
} from "./BadgeErro"

import {
  CardKPIRecebidos,
  CardKPICorretos, 
  CardKPIInconformidades,
  CardKPIFerragens
} from "./CardKPI"

import {
  ToastSuccess,
  ToastWarning,
  ToastError,
  ToastInfo
} from "./Toast"

import {
  TableRowDefault,
  TableRowError,
  TableRowFerragesOnly,
  TableRowLoading,
  TableRowEmpty
} from "./TableRow"

import { TableHeaderComponent } from "./TableHeader"
import { Button } from "../ui/button"
import { Play, RotateCcw, RefreshCw } from "lucide-react"

export function ComponentLibrary() {
  return (
    <div className="min-h-screen bg-[#111111] text-white p-8 space-y-8">
      <h1 className="text-3xl font-medium text-center mb-12">Bartz Analyzer - Biblioteca de Componentes</h1>

      {/* Chips de Status */}
      <section className="space-y-4">
        <h2 className="text-xl font-medium">Chip/Status</h2>
        <div className="flex gap-4">
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Chip/Status/OK</p>
            <ChipStatusOK />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Chip/Status/ERRO</p>
            <ChipStatusERRO />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Chip/Status/FERRAGENS</p>
            <ChipStatusFERRAGENS />
          </div>
        </div>
      </section>

      <Separator className="bg-[#2C2C2C]" />

      {/* Badges de Erro */}
      <section className="space-y-4">
        <h2 className="text-xl font-medium">Badge/Erro</h2>
        <div className="grid grid-cols-2 gap-4">
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Badge/Erro/ItemSemCodigo</p>
            <BadgeErroItemSemCodigo />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Badge/Erro/ItemSemQuantidade</p>
            <BadgeErroItemSemQuantidade />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Badge/Erro/ItemSemPreco</p>
            <BadgeErroItemSemPreco />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Badge/Erro/CadastroCorCoringa</p>
            <BadgeErroCadastroCorCoringa />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Badge/Erro/PecaMuxarabi</p>
            <BadgeErroPecaMuxarabi />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Badge/Erro/Maquina2530Ausente</p>
            <BadgeErroMaquina2530Ausente />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Badge/Erro/Maquina2534Ausente</p>
            <BadgeErroMaquina2534Ausente />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Badge/Erro/Programa2530NaoGerado</p>
            <BadgeErroPrograma2530NaoGerado />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Badge/Erro/Programa2534NaoGerado</p>
            <BadgeErroPrograma2534NaoGerado />
          </div>
        </div>
      </section>

      <Separator className="bg-[#2C2C2C]" />

      {/* Cards KPI */}
      <section className="space-y-4">
        <h2 className="text-xl font-medium">Card/KPI</h2>
        <div className="grid grid-cols-2 gap-4">
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Card/KPI/Recebidos</p>
            <CardKPIRecebidos />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Card/KPI/Corretos</p>
            <CardKPICorretos />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Card/KPI/Inconformidades</p>
            <CardKPIInconformidades />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Card/KPI/Ferragens</p>
            <CardKPIFerragens />
          </div>
        </div>
      </section>

      <Separator className="bg-[#2C2C2C]" />

      {/* Toasts */}
      <section className="space-y-4">
        <h2 className="text-xl font-medium">Toast</h2>
        <div className="space-y-4">
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Toast/Success</p>
            <ToastSuccess />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Toast/Warning</p>
            <ToastWarning />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Toast/Error</p>
            <ToastError />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Toast/Info</p>
            <ToastInfo />
          </div>
        </div>
      </section>

      <Separator className="bg-[#2C2C2C]" />

      {/* Bot√µes */}
      <section className="space-y-4">
        <h2 className="text-xl font-medium">Bot√µes</h2>
        <div className="flex gap-4">
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Prim√°rio</p>
            <Button className="bg-[#F1C40F] text-black hover:bg-[#F1C40F]/90 gap-2">
              <Play className="h-4 w-4" />
              ‚ñ∂Ô∏è Iniciar monitoramento
            </Button>
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Secund√°rio</p>
            <Button variant="outline" className="border-[#2C2C2C] hover:bg-[#2C2C2C] gap-2">
              <RotateCcw className="h-4 w-4" />
              üîÑ Reanalisar tudo
            </Button>
          </div>
          <div className="space-y-2">
            <p className="text-sm text-[#A7A7A7]">Terci√°rio</p>
            <Button variant="ghost" className="gap-2">
              <RefreshCw className="h-4 w-4" />
              üîÅ Reanalisar s√≥ erros
            </Button>
          </div>
        </div>
      </section>

      <Separator className="bg-[#2C2C2C]" />

      {/* Tabela */}
      <section className="space-y-4">
        <h2 className="text-xl font-medium">Tabela</h2>
        <div className="bg-[#1B1B1B] border border-[#2C2C2C] rounded-lg">
          <Table>
            <TableHeaderComponent />
            <TableBody>
              <TableRowDefault />
              <TableRowError />
              <TableRowFerragesOnly />
              <TableRowLoading />
              <TableRowEmpty />
            </TableBody>
          </Table>
        </div>
      </section>
    </div>
  )
}
</file>

<file path="src/components/figma/EnhancedDashboard.tsx">
import { useState } from "react"
import { Button } from "../ui/button"
import { Input } from "../ui/input"
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "../ui/select"
import { Table, TableBody } from "../ui/table"
import { CardKPI } from "./CardKPI"
import { ChipStatus } from "./ChipStatus"
import { BadgeErro } from "./BadgeErro"
import { AutoFixBadge } from "../AutoFixBadge"
import { Badge } from "../ui/badge"
import { TableHeaderComponent } from "./TableHeader"
import { 
  Play, 
  RotateCcw, 
  RefreshCw, 
  Settings,
  Calendar,
  Eye,
  FolderOpen
} from "lucide-react"

// Mock data expandido com mais exemplos
const mockFiles = [
  {
    filename: "PEDIDO_12345_ONLY_FERRAGENS.xml",
    status: "FERRAGENS" as const,
    errors: [] as const,
    autoFixes: ["QTD 0‚Üí1"],
    warnings: ["‚ö†Ô∏è"],
    timestamp: "2024-01-15 14:30:25"
  },
  {
    filename: "PEDIDO_67890_SO_MAQUINAS.xml", 
    status: "OK" as const,
    errors: [] as const,
    autoFixes: [],
    warnings: [],
    timestamp: "2024-01-15 14:28:12"
  },
  {
    filename: "PEDIDO_11111_TESTE_SO_MUXARABI.xml",
    status: "ERRO" as const,
    errors: ["PecaMuxarabi", "ItemSemPreco"] as const,
    autoFixes: [],
    warnings: [],
    timestamp: "2024-01-15 14:25:08"
  },
  {
    filename: "PEDIDO_55555_MULTIPLOS_ERROS.xml",
    status: "ERRO" as const,
    errors: ["ItemSemCodigo", "ItemSemQuantidade", "Maquina2530Ausente", "Programa2534NaoGerado", "CadastroCorCoringa"] as const,
    autoFixes: ["QTD 0‚Üí1", "PRE√áO 0.00‚Üí0.10"],
    warnings: [],
    timestamp: "2024-01-15 14:20:15"
  },
  {
    filename: "PEDIDO_77777_CORRIGIDO_AUTOFIX.xml",
    status: "OK" as const,
    errors: [] as const,
    autoFixes: ["QTD 0‚Üí1", "PRE√áO 0.00‚Üí0.10"],
    warnings: [],
    timestamp: "2024-01-15 14:15:42"
  }
]

interface EnhancedDashboardProps {
  onNavigateToConfig: () => void
  showState?: 'normal' | 'loading' | 'empty'
}

export function EnhancedDashboard({ onNavigateToConfig, showState = 'normal' }: EnhancedDashboardProps) {
  const [isMonitoring, setIsMonitoring] = useState(true)
  const [statusFilter, setStatusFilter] = useState("todos")
  const [searchTerm, setSearchTerm] = useState("")

  const filteredFiles = mockFiles.filter(file => {
    const matchesStatus = statusFilter === "todos" || 
      (statusFilter === "ferragens-only" && file.status === "FERRAGENS") ||
      file.status.toLowerCase() === statusFilter
    const matchesSearch = file.filename.toLowerCase().includes(searchTerm.toLowerCase())
    return matchesStatus && matchesSearch
  })

  const displayFiles = showState === 'empty' ? [] : filteredFiles

  return (
    <div className="min-h-screen bg-[#111111] text-white">
      {/* Header */}
      <div className="border-b border-[#2C2C2C] bg-[#1B1B1B] px-6 py-4">
        <div className="flex items-center justify-between">
          <div className="flex items-center gap-4">
            <div className="h-8 w-8 bg-[#F1C40F] rounded flex items-center justify-center text-black font-medium">
              B
            </div>
            <h1 className="text-xl font-medium">Bartz Verificador XML</h1>
          </div>

          <div className="flex items-center gap-3">
            <Button
              className={`gap-2 ${isMonitoring ? 'bg-[#E74C3C] hover:bg-[#E74C3C]/90' : 'bg-[#27AE60] hover:bg-[#27AE60]/90'} text-white`}
            >
              <Play className="h-4 w-4" />
              {isMonitoring ? "‚è∏Ô∏è Pausar monitoramento" : "‚ñ∂Ô∏è Iniciar monitoramento"}
            </Button>
            <Button variant="outline" className="gap-2 border-[#2C2C2C] hover:bg-[#2C2C2C]">
              <RotateCcw className="h-4 w-4" />
              üîÑ Reanalisar tudo
            </Button>
            <Button variant="outline" className="gap-2 border-[#2C2C2C] hover:bg-[#2C2C2C]">
              <RefreshCw className="h-4 w-4" />
              üîÅ Reanalisar s√≥ erros
            </Button>
            <Button variant="ghost" onClick={onNavigateToConfig} className="gap-2">
              <Settings className="h-4 w-4" />
            </Button>
          </div>
        </div>
      </div>

      <div className="p-6">
        {/* KPIs */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
          <CardKPI variant="Recebidos" value={156} />
          <CardKPI variant="Corretos" value={142} />
          <CardKPI variant="Inconformidades" value={12} />
          <CardKPI variant="Ferragens" value={2} />
        </div>

        {/* Filtros */}
        <div className="flex gap-4 mb-6">
          <Select value={statusFilter} onValueChange={setStatusFilter}>
            <SelectTrigger className="w-48 bg-[#1B1B1B] border-[#2C2C2C]">
              <SelectValue placeholder="Status" />
            </SelectTrigger>
            <SelectContent className="bg-[#1B1B1B] border-[#2C2C2C]">
              <SelectItem value="todos">Todos</SelectItem>
              <SelectItem value="ok">OK</SelectItem>
              <SelectItem value="erro">Erro</SelectItem>
              <SelectItem value="ferragens-only">Ferragens-only</SelectItem>
            </SelectContent>
          </Select>
          
          <Input
            placeholder="Buscar por nome do arquivo..."
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
            className="max-w-sm bg-[#1B1B1B] border-[#2C2C2C]"
          />

          <div className="flex items-center gap-2 text-[#A7A7A7]">
            <Calendar className="h-4 w-4" />
            <span className="text-sm">√öltimas 24h</span>
          </div>
        </div>

        {/* Tabela */}
        <div className="bg-[#1B1B1B] border border-[#2C2C2C] rounded-lg">
          <Table>
            <TableHeaderComponent />
            <TableBody>
              {showState === 'loading' ? (
                <tr className="border-[#2C2C2C] hover:bg-[#2C2C2C]/30">
                  <td colSpan={7} className="text-center py-8">
                    <div className="flex items-center justify-center gap-2 text-[#A7A7A7]">
                      <div className="h-4 w-4 animate-spin rounded-full border-2 border-[#A7A7A7] border-t-transparent" />
                      Processando arquivos...
                    </div>
                  </td>
                </tr>
              ) : showState === 'empty' || displayFiles.length === 0 ? (
                <tr className="border-[#2C2C2C]">
                  <td colSpan={7} className="text-center py-8 text-[#A7A7A7]">
                    Nenhum arquivo processado ainda
                  </td>
                </tr>
              ) : (
                displayFiles.map((file, index) => (
                  <tr key={index} className="border-[#2C2C2C] hover:bg-[#2C2C2C]/30">
                    <td className="font-mono text-sm p-4">{file.filename}</td>
                    <td className="p-4">
                      <ChipStatus variant={file.status} />
                    </td>
                    <td className="p-4">
                      <div className="flex flex-wrap gap-1">
                        {file.errors.map((error, idx) => (
                          <BadgeErro key={idx} type={error} />
                        ))}
                      </div>
                    </td>
                    <td className="p-4">
                      <div className="flex flex-wrap gap-1">
                        {file.autoFixes.map((fix, idx) => (
                          <AutoFixBadge key={idx} fix={fix} />
                        ))}
                      </div>
                    </td>
                    <td className="p-4">
                      {file.warnings.map((warning, idx) => (
                        <Badge key={idx} variant="outline" className="text-[#F39C12] border-[#F39C12]/20 bg-[#F39C12]/10">
                          {warning}
                        </Badge>
                      ))}
                    </td>
                    <td className="text-[#A7A7A7] text-sm p-4">{file.timestamp}</td>
                    <td className="p-4">
                      <div className="flex gap-1">
                        <Button size="sm" variant="ghost" className="h-8 w-8 p-0">
                          <Eye className="h-4 w-4" />
                        </Button>
                        <Button size="sm" variant="ghost" className="h-8 w-8 p-0">
                          <FolderOpen className="h-4 w-4" />
                        </Button>
                        <Button size="sm" variant="ghost" className="h-8 w-8 p-0">
                          <RefreshCw className="h-4 w-4" />
                        </Button>
                      </div>
                    </td>
                  </tr>
                ))
              )}
            </TableBody>
          </Table>
        </div>
      </div>
    </div>
  )
}
</file>

<file path="src/components/figma/FilterBarShowcase.tsx">
import { useState } from "react"
import { ChipFilter, type FilterTag } from "../ui/chip-filter"
import { FilterBar } from "../ui/filter-bar"
import { Separator } from "../ui/separator"
import { Card } from "../ui/card"

export function FilterBarShowcase() {
  const [selectedTag, setSelectedTag] = useState<FilterTag>("all")

  return (
    <div className="min-h-screen bg-[#111111] text-white p-8 space-y-8">
      <div className="text-center space-y-4">
        <h1 className="text-3xl font-medium">Filter Bar Components</h1>
        <p className="text-[#A7A7A7] text-lg">Componentes de filtro para verificador de XML</p>
      </div>

      <Separator className="bg-[#2A2F3A]" />

      {/* Chip/Filter Individual States */}
      <section className="space-y-6">
        <h2 className="text-2xl font-medium">Chip/Filter - Estados</h2>
        
        <div className="space-y-6">
          {/* Default State */}
          <div className="space-y-3">
            <h3 className="text-lg font-medium text-[#EAECEF]">Estado Padr√£o</h3>
            <div className="flex flex-wrap gap-2 p-4 bg-[#1C1F26] rounded-lg border border-[#2A2F3A]">
              <ChipFilter label="Todos" tag="all" />
              <ChipFilter label="Corretos" tag="ok" />
              <ChipFilter label="Inconformidades" tag="erro" />
              <ChipFilter label="Muxarabi" tag="muxarabi" />
            </div>
          </div>

          {/* Selected State */}
          <div className="space-y-3">
            <h3 className="text-lg font-medium text-[#EAECEF]">Estado Selecionado</h3>
            <div className="flex flex-wrap gap-2 p-4 bg-[#1C1F26] rounded-lg border border-[#2A2F3A]">
              <ChipFilter label="Todos" tag="all" selected />
              <ChipFilter label="Corretos" tag="ok" selected />
              <ChipFilter label="Inconformidades" tag="erro" selected />
              <ChipFilter label="Muxarabi" tag="muxarabi" selected />
            </div>
          </div>

          {/* Disabled State */}
          <div className="space-y-3">
            <h3 className="text-lg font-medium text-[#EAECEF]">Estado Desabilitado</h3>
            <div className="flex flex-wrap gap-2 p-4 bg-[#1C1F26] rounded-lg border border-[#2A2F3A]">
              <ChipFilter label="Todos" tag="all" disabled />
              <ChipFilter label="Corretos" tag="ok" disabled />
              <ChipFilter label="Inconformidades" tag="erro" disabled />
              <ChipFilter label="Muxarabi" tag="muxarabi" disabled />
            </div>
          </div>

          {/* All Icons */}
          <div className="space-y-3">
            <h3 className="text-lg font-medium text-[#EAECEF]">Todos os √çcones</h3>
            <div className="flex flex-wrap gap-2 p-4 bg-[#1C1F26] rounded-lg border border-[#2A2F3A]">
              <ChipFilter label="Todos" tag="all" />
              <ChipFilter label="Corretos" tag="ok" />
              <ChipFilter label="Erro" tag="erro" />
              <ChipFilter label="Muxarabi" tag="muxarabi" />
              <ChipFilter label="Cor Coringa" tag="coringa" />
              <ChipFilter label="Ferragens" tag="ferragens" />
              <ChipFilter label="Pre√ßo 0.00" tag="precoZero" />
              <ChipFilter label="Qtd 0" tag="qtdZero" />
            </div>
          </div>
        </div>
      </section>

      <Separator className="bg-[#2A2F3A]" />

      {/* FilterBar Component */}
      <section className="space-y-6">
        <h2 className="text-2xl font-medium">FilterBar - Componente Completo</h2>
        
        <div className="space-y-4">
          <div className="space-y-2">
            <h3 className="text-lg font-medium text-[#EAECEF]">Funcional (Interativo)</h3>
            <p className="text-sm text-[#A7A7A7]">
              Tag selecionada: <span className="text-[#F1C40F] font-medium">{selectedTag}</span>
            </p>
          </div>
          
          <Card className="p-4 bg-[#1C1F26] border-[#2A2F3A]">
            <FilterBar 
              selectedTag={selectedTag}
              onTagChange={setSelectedTag}
            />
          </Card>
        </div>

        <div className="space-y-4">
          <h3 className="text-lg font-medium text-[#EAECEF]">Static (Para Figma)</h3>
          <Card className="p-4 bg-[#1C1F26] border-[#2A2F3A]">
            <FilterBar selectedTag="all" />
          </Card>
        </div>
      </section>

      <Separator className="bg-[#2A2F3A]" />

      {/* Design Specifications */}
      <section className="space-y-6">
        <h2 className="text-2xl font-medium">Especifica√ß√µes de Design</h2>
        
        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
          {/* Color Tokens */}
          <Card className="p-6 bg-[#1C1F26] border-[#2A2F3A]">
            <h3 className="text-lg font-medium text-[#EAECEF] mb-4">Color Tokens</h3>
            <div className="space-y-3 text-sm">
              <div className="flex justify-between items-center">
                <span className="text-[#A7A7A7]">bg/page:</span>
                <div className="flex items-center gap-2">
                  <div className="w-4 h-4 rounded bg-[#111111] border border-[#2A2F3A]"></div>
                  <span className="text-[#EAECEF] font-mono">#111111</span>
                </div>
              </div>
              <div className="flex justify-between items-center">
                <span className="text-[#A7A7A7]">chip.bg:</span>
                <div className="flex items-center gap-2">
                  <div className="w-4 h-4 rounded bg-[#1C1F26] border border-[#2A2F3A]"></div>
                  <span className="text-[#EAECEF] font-mono">#1C1F26</span>
                </div>
              </div>
              <div className="flex justify-between items-center">
                <span className="text-[#A7A7A7]">chip.border:</span>
                <div className="flex items-center gap-2">
                  <div className="w-4 h-4 rounded bg-[#2A2F3A] border border-[#2A2F3A]"></div>
                  <span className="text-[#EAECEF] font-mono">#2A2F3A</span>
                </div>
              </div>
              <div className="flex justify-between items-center">
                <span className="text-[#A7A7A7]">accent:</span>
                <div className="flex items-center gap-2">
                  <div className="w-4 h-4 rounded bg-[#F1C40F] border border-[#2A2F3A]"></div>
                  <span className="text-[#EAECEF] font-mono">#F1C40F</span>
                </div>
              </div>
              <div className="flex justify-between items-center">
                <span className="text-[#A7A7A7]">success:</span>
                <div className="flex items-center gap-2">
                  <div className="w-4 h-4 rounded bg-[#27AE60] border border-[#2A2F3A]"></div>
                  <span className="text-[#EAECEF] font-mono">#27AE60</span>
                </div>
              </div>
              <div className="flex justify-between items-center">
                <span className="text-[#A7A7A7]">danger:</span>
                <div className="flex items-center gap-2">
                  <div className="w-4 h-4 rounded bg-[#E74C3C] border border-[#2A2F3A]"></div>
                  <span className="text-[#EAECEF] font-mono">#E74C3C</span>
                </div>
              </div>
            </div>
          </Card>

          {/* Layout Specs */}
          <Card className="p-6 bg-[#1C1F26] border-[#2A2F3A]">
            <h3 className="text-lg font-medium text-[#EAECEF] mb-4">Layout Specs</h3>
            <div className="space-y-3 text-sm">
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">Padding:</span>
                <span className="text-[#EAECEF]">6px 10px</span>
              </div>
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">Border Radius:</span>
                <span className="text-[#EAECEF]">8px</span>
              </div>
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">Gap (icon-text):</span>
                <span className="text-[#EAECEF]">6px</span>
              </div>
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">Gap (between chips):</span>
                <span className="text-[#EAECEF]">8px</span>
              </div>
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">Font Size:</span>
                <span className="text-[#EAECEF]">14px</span>
              </div>
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">Font Weight:</span>
                <span className="text-[#EAECEF]">Medium (500)</span>
              </div>
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">Min Height:</span>
                <span className="text-[#EAECEF]">36px</span>
              </div>
            </div>
          </Card>
        </div>
      </section>

      <Separator className="bg-[#2A2F3A]" />

      {/* Implementation Notes */}
      <section className="space-y-4">
        <h2 className="text-2xl font-medium">Notas de Implementa√ß√£o</h2>
        
        <Card className="p-6 bg-[#1C1F26] border-[#2A2F3A]">
          <div className="space-y-4 text-sm text-[#EAECEF]">
            <div>
              <h4 className="font-medium mb-2 text-[#F1C40F]">Acessibilidade:</h4>
              <ul className="space-y-1 text-[#A7A7A7] ml-4">
                <li>‚Ä¢ Contraste m√≠nimo 4.5:1 em todos os estados</li>
                <li>‚Ä¢ √Årea de clique ‚â• 36px de altura</li>
                <li>‚Ä¢ Focus ring vis√≠vel com Ctrl+Tab</li>
                <li>‚Ä¢ Screen reader friendly com aria-labels</li>
              </ul>
            </div>

            <div>
              <h4 className="font-medium mb-2 text-[#F1C40F]">Auto Layout (Figma):</h4>
              <ul className="space-y-1 text-[#A7A7A7] ml-4">
                <li>‚Ä¢ FilterBar: Horizontal, Wrap ON, Gap 8px</li>
                <li>‚Ä¢ ChipFilter: Horizontal, Gap 6px, Padding 6px 10px</li>
                <li>‚Ä¢ Corner radius: 8px em todos os chips</li>
              </ul>
            </div>

            <div>
              <h4 className="font-medium mb-2 text-[#F1C40F]">Variants (Figma):</h4>
              <ul className="space-y-1 text-[#A7A7A7] ml-4">
                <li>‚Ä¢ selected: Boolean (true/false)</li>
                <li>‚Ä¢ hover: Boolean (true/false)</li>
                <li>‚Ä¢ disabled: Boolean (true/false)</li>
                <li>‚Ä¢ tag: Enum (all, ok, erro, muxarabi, etc.)</li>
              </ul>
            </div>
          </div>
        </Card>
      </section>
    </div>
  )
}
</file>

<file path="src/components/figma/FrameDashboard.tsx">
import { Dashboard } from "../Dashboard"

export function FrameDashboard() {
  const handleNavigateToConfig = () => {
    // Mock function for Figma frame
  }

  return (
    <div 
      className="w-[1200px] h-[800px] bg-[#111111] border border-[#2C2C2C] overflow-hidden"
      style={{ minWidth: '1000px', minHeight: '700px' }}
    >
      <Dashboard onNavigateToConfig={handleNavigateToConfig} />
    </div>
  )
}
</file>

<file path="src/components/figma/FrameDetailDrawer.tsx">
import { FileDetailDrawer } from "../FileDetailDrawer"

const mockFileData = {
  filename: "PEDIDO_11111_TESTE_SO_MUXARABI.xml",
  status: "ERRO" as const,
  errors: ["PE√áA MUXARABI", "ITEM SEM PRE√áO", "MAQUINA COM PLUGIN 2530 AUSENTE"],
  autoFixes: ["QTD 0‚Üí1"],
  warnings: [],
  timestamp: "2024-01-15 14:25:08",
  paths: {
    origem: "\\\\server\\entrada\\PEDIDO_11111_TESTE_SO_MUXARABI.xml",
    working: "\\\\server\\working\\PEDIDO_11111_TESTE_SO_MUXARABI.xml", 
    destino: "\\\\server\\XML_FINAL\\erro\\PEDIDO_11111_TESTE_SO_MUXARABI.xml",
    logs: "\\\\server\\LOGS\\errors\\PEDIDO_11111_TESTE_SO_MUXARABI.json"
  },
  logPreview: {
    status: "ERRO",
    processedAt: "2024-01-15T14:25:08Z",
    errors: ["PE√áA MUXARABI", "ITEM SEM PRE√áO", "MAQUINA COM PLUGIN 2530 AUSENTE"],
    autoFixes: ["QTD 0‚Üí1"],
    validations: {
      plugins: {
        required: [2530, 2534, 2341, 2525],
        missing: [2530],
        programsGenerated: [2534, 2341, 2525]
      },
      items: {
        total: 15,
        withErrors: 3,
        muxarabiItems: ["MX6001", "MX6005"]
      }
    }
  }
}

export function FrameDetailDrawer() {
  return (
    <div 
      className="w-[600px] h-[800px] bg-[#111111] border border-[#2C2C2C] overflow-hidden"
    >
      <div className="relative h-full">
        <FileDetailDrawer
          isOpen={true}
          onClose={() => {}}
          fileData={mockFileData}
        />
      </div>
    </div>
  )
}
</file>

<file path="src/components/figma/FrameSettings.tsx">
import { ConfigurationScreen } from "../ConfigurationScreen"

export function FrameSettings() {
  return (
    <div 
      className="w-[1000px] h-[700px] bg-[#111111] border border-[#2C2C2C] overflow-hidden"
      style={{ minWidth: '1000px', minHeight: '700px' }}
    >
      <ConfigurationScreen />
    </div>
  )
}
</file>

<file path="src/components/figma/ImageWithFallback.tsx">
import React, { useState } from 'react'

const ERROR_IMG_SRC =
  'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg=='

export function ImageWithFallback(props: React.ImgHTMLAttributes<HTMLImageElement>) {
  const [didError, setDidError] = useState(false)

  const handleError = () => {
    setDidError(true)
  }

  const { src, alt, style, className, ...rest } = props

  return didError ? (
    <div
      className={`inline-block bg-gray-100 text-center align-middle ${className ?? ''}`}
      style={style}
    >
      <div className="flex items-center justify-center w-full h-full">
        <img src={ERROR_IMG_SRC} alt="Error loading image" {...rest} data-original-url={src} />
      </div>
    </div>
  ) : (
    <img src={src} alt={alt} className={className} style={style} {...rest} onError={handleError} />
  )
}
</file>

<file path="src/components/figma/TableHeader.tsx">
import { TableHead, TableHeader, TableRow } from "../ui/table"

export function TableHeaderComponent() {
  return (
    <TableHeader>
      <TableRow className="border-[#2C2C2C] hover:bg-[#2C2C2C]/50">
        <TableHead className="text-[#A7A7A7]">Arquivo</TableHead>
        <TableHead className="text-[#A7A7A7]">Status</TableHead>
        <TableHead className="text-[#A7A7A7]">Erros</TableHead>
        <TableHead className="text-[#A7A7A7]">Auto-fix</TableHead>
        <TableHead className="text-[#A7A7A7]">Avisos</TableHead>
        <TableHead className="text-[#A7A7A7]">Data/Hora</TableHead>
        <TableHead className="text-[#A7A7A7]">A√ß√µes</TableHead>
      </TableRow>
    </TableHeader>
  )
}
</file>

<file path="src/components/figma/TableRow.tsx">
import { TableCell, TableRow } from "../ui/table"
import { ChipStatus } from "./ChipStatus"
import { BadgeErro } from "./BadgeErro"
import { AutoFixBadge } from "../AutoFixBadge"
import { Button } from "../ui/button"
import { Badge } from "../ui/badge"
import { Eye, FolderOpen, RefreshCw } from "lucide-react"

interface TableRowProps {
  variant: 'Default' | 'Error' | 'FerragesOnly' | 'Loading' | 'Empty'
}

export function TableRowComponent({ variant }: TableRowProps) {
  if (variant === 'Loading') {
    return (
      <TableRow className="border-[#2C2C2C] hover:bg-[#2C2C2C]/30">
        <TableCell colSpan={7} className="text-center py-8">
          <div className="flex items-center justify-center gap-2 text-[#A7A7A7]">
            <div className="h-4 w-4 animate-spin rounded-full border-2 border-[#A7A7A7] border-t-transparent" />
            Processando arquivos...
          </div>
        </TableCell>
      </TableRow>
    )
  }

  if (variant === 'Empty') {
    return (
      <TableRow className="border-[#2C2C2C]">
        <TableCell colSpan={7} className="text-center py-8 text-[#A7A7A7]">
          Nenhum arquivo processado ainda
        </TableCell>
      </TableRow>
    )
  }

  const rowData = {
    Default: {
      filename: "PEDIDO_67890_SO_MAQUINAS.xml",
      status: "OK" as const,
      errors: [],
      autoFixes: [],
      warnings: [],
      timestamp: "2024-01-15 14:28:12"
    },
    Error: {
      filename: "PEDIDO_11111_TESTE_SO_MUXARABI.xml", 
      status: "ERRO" as const,
      errors: ["PecaMuxarabi", "ItemSemPreco", "Maquina2530Ausente"] as const,
      autoFixes: [],
      warnings: [],
      timestamp: "2024-01-15 14:25:08"
    },
    FerragesOnly: {
      filename: "PEDIDO_12345_ONLY_FERRAGENS.xml",
      status: "FERRAGENS" as const,
      errors: [],
      autoFixes: ["QTD 0‚Üí1"],
      warnings: ["‚ö†Ô∏è"],
      timestamp: "2024-01-15 14:30:25"
    }
  }

  const data = rowData[variant as keyof typeof rowData]

  return (
    <TableRow className="border-[#2C2C2C] hover:bg-[#2C2C2C]/30">
      <TableCell className="font-mono text-sm">{data.filename}</TableCell>
      <TableCell>
        <ChipStatus variant={data.status} />
      </TableCell>
      <TableCell>
        <div className="flex flex-wrap gap-1">
          {data.errors.map((error, idx) => (
            <BadgeErro key={idx} type={error} />
          ))}
        </div>
      </TableCell>
      <TableCell>
        <div className="flex flex-wrap gap-1">
          {data.autoFixes.map((fix, idx) => (
            <AutoFixBadge key={idx} fix={fix} />
          ))}
        </div>
      </TableCell>
      <TableCell>
        {data.warnings.map((warning, idx) => (
          <Badge key={idx} variant="outline" className="text-[#F39C12] border-[#F39C12]/20 bg-[#F39C12]/10">
            {warning}
          </Badge>
        ))}
      </TableCell>
      <TableCell className="text-[#A7A7A7] text-sm">{data.timestamp}</TableCell>
      <TableCell>
        <div className="flex gap-1">
          <Button size="sm" variant="ghost" className="h-8 w-8 p-0">
            <Eye className="h-4 w-4" />
          </Button>
          <Button size="sm" variant="ghost" className="h-8 w-8 p-0">
            <FolderOpen className="h-4 w-4" />
          </Button>
          <Button size="sm" variant="ghost" className="h-8 w-8 p-0">
            <RefreshCw className="h-4 w-4" />
          </Button>
        </div>
      </TableCell>
    </TableRow>
  )
}

// Componentes espec√≠ficos para Figma
export const TableRowDefault = () => <TableRowComponent variant="Default" />
export const TableRowError = () => <TableRowComponent variant="Error" />
export const TableRowFerragesOnly = () => <TableRowComponent variant="FerragesOnly" />
export const TableRowLoading = () => <TableRowComponent variant="Loading" />
export const TableRowEmpty = () => <TableRowComponent variant="Empty" />
</file>

<file path="src/components/figma/Toast.tsx">
import { CheckCircle, AlertTriangle, XCircle, Info } from "lucide-react"
import { cn } from "../ui/utils"

interface ToastProps {
  variant: 'Success' | 'Warning' | 'Error' | 'Info'
  message: string
  className?: string
}

const toastConfig = {
  Success: {
    icon: <CheckCircle className="h-4 w-4" />,
    className: 'bg-[#27AE60]/10 border-[#27AE60]/20 text-[#27AE60]'
  },
  Warning: {
    icon: <AlertTriangle className="h-4 w-4" />,
    className: 'bg-[#F39C12]/10 border-[#F39C12]/20 text-[#F39C12]'
  },
  Error: {
    icon: <XCircle className="h-4 w-4" />,
    className: 'bg-[#E74C3C]/10 border-[#E74C3C]/20 text-[#E74C3C]'
  },
  Info: {
    icon: <Info className="h-4 w-4" />,
    className: 'bg-[#3498DB]/10 border-[#3498DB]/20 text-[#3498DB]'
  }
}

export function Toast({ variant, message, className }: ToastProps) {
  const config = toastConfig[variant]
  
  return (
    <div className={cn(
      "flex items-center gap-3 p-4 rounded-lg border max-w-md",
      config.className,
      className
    )}>
      {config.icon}
      <span className="text-sm">{message}</span>
    </div>
  )
}

// Componentes espec√≠ficos para Figma
export const ToastSuccess = () => <Toast variant="Success" message="Monitoramento iniciado." />
export const ToastWarning = () => <Toast variant="Warning" message="Auto-fix aplicado: QTD 0‚Üí1, PRE√áO 0.00‚Üí0.10." />
export const ToastError = () => <Toast variant="Error" message="Erro ao processar arquivo." />
export const ToastInfo = () => <Toast variant="Info" message="Pedido apenas de ferragens ‚Äî valida√ß√µes de m√°quina ignoradas." />
</file>

<file path="src/components/hooks/useBartzProcessor.tsx">
import { useState, useCallback } from 'react'
import { toast } from "sonner"

interface ProcessResult {
  arquivo: string
  status: 'ok' | 'erro' | 'FERRAGENS-ONLY'
  erros: string[]
  avisos: string[]
  autoFix: string[]
  tags: string[]
}

interface FileProcessingState {
  isProcessing: boolean
  processedFiles: ProcessResult[]
  totalProcessed: number
  successCount: number
  errorCount: number
  ferragensCount: number
}

export function useBartzProcessor() {
  const [state, setState] = useState<FileProcessingState>({
    isProcessing: false,
    processedFiles: [],
    totalProcessed: 0,
    successCount: 0,
    errorCount: 0,
    ferragensCount: 0
  })

  // Simula a an√°lise de XML baseada na l√≥gica real do backend
  const simulateXMLAnalysis = useCallback((filename: string): ProcessResult => {
    const errors: string[] = []
    const warnings: string[] = []
    const autoFix: string[] = []
    const tags: string[] = []

    // Simula diferentes cen√°rios baseados no nome do arquivo
    if (filename.includes('MUXARABI') || filename.includes('MX600')) {
      errors.push('PE√áA MUXARABI')
      tags.push('muxarabi')
    }

    if (filename.includes('CORINGA') || filename.includes('CG1') || filename.includes('CG2')) {
      errors.push('CADASTRO DE COR CORINGA')
      tags.push('coringa')
    }

    if (filename.includes('FERRAGENS') || filename.includes('BUILDER_N')) {
      warnings.push('PEDIDO APENAS DE FERRAGENS ‚Äî plugins ignorados (BUILDER=N ou padr√£o de c√≥digos).')
      tags.push('ferragens')
      return {
        arquivo: filename,
        status: 'FERRAGENS-ONLY',
        erros: [],
        avisos: warnings,
        autoFix,
        tags
      }
    }

    // Simula problemas de valida√ß√£o
    const hasQuantityIssue = Math.random() > 0.7
    const hasPriceIssue = Math.random() > 0.8
    const hasMissingPlugin = Math.random() > 0.6
    const hasMissingCode = Math.random() > 0.75

    if (hasQuantityIssue) {
      autoFix.push('QUANTIDADE=0‚Üí1')
      tags.push('qtdZero')
    }

    if (hasPriceIssue) {
      autoFix.push('PRECO_TOTAL=0.00‚Üí0.10')
      tags.push('precoZero')
    }

    if (hasMissingCode) {
      errors.push('ITEM SEM C√ìDIGO')
    }

    if (hasMissingPlugin && !tags.includes('ferragens')) {
      const plugins = ['2530', '2534', '2341', '2525']
      const randomPlugin = plugins[Math.floor(Math.random() * plugins.length)]
      
      if (Math.random() > 0.5) {
        errors.push(`MAQUINA COM PLUGIN ${randomPlugin} AUSENTE`)
      } else {
        errors.push(`PROGRAMA N√ÉO GERADO PARA PLUGIN ${randomPlugin}`)
      }
    }

    const finalStatus = errors.length > 0 ? 'erro' : 'ok'

    return {
      arquivo: filename,
      status: finalStatus,
      erros: errors,
      avisos: warnings,
      autoFix,
      tags
    }
  }, [])

  const processFile = useCallback((filename: string) => {
    setState(prev => ({ ...prev, isProcessing: true }))

    toast("Iniciando processamento", {
      description: `Analisando ${filename}...`
    })

    // Simula tempo de processamento
    setTimeout(() => {
      const result = simulateXMLAnalysis(filename)
      
      setState(prev => ({
        ...prev,
        isProcessing: false,
        processedFiles: [...prev.processedFiles, result],
        totalProcessed: prev.totalProcessed + 1,
        successCount: result.status === 'ok' ? prev.successCount + 1 : prev.successCount,
        errorCount: result.status === 'erro' ? prev.errorCount + 1 : prev.errorCount,
        ferragensCount: result.status === 'FERRAGENS-ONLY' ? prev.ferragensCount + 1 : prev.ferragensCount
      }))

      // Toast baseado no resultado
      if (result.status === 'ok') {
        if (result.autoFix.length > 0) {
          toast("Arquivo corrigido automaticamente", {
            description: `${filename} - ${result.autoFix.join(', ')}`
          })
        } else {
          toast("Arquivo processado com sucesso", {
            description: `${filename} movido para pasta final.`
          })
        }
      } else if (result.status === 'FERRAGENS-ONLY') {
        toast("Pedido apenas de ferragens", {
          description: `${filename} - plugins ignorados.`
        })
      } else {
        toast("Arquivo com inconformidades", {
          description: `${filename} - ${result.erros.length} erro(s) encontrado(s).`
        })
      }
    }, 1500 + Math.random() * 1000) // 1.5-2.5 segundos
  }, [simulateXMLAnalysis])

  const batchProcess = useCallback((filenames: string[]) => {
    setState(prev => ({ ...prev, isProcessing: true }))
    
    toast("Processamento em lote iniciado", {
      description: `Processando ${filenames.length} arquivos...`
    })

    let processed = 0
    filenames.forEach((filename, index) => {
      setTimeout(() => {
        const result = simulateXMLAnalysis(filename)
        
        setState(prev => ({
          ...prev,
          processedFiles: [...prev.processedFiles, result],
          totalProcessed: prev.totalProcessed + 1,
          successCount: result.status === 'ok' ? prev.successCount + 1 : prev.successCount,
          errorCount: result.status === 'erro' ? prev.errorCount + 1 : prev.errorCount,
          ferragensCount: result.status === 'FERRAGENS-ONLY' ? prev.ferragensCount + 1 : prev.ferragensCount
        }))

        processed++
        if (processed === filenames.length) {
          setState(prev => ({ ...prev, isProcessing: false }))
          toast("Processamento em lote conclu√≠do", {
            description: `${filenames.length} arquivos processados.`
          })
        }
      }, (index + 1) * (800 + Math.random() * 400))
    })
  }, [simulateXMLAnalysis])

  const clearHistory = useCallback(() => {
    setState({
      isProcessing: false,
      processedFiles: [],
      totalProcessed: 0,
      successCount: 0,
      errorCount: 0,
      ferragensCount: 0
    })
    toast("Hist√≥rico limpo")
  }, [])

  return {
    ...state,
    processFile,
    batchProcess,
    clearHistory,
    // Utilit√°rios para an√°lise
    getFilesByTag: useCallback((tag: string) => 
      state.processedFiles.filter(f => f.tags.includes(tag)), [state.processedFiles]),
    getFilesByStatus: useCallback((status: string) => 
      state.processedFiles.filter(f => f.status === status), [state.processedFiles]),
  }
}
</file>

<file path="src/components/KPICard.tsx">
import { Card, CardContent } from "./ui/card"
export function KPICard({ title, value, icon, color, selected, onClick }:{
  title:string; value:number; icon:React.ReactNode; color:string; selected?:boolean; onClick?:()=>void;
}) {
  return (
    <Card onClick={onClick} className={`cursor-pointer ${selected ? "ring-2 ring-yellow-400" : ""}`}>
      <CardContent className="p-4 flex flex-col items-center justify-center space-y-2">
        <div className="text-2xl" style={{ color }}>{icon}</div>
        <div className="text-xl font-bold">{value}</div>
        <div className="text-sm text-muted-foreground">{title}</div>
      </CardContent>
    </Card>
  )
}
</file>

<file path="src/components/ProcessingStats.tsx">
import { Card } from "./ui/card"
import { Progress } from "./ui/progress"
import { Badge } from "./ui/badge"
import { 
  Activity,
  Clock,
  CheckCircle2,
  XCircle,
  Package,
  Zap,
  AlertTriangle
} from "lucide-react"

interface ProcessingStatsProps {
  isProcessing: boolean
  totalProcessed: number
  successCount: number
  errorCount: number
  ferragensCount: number
  recentFiles: Array<{
    filename: string
    status: 'ok' | 'erro' | 'FERRAGENS-ONLY'
    autoFix: string[]
    timestamp: string
  }>
}

export function ProcessingStats({ 
  isProcessing, 
  totalProcessed, 
  successCount, 
  errorCount, 
  ferragensCount,
  recentFiles 
}: ProcessingStatsProps) {
  const successRate = totalProcessed > 0 ? (successCount / totalProcessed * 100) : 0
  const errorRate = totalProcessed > 0 ? (errorCount / totalProcessed * 100) : 0
  const ferragensRate = totalProcessed > 0 ? (ferragensCount / totalProcessed * 100) : 0

  return (
    <div className="space-y-4 mb-6">
      {/* Status do processamento */}
      <Card className="p-4 bg-[#1B1B1B] border-[#2C2C2C]">
        <div className="flex items-center justify-between mb-4">
          <div className="flex items-center gap-2">
            <Activity className="h-5 w-5 text-[#F1C40F]" />
            <h3 className="font-medium">Status do Processamento</h3>
          </div>
          <div className="flex items-center gap-2">
            {isProcessing && (
              <>
                <div className="w-2 h-2 bg-[#27AE60] rounded-full animate-pulse"></div>
                <span className="text-[#27AE60] text-sm">Processando...</span>
              </>
            )}
          </div>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div className="text-center">
            <div className="text-2xl font-bold text-white">{totalProcessed}</div>
            <div className="text-sm text-[#A7A7A7]">Total Processados</div>
          </div>
          
          <div className="text-center">
            <div className="text-2xl font-bold text-[#27AE60]">{successCount}</div>
            <div className="text-sm text-[#A7A7A7]">Sucessos</div>
            <div className="text-xs text-[#27AE60]">{successRate.toFixed(1)}%</div>
          </div>
          
          <div className="text-center">
            <div className="text-2xl font-bold text-[#E74C3C]">{errorCount}</div>
            <div className="text-sm text-[#A7A7A7]">Erros</div>
            <div className="text-xs text-[#E74C3C]">{errorRate.toFixed(1)}%</div>
          </div>
          
          <div className="text-center">
            <div className="text-2xl font-bold text-[#F39C12]">{ferragensCount}</div>
            <div className="text-sm text-[#A7A7A7]">Ferragens-only</div>
            <div className="text-xs text-[#F39C12]">{ferragensRate.toFixed(1)}%</div>
          </div>
        </div>

        {/* Barra de progresso visual */}
        {totalProcessed > 0 && (
          <div className="mt-4 space-y-2">
            <div className="flex justify-between text-sm text-[#A7A7A7]">
              <span>Distribui√ß√£o de resultados</span>
              <span>{totalProcessed} arquivos</span>
            </div>
            <div className="w-full bg-[#2C2C2C] rounded-full h-2 overflow-hidden">
              <div className="h-full flex">
                <div 
                  className="bg-[#27AE60]" 
                  style={{ width: `${successRate}%` }}
                ></div>
                <div 
                  className="bg-[#E74C3C]" 
                  style={{ width: `${errorRate}%` }}
                ></div>
                <div 
                  className="bg-[#F39C12]" 
                  style={{ width: `${ferragensRate}%` }}
                ></div>
              </div>
            </div>
          </div>
        )}
      </Card>

      {/* Arquivos recentes */}
      {recentFiles.length > 0 && (
        <Card className="p-4 bg-[#1B1B1B] border-[#2C2C2C]">
          <div className="flex items-center gap-2 mb-4">
            <Clock className="h-5 w-5 text-[#F1C40F]" />
            <h3 className="font-medium">Processados Recentemente</h3>
          </div>
          
          <div className="space-y-2 max-h-48 overflow-y-auto">
            {recentFiles.slice(-5).reverse().map((file, index) => (
              <div key={index} className="flex items-center justify-between p-2 bg-[#2C2C2C]/30 rounded">
                <div className="flex items-center gap-3">
                  {file.status === 'ok' && <CheckCircle2 className="h-4 w-4 text-[#27AE60]" />}
                  {file.status === 'erro' && <XCircle className="h-4 w-4 text-[#E74C3C]" />}
                  {file.status === 'FERRAGENS-ONLY' && <Package className="h-4 w-4 text-[#F39C12]" />}
                  
                  <div>
                    <div className="text-sm font-mono">{file.filename}</div>
                    <div className="text-xs text-[#A7A7A7]">{file.timestamp}</div>
                  </div>
                </div>
                
                <div className="flex items-center gap-2">
                  {file.autoFix.length > 0 && (
                    <Badge className="bg-[#1ABC9C]/10 text-[#1ABC9C] border-[#1ABC9C]/20 text-xs">
                      <Zap className="h-3 w-3 mr-1" />
                      Auto-fix
                    </Badge>
                  )}
                  
                  <Badge 
                    variant="outline" 
                    className={`text-xs ${
                      file.status === 'ok' 
                        ? 'text-[#27AE60] border-[#27AE60]/20' 
                        : file.status === 'erro'
                        ? 'text-[#E74C3C] border-[#E74C3C]/20'
                        : 'text-[#F39C12] border-[#F39C12]/20'
                    }`}
                  >
                    {file.status.toUpperCase()}
                  </Badge>
                </div>
              </div>
            ))}
          </div>
        </Card>
      )}
    </div>
  )
}
</file>

<file path="src/components/StatusChip.tsx">
// src/components/StatusChip.tsx
export type Status = "OK" | "ERRO" | "FERRAGENS-ONLY";

export function StatusChip({ status }: { status?: Status }) {
  const s = status ?? "-";
  const cfg =
    s === "OK"
      ? { label: "OK", cls: "text-emerald-400 border-emerald-400/30 bg-emerald-400/10" }
      : s === "ERRO"
      ? { label: "ERRO", cls: "text-rose-400 border-rose-400/30 bg-rose-400/10" }
      : s === "FERRAGENS-ONLY"
      ? { label: "FERRAGENS-ONLY", cls: "text-amber-400 border-amber-400/30 bg-amber-400/10" }
      : { label: s, cls: "text-zinc-300 border-zinc-600/50 bg-zinc-700/30" };

  return (
    <span className={`inline-flex items-center rounded border px-2 py-[2px] text-[10px] ${cfg.cls}`}>
      {cfg.label}
    </span>
  );
}
</file>

<file path="src/components/ui/accordion.tsx">
"use client";

import * as React from "react";
import * as AccordionPrimitive from "@radix-ui/react-accordion";
import { ChevronDownIcon } from "lucide-react";

import { cn } from "./utils";

function Accordion({
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Root>) {
  return <AccordionPrimitive.Root data-slot="accordion" {...props} />;
}

function AccordionItem({
  className,
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Item>) {
  return (
    <AccordionPrimitive.Item
      data-slot="accordion-item"
      className={cn("border-b last:border-b-0", className)}
      {...props}
    />
  );
}

function AccordionTrigger({
  className,
  children,
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Trigger>) {
  return (
    <AccordionPrimitive.Header className="flex">
      <AccordionPrimitive.Trigger
        data-slot="accordion-trigger"
        className={cn(
          "focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",
          className,
        )}
        {...props}
      >
        {children}
        <ChevronDownIcon className="text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200" />
      </AccordionPrimitive.Trigger>
    </AccordionPrimitive.Header>
  );
}

function AccordionContent({
  className,
  children,
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Content>) {
  return (
    <AccordionPrimitive.Content
      data-slot="accordion-content"
      className="data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm"
      {...props}
    >
      <div className={cn("pt-0 pb-4", className)}>{children}</div>
    </AccordionPrimitive.Content>
  );
}

export { Accordion, AccordionItem, AccordionTrigger, AccordionContent };
</file>

<file path="src/components/ui/alert-dialog.tsx">
"use client";

import * as React from "react";
import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog";

import { cn } from "./utils";
import { buttonVariants } from "./button";

function AlertDialog({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {
  return <AlertDialogPrimitive.Root data-slot="alert-dialog" {...props} />;
}

function AlertDialogTrigger({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {
  return (
    <AlertDialogPrimitive.Trigger data-slot="alert-dialog-trigger" {...props} />
  );
}

function AlertDialogPortal({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {
  return (
    <AlertDialogPrimitive.Portal data-slot="alert-dialog-portal" {...props} />
  );
}

function AlertDialogOverlay({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {
  return (
    <AlertDialogPrimitive.Overlay
      data-slot="alert-dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className,
      )}
      {...props}
    />
  );
}

function AlertDialogContent({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {
  return (
    <AlertDialogPortal>
      <AlertDialogOverlay />
      <AlertDialogPrimitive.Content
        data-slot="alert-dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",
          className,
        )}
        {...props}
      />
    </AlertDialogPortal>
  );
}

function AlertDialogHeader({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props}
    />
  );
}

function AlertDialogFooter({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className,
      )}
      {...props}
    />
  );
}

function AlertDialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {
  return (
    <AlertDialogPrimitive.Title
      data-slot="alert-dialog-title"
      className={cn("text-lg font-semibold", className)}
      {...props}
    />
  );
}

function AlertDialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {
  return (
    <AlertDialogPrimitive.Description
      data-slot="alert-dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  );
}

function AlertDialogAction({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {
  return (
    <AlertDialogPrimitive.Action
      className={cn(buttonVariants(), className)}
      {...props}
    />
  );
}

function AlertDialogCancel({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {
  return (
    <AlertDialogPrimitive.Cancel
      className={cn(buttonVariants({ variant: "outline" }), className)}
      {...props}
    />
  );
}

export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
};
</file>

<file path="src/components/ui/alert.tsx">
import * as React from "react";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "./utils";

const alertVariants = cva(
  "relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",
  {
    variants: {
      variant: {
        default: "bg-card text-card-foreground",
        destructive:
          "text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  },
);

function Alert({
  className,
  variant,
  ...props
}: React.ComponentProps<"div"> & VariantProps<typeof alertVariants>) {
  return (
    <div
      data-slot="alert"
      role="alert"
      className={cn(alertVariants({ variant }), className)}
      {...props}
    />
  );
}

function AlertTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-title"
      className={cn(
        "col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",
        className,
      )}
      {...props}
    />
  );
}

function AlertDescription({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-description"
      className={cn(
        "text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",
        className,
      )}
      {...props}
    />
  );
}

export { Alert, AlertTitle, AlertDescription };
</file>

<file path="src/components/ui/aspect-ratio.tsx">
"use client";

import * as AspectRatioPrimitive from "@radix-ui/react-aspect-ratio";

function AspectRatio({
  ...props
}: React.ComponentProps<typeof AspectRatioPrimitive.Root>) {
  return <AspectRatioPrimitive.Root data-slot="aspect-ratio" {...props} />;
}

export { AspectRatio };
</file>

<file path="src/components/ui/avatar.tsx">
"use client";

import * as React from "react";
import * as AvatarPrimitive from "@radix-ui/react-avatar";

import { cn } from "./utils";

function Avatar({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Root>) {
  return (
    <AvatarPrimitive.Root
      data-slot="avatar"
      className={cn(
        "relative flex size-10 shrink-0 overflow-hidden rounded-full",
        className,
      )}
      {...props}
    />
  );
}

function AvatarImage({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Image>) {
  return (
    <AvatarPrimitive.Image
      data-slot="avatar-image"
      className={cn("aspect-square size-full", className)}
      {...props}
    />
  );
}

function AvatarFallback({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {
  return (
    <AvatarPrimitive.Fallback
      data-slot="avatar-fallback"
      className={cn(
        "bg-muted flex size-full items-center justify-center rounded-full",
        className,
      )}
      {...props}
    />
  );
}

export { Avatar, AvatarImage, AvatarFallback };
</file>

<file path="src/components/ui/badge.tsx">
import * as React from "react";
import { Slot } from "@radix-ui/react-slot";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "./utils";

const badgeVariants = cva(
  "inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",
        destructive:
          "border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  },
);

function Badge({
  className,
  variant,
  asChild = false,
  ...props
}: React.ComponentProps<"span"> &
  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "span";

  return (
    <Comp
      data-slot="badge"
      className={cn(badgeVariants({ variant }), className)}
      {...props}
    />
  );
}

export { Badge, badgeVariants };
</file>

<file path="src/components/ui/breadcrumb.tsx">
import * as React from "react";
import { Slot } from "@radix-ui/react-slot";
import { ChevronRight, MoreHorizontal } from "lucide-react";

import { cn } from "./utils";

function Breadcrumb({ ...props }: React.ComponentProps<"nav">) {
  return <nav aria-label="breadcrumb" data-slot="breadcrumb" {...props} />;
}

function BreadcrumbList({ className, ...props }: React.ComponentProps<"ol">) {
  return (
    <ol
      data-slot="breadcrumb-list"
      className={cn(
        "text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",
        className,
      )}
      {...props}
    />
  );
}

function BreadcrumbItem({ className, ...props }: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="breadcrumb-item"
      className={cn("inline-flex items-center gap-1.5", className)}
      {...props}
    />
  );
}

function BreadcrumbLink({
  asChild,
  className,
  ...props
}: React.ComponentProps<"a"> & {
  asChild?: boolean;
}) {
  const Comp = asChild ? Slot : "a";

  return (
    <Comp
      data-slot="breadcrumb-link"
      className={cn("hover:text-foreground transition-colors", className)}
      {...props}
    />
  );
}

function BreadcrumbPage({ className, ...props }: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="breadcrumb-page"
      role="link"
      aria-disabled="true"
      aria-current="page"
      className={cn("text-foreground font-normal", className)}
      {...props}
    />
  );
}

function BreadcrumbSeparator({
  children,
  className,
  ...props
}: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="breadcrumb-separator"
      role="presentation"
      aria-hidden="true"
      className={cn("[&>svg]:size-3.5", className)}
      {...props}
    >
      {children ?? <ChevronRight />}
    </li>
  );
}

function BreadcrumbEllipsis({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="breadcrumb-ellipsis"
      role="presentation"
      aria-hidden="true"
      className={cn("flex size-9 items-center justify-center", className)}
      {...props}
    >
      <MoreHorizontal className="size-4" />
      <span className="sr-only">More</span>
    </span>
  );
}

export {
  Breadcrumb,
  BreadcrumbList,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbPage,
  BreadcrumbSeparator,
  BreadcrumbEllipsis,
};
</file>

<file path="src/components/ui/button.tsx">
import * as React from "react";
import { Slot } from "@radix-ui/react-slot";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "./utils";

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost:
          "hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2 has-[>svg]:px-3",
        sm: "h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",
        lg: "h-10 rounded-md px-6 has-[>svg]:px-4",
        icon: "size-9 rounded-md",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  },
);

function Button({
  className,
  variant,
  size,
  asChild = false,
  ...props
}: React.ComponentProps<"button"> &
  VariantProps<typeof buttonVariants> & {
    asChild?: boolean;
  }) {
  const Comp = asChild ? Slot : "button";

  return (
    <Comp
      data-slot="button"
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  );
}

export { Button, buttonVariants };
</file>

<file path="src/components/ui/calendar.tsx">
"use client";

import * as React from "react";
import { ChevronLeft, ChevronRight } from "lucide-react";
import { DayPicker } from "react-day-picker";

import { cn } from "./utils";
import { buttonVariants } from "./button";

function Calendar({
  className,
  classNames,
  showOutsideDays = true,
  ...props
}: React.ComponentProps<typeof DayPicker>) {
  return (
    <DayPicker
      showOutsideDays={showOutsideDays}
      className={cn("p-3", className)}
      classNames={{
        months: "flex flex-col sm:flex-row gap-2",
        month: "flex flex-col gap-4",
        caption: "flex justify-center pt-1 relative items-center w-full",
        caption_label: "text-sm font-medium",
        nav: "flex items-center gap-1",
        nav_button: cn(
          buttonVariants({ variant: "outline" }),
          "size-7 bg-transparent p-0 opacity-50 hover:opacity-100",
        ),
        nav_button_previous: "absolute left-1",
        nav_button_next: "absolute right-1",
        table: "w-full border-collapse space-x-1",
        head_row: "flex",
        head_cell:
          "text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",
        row: "flex w-full mt-2",
        cell: cn(
          "relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",
          props.mode === "range"
            ? "[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md"
            : "[&:has([aria-selected])]:rounded-md",
        ),
        day: cn(
          buttonVariants({ variant: "ghost" }),
          "size-8 p-0 font-normal aria-selected:opacity-100",
        ),
        day_range_start:
          "day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",
        day_range_end:
          "day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",
        day_selected:
          "bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",
        day_today: "bg-accent text-accent-foreground",
        day_outside:
          "day-outside text-muted-foreground aria-selected:text-muted-foreground",
        day_disabled: "text-muted-foreground opacity-50",
        day_range_middle:
          "aria-selected:bg-accent aria-selected:text-accent-foreground",
        day_hidden: "invisible",
        ...classNames,
      }}
      components={{
        IconLeft: ({ className, ...props }) => (
          <ChevronLeft className={cn("size-4", className)} {...props} />
        ),
        IconRight: ({ className, ...props }) => (
          <ChevronRight className={cn("size-4", className)} {...props} />
        ),
      }}
      {...props}
    />
  );
}

export { Calendar };
</file>

<file path="src/components/ui/card.tsx">
import * as React from "react";

import { cn } from "./utils";

function Card({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card"
      className={cn(
        "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",
        className,
      )}
      {...props}
    />
  );
}

function CardHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-header"
      className={cn(
        "@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",
        className,
      )}
      {...props}
    />
  );
}

function CardTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <h4
      data-slot="card-title"
      className={cn("leading-none", className)}
      {...props}
    />
  );
}

function CardDescription({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <p
      data-slot="card-description"
      className={cn("text-muted-foreground", className)}
      {...props}
    />
  );
}

function CardAction({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-action"
      className={cn(
        "col-start-2 row-span-2 row-start-1 self-start justify-self-end",
        className,
      )}
      {...props}
    />
  );
}

function CardContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-content"
      className={cn("px-6 [&:last-child]:pb-6", className)}
      {...props}
    />
  );
}

function CardFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-footer"
      className={cn("flex items-center px-6 pb-6 [.border-t]:pt-6", className)}
      {...props}
    />
  );
}

export {
  Card,
  CardHeader,
  CardFooter,
  CardTitle,
  CardAction,
  CardDescription,
  CardContent,
};
</file>

<file path="src/components/ui/carousel.tsx">
"use client";

import * as React from "react";
import useEmblaCarousel, {
  type UseEmblaCarouselType,
} from "embla-carousel-react";
import { ArrowLeft, ArrowRight } from "lucide-react";

import { cn } from "./utils";
import { Button } from "./button";

type CarouselApi = UseEmblaCarouselType[1];
type UseCarouselParameters = Parameters<typeof useEmblaCarousel>;
type CarouselOptions = UseCarouselParameters[0];
type CarouselPlugin = UseCarouselParameters[1];

type CarouselProps = {
  opts?: CarouselOptions;
  plugins?: CarouselPlugin;
  orientation?: "horizontal" | "vertical";
  setApi?: (api: CarouselApi) => void;
};

type CarouselContextProps = {
  carouselRef: ReturnType<typeof useEmblaCarousel>[0];
  api: ReturnType<typeof useEmblaCarousel>[1];
  scrollPrev: () => void;
  scrollNext: () => void;
  canScrollPrev: boolean;
  canScrollNext: boolean;
} & CarouselProps;

const CarouselContext = React.createContext<CarouselContextProps | null>(null);

function useCarousel() {
  const context = React.useContext(CarouselContext);

  if (!context) {
    throw new Error("useCarousel must be used within a <Carousel />");
  }

  return context;
}

function Carousel({
  orientation = "horizontal",
  opts,
  setApi,
  plugins,
  className,
  children,
  ...props
}: React.ComponentProps<"div"> & CarouselProps) {
  const [carouselRef, api] = useEmblaCarousel(
    {
      ...opts,
      axis: orientation === "horizontal" ? "x" : "y",
    },
    plugins,
  );
  const [canScrollPrev, setCanScrollPrev] = React.useState(false);
  const [canScrollNext, setCanScrollNext] = React.useState(false);

  const onSelect = React.useCallback((api: CarouselApi) => {
    if (!api) return;
    setCanScrollPrev(api.canScrollPrev());
    setCanScrollNext(api.canScrollNext());
  }, []);

  const scrollPrev = React.useCallback(() => {
    api?.scrollPrev();
  }, [api]);

  const scrollNext = React.useCallback(() => {
    api?.scrollNext();
  }, [api]);

  const handleKeyDown = React.useCallback(
    (event: React.KeyboardEvent<HTMLDivElement>) => {
      if (event.key === "ArrowLeft") {
        event.preventDefault();
        scrollPrev();
      } else if (event.key === "ArrowRight") {
        event.preventDefault();
        scrollNext();
      }
    },
    [scrollPrev, scrollNext],
  );

  React.useEffect(() => {
    if (!api || !setApi) return;
    setApi(api);
  }, [api, setApi]);

  React.useEffect(() => {
    if (!api) return;
    onSelect(api);
    api.on("reInit", onSelect);
    api.on("select", onSelect);

    return () => {
      api?.off("select", onSelect);
    };
  }, [api, onSelect]);

  return (
    <CarouselContext.Provider
      value={{
        carouselRef,
        api: api,
        opts,
        orientation:
          orientation || (opts?.axis === "y" ? "vertical" : "horizontal"),
        scrollPrev,
        scrollNext,
        canScrollPrev,
        canScrollNext,
      }}
    >
      <div
        onKeyDownCapture={handleKeyDown}
        className={cn("relative", className)}
        role="region"
        aria-roledescription="carousel"
        data-slot="carousel"
        {...props}
      >
        {children}
      </div>
    </CarouselContext.Provider>
  );
}

function CarouselContent({ className, ...props }: React.ComponentProps<"div">) {
  const { carouselRef, orientation } = useCarousel();

  return (
    <div
      ref={carouselRef}
      className="overflow-hidden"
      data-slot="carousel-content"
    >
      <div
        className={cn(
          "flex",
          orientation === "horizontal" ? "-ml-4" : "-mt-4 flex-col",
          className,
        )}
        {...props}
      />
    </div>
  );
}

function CarouselItem({ className, ...props }: React.ComponentProps<"div">) {
  const { orientation } = useCarousel();

  return (
    <div
      role="group"
      aria-roledescription="slide"
      data-slot="carousel-item"
      className={cn(
        "min-w-0 shrink-0 grow-0 basis-full",
        orientation === "horizontal" ? "pl-4" : "pt-4",
        className,
      )}
      {...props}
    />
  );
}

function CarouselPrevious({
  className,
  variant = "outline",
  size = "icon",
  ...props
}: React.ComponentProps<typeof Button>) {
  const { orientation, scrollPrev, canScrollPrev } = useCarousel();

  return (
    <Button
      data-slot="carousel-previous"
      variant={variant}
      size={size}
      className={cn(
        "absolute size-8 rounded-full",
        orientation === "horizontal"
          ? "top-1/2 -left-12 -translate-y-1/2"
          : "-top-12 left-1/2 -translate-x-1/2 rotate-90",
        className,
      )}
      disabled={!canScrollPrev}
      onClick={scrollPrev}
      {...props}
    >
      <ArrowLeft />
      <span className="sr-only">Previous slide</span>
    </Button>
  );
}

function CarouselNext({
  className,
  variant = "outline",
  size = "icon",
  ...props
}: React.ComponentProps<typeof Button>) {
  const { orientation, scrollNext, canScrollNext } = useCarousel();

  return (
    <Button
      data-slot="carousel-next"
      variant={variant}
      size={size}
      className={cn(
        "absolute size-8 rounded-full",
        orientation === "horizontal"
          ? "top-1/2 -right-12 -translate-y-1/2"
          : "-bottom-12 left-1/2 -translate-x-1/2 rotate-90",
        className,
      )}
      disabled={!canScrollNext}
      onClick={scrollNext}
      {...props}
    >
      <ArrowRight />
      <span className="sr-only">Next slide</span>
    </Button>
  );
}

export {
  type CarouselApi,
  Carousel,
  CarouselContent,
  CarouselItem,
  CarouselPrevious,
  CarouselNext,
};
</file>

<file path="src/components/ui/chart.tsx">
"use client";

import * as React from "react";
import * as RechartsPrimitive from "recharts";

import { cn } from "./utils";

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: "", dark: ".dark" } as const;

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode;
    icon?: React.ComponentType;
  } & (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record<keyof typeof THEMES, string> }
  );
};

type ChartContextProps = {
  config: ChartConfig;
};

const ChartContext = React.createContext<ChartContextProps | null>(null);

function useChart() {
  const context = React.useContext(ChartContext);

  if (!context) {
    throw new Error("useChart must be used within a <ChartContainer />");
  }

  return context;
}

function ChartContainer({
  id,
  className,
  children,
  config,
  ...props
}: React.ComponentProps<"div"> & {
  config: ChartConfig;
  children: React.ComponentProps<
    typeof RechartsPrimitive.ResponsiveContainer
  >["children"];
}) {
  const uniqueId = React.useId();
  const chartId = `chart-${id || uniqueId.replace(/:/g, "")}`;

  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-slot="chart"
        data-chart={chartId}
        className={cn(
          "[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",
          className,
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>
          {children}
        </RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  );
}

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(
    ([, config]) => config.theme || config.color,
  );

  if (!colorConfig.length) {
    return null;
  }

  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color;
    return color ? `  --color-${key}: ${color};` : null;
  })
  .join("\n")}
}
`,
          )
          .join("\n"),
      }}
    />
  );
};

const ChartTooltip = RechartsPrimitive.Tooltip;

function ChartTooltipContent({
  active,
  payload,
  className,
  indicator = "dot",
  hideLabel = false,
  hideIndicator = false,
  label,
  labelFormatter,
  labelClassName,
  formatter,
  color,
  nameKey,
  labelKey,
}: React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
  React.ComponentProps<"div"> & {
    hideLabel?: boolean;
    hideIndicator?: boolean;
    indicator?: "line" | "dot" | "dashed";
    nameKey?: string;
    labelKey?: string;
  }) {
  const { config } = useChart();

  const tooltipLabel = React.useMemo(() => {
    if (hideLabel || !payload?.length) {
      return null;
    }

    const [item] = payload;
    const key = `${labelKey || item?.dataKey || item?.name || "value"}`;
    const itemConfig = getPayloadConfigFromPayload(config, item, key);
    const value =
      !labelKey && typeof label === "string"
        ? config[label as keyof typeof config]?.label || label
        : itemConfig?.label;

    if (labelFormatter) {
      return (
        <div className={cn("font-medium", labelClassName)}>
          {labelFormatter(value, payload)}
        </div>
      );
    }

    if (!value) {
      return null;
    }

    return <div className={cn("font-medium", labelClassName)}>{value}</div>;
  }, [
    label,
    labelFormatter,
    payload,
    hideLabel,
    labelClassName,
    config,
    labelKey,
  ]);

  if (!active || !payload?.length) {
    return null;
  }

  const nestLabel = payload.length === 1 && indicator !== "dot";

  return (
    <div
      className={cn(
        "border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",
        className,
      )}
    >
      {!nestLabel ? tooltipLabel : null}
      <div className="grid gap-1.5">
        {payload.map((item, index) => {
          const key = `${nameKey || item.name || item.dataKey || "value"}`;
          const itemConfig = getPayloadConfigFromPayload(config, item, key);
          const indicatorColor = color || item.payload.fill || item.color;

          return (
            <div
              key={item.dataKey}
              className={cn(
                "[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5",
                indicator === "dot" && "items-center",
              )}
            >
              {formatter && item?.value !== undefined && item.name ? (
                formatter(item.value, item.name, item, index, item.payload)
              ) : (
                <>
                  {itemConfig?.icon ? (
                    <itemConfig.icon />
                  ) : (
                    !hideIndicator && (
                      <div
                        className={cn(
                          "shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",
                          {
                            "h-2.5 w-2.5": indicator === "dot",
                            "w-1": indicator === "line",
                            "w-0 border-[1.5px] border-dashed bg-transparent":
                              indicator === "dashed",
                            "my-0.5": nestLabel && indicator === "dashed",
                          },
                        )}
                        style={
                          {
                            "--color-bg": indicatorColor,
                            "--color-border": indicatorColor,
                          } as React.CSSProperties
                        }
                      />
                    )
                  )}
                  <div
                    className={cn(
                      "flex flex-1 justify-between leading-none",
                      nestLabel ? "items-end" : "items-center",
                    )}
                  >
                    <div className="grid gap-1.5">
                      {nestLabel ? tooltipLabel : null}
                      <span className="text-muted-foreground">
                        {itemConfig?.label || item.name}
                      </span>
                    </div>
                    {item.value && (
                      <span className="text-foreground font-mono font-medium tabular-nums">
                        {item.value.toLocaleString()}
                      </span>
                    )}
                  </div>
                </>
              )}
            </div>
          );
        })}
      </div>
    </div>
  );
}

const ChartLegend = RechartsPrimitive.Legend;

function ChartLegendContent({
  className,
  hideIcon = false,
  payload,
  verticalAlign = "bottom",
  nameKey,
}: React.ComponentProps<"div"> &
  Pick<RechartsPrimitive.LegendProps, "payload" | "verticalAlign"> & {
    hideIcon?: boolean;
    nameKey?: string;
  }) {
  const { config } = useChart();

  if (!payload?.length) {
    return null;
  }

  return (
    <div
      className={cn(
        "flex items-center justify-center gap-4",
        verticalAlign === "top" ? "pb-3" : "pt-3",
        className,
      )}
    >
      {payload.map((item) => {
        const key = `${nameKey || item.dataKey || "value"}`;
        const itemConfig = getPayloadConfigFromPayload(config, item, key);

        return (
          <div
            key={item.value}
            className={cn(
              "[&>svg]:text-muted-foreground flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3",
            )}
          >
            {itemConfig?.icon && !hideIcon ? (
              <itemConfig.icon />
            ) : (
              <div
                className="h-2 w-2 shrink-0 rounded-[2px]"
                style={{
                  backgroundColor: item.color,
                }}
              />
            )}
            {itemConfig?.label}
          </div>
        );
      })}
    </div>
  );
}

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string,
) {
  if (typeof payload !== "object" || payload === null) {
    return undefined;
  }

  const payloadPayload =
    "payload" in payload &&
    typeof payload.payload === "object" &&
    payload.payload !== null
      ? payload.payload
      : undefined;

  let configLabelKey: string = key;

  if (
    key in payload &&
    typeof payload[key as keyof typeof payload] === "string"
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string;
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === "string"
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string;
  }

  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config];
}

export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
};
</file>

<file path="src/components/ui/checkbox.tsx">
"use client";

import * as React from "react";
import * as CheckboxPrimitive from "@radix-ui/react-checkbox";
import { CheckIcon } from "lucide-react";

import { cn } from "./utils";

function Checkbox({
  className,
  ...props
}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {
  return (
    <CheckboxPrimitive.Root
      data-slot="checkbox"
      className={cn(
        "peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className,
      )}
      {...props}
    >
      <CheckboxPrimitive.Indicator
        data-slot="checkbox-indicator"
        className="flex items-center justify-center text-current transition-none"
      >
        <CheckIcon className="size-3.5" />
      </CheckboxPrimitive.Indicator>
    </CheckboxPrimitive.Root>
  );
}

export { Checkbox };
</file>

<file path="src/components/ui/chip-filter.tsx">
import * as React from "react"
import { cn } from "./utils"

type FilterTag = "all" | "ok" | "erro" | "muxarabi" | "coringa" | "ferragens" | "precoZero" | "qtdZero"

interface ChipFilterProps {
  label: string
  tag: FilterTag
  selected?: boolean
  disabled?: boolean
  onClick?: () => void
  className?: string
}

const iconMap: Record<FilterTag, string> = {
  all: "‚éØ",
  ok: "‚úì", 
  erro: "‚úï",
  muxarabi: "üß©",
  coringa: "üé®",
  ferragens: "üõ†Ô∏è",
  precoZero: "üí≤",
  qtdZero: "#Ô∏è‚É£"
}

const iconColorMap: Record<FilterTag, string> = {
  all: "currentColor",
  ok: "#27AE60",
  erro: "#E74C3C", 
  muxarabi: "currentColor",
  coringa: "currentColor",
  ferragens: "currentColor",
  precoZero: "currentColor",
  qtdZero: "currentColor"
}

const ChipFilter = React.forwardRef<HTMLButtonElement, ChipFilterProps>(
  ({ label, tag, selected = false, disabled = false, onClick, className, ...props }, ref) => {
    const icon = iconMap[tag]
    const iconColor = iconColorMap[tag]
    
    return (
      <button
        ref={ref}
        type="button"
        disabled={disabled}
        onClick={onClick}
        className={cn(
          // Base styles
          "inline-flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg border transition-all duration-200",
          "text-sm font-medium leading-none",
          "min-h-[36px]", // Accessibility minimum touch target
          
          // Default state
          "bg-[#1C1F26] border-[#2A2F3A] text-[#EAECEF]",
          
          // Hover state (when not selected and not disabled)
          !selected && !disabled && "hover:bg-[#232834]",
          
          // Selected state
          selected && "bg-[#111111] border-[#F1C40F] text-[#F1C40F]",
          
          // Disabled state
          disabled && "opacity-40 cursor-not-allowed",
          
          // Focus state
          "focus:outline-none focus:ring-2 focus:ring-[#F1C40F] focus:ring-offset-2 focus:ring-offset-[#111111]",
          
          className
        )}
        {...props}
      >
        {icon && (
          <span 
            className="text-sm leading-none"
            style={{ 
              color: selected ? "#F1C40F" : iconColor === "currentColor" ? "currentColor" : iconColor 
            }}
          >
            {icon}
          </span>
        )}
        <span className="whitespace-nowrap">{label}</span>
      </button>
    )
  }
)

ChipFilter.displayName = "ChipFilter"

export { ChipFilter, type FilterTag, type ChipFilterProps }
</file>

<file path="src/components/ui/collapsible.tsx">
"use client";

import * as CollapsiblePrimitive from "@radix-ui/react-collapsible";

function Collapsible({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.Root>) {
  return <CollapsiblePrimitive.Root data-slot="collapsible" {...props} />;
}

function CollapsibleTrigger({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleTrigger>) {
  return (
    <CollapsiblePrimitive.CollapsibleTrigger
      data-slot="collapsible-trigger"
      {...props}
    />
  );
}

function CollapsibleContent({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleContent>) {
  return (
    <CollapsiblePrimitive.CollapsibleContent
      data-slot="collapsible-content"
      {...props}
    />
  );
}

export { Collapsible, CollapsibleTrigger, CollapsibleContent };
</file>

<file path="src/components/ui/command.tsx">
"use client";

import * as React from "react";
import { Command as CommandPrimitive } from "cmdk";
import { SearchIcon } from "lucide-react";

import { cn } from "./utils";
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
} from "./dialog";

function Command({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive>) {
  return (
    <CommandPrimitive
      data-slot="command"
      className={cn(
        "bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",
        className,
      )}
      {...props}
    />
  );
}

function CommandDialog({
  title = "Command Palette",
  description = "Search for a command to run...",
  children,
  ...props
}: React.ComponentProps<typeof Dialog> & {
  title?: string;
  description?: string;
}) {
  return (
    <Dialog {...props}>
      <DialogHeader className="sr-only">
        <DialogTitle>{title}</DialogTitle>
        <DialogDescription>{description}</DialogDescription>
      </DialogHeader>
      <DialogContent className="overflow-hidden p-0">
        <Command className="[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  );
}

function CommandInput({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Input>) {
  return (
    <div
      data-slot="command-input-wrapper"
      className="flex h-9 items-center gap-2 border-b px-3"
    >
      <SearchIcon className="size-4 shrink-0 opacity-50" />
      <CommandPrimitive.Input
        data-slot="command-input"
        className={cn(
          "placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",
          className,
        )}
        {...props}
      />
    </div>
  );
}

function CommandList({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.List>) {
  return (
    <CommandPrimitive.List
      data-slot="command-list"
      className={cn(
        "max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",
        className,
      )}
      {...props}
    />
  );
}

function CommandEmpty({
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Empty>) {
  return (
    <CommandPrimitive.Empty
      data-slot="command-empty"
      className="py-6 text-center text-sm"
      {...props}
    />
  );
}

function CommandGroup({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Group>) {
  return (
    <CommandPrimitive.Group
      data-slot="command-group"
      className={cn(
        "text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",
        className,
      )}
      {...props}
    />
  );
}

function CommandSeparator({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Separator>) {
  return (
    <CommandPrimitive.Separator
      data-slot="command-separator"
      className={cn("bg-border -mx-1 h-px", className)}
      {...props}
    />
  );
}

function CommandItem({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Item>) {
  return (
    <CommandPrimitive.Item
      data-slot="command-item"
      className={cn(
        "data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  );
}

function CommandShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="command-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className,
      )}
      {...props}
    />
  );
}

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
};
</file>

<file path="src/components/ui/context-menu.tsx">
"use client";

import * as React from "react";
import * as ContextMenuPrimitive from "@radix-ui/react-context-menu";
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react";

import { cn } from "./utils";

function ContextMenu({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Root>) {
  return <ContextMenuPrimitive.Root data-slot="context-menu" {...props} />;
}

function ContextMenuTrigger({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Trigger>) {
  return (
    <ContextMenuPrimitive.Trigger data-slot="context-menu-trigger" {...props} />
  );
}

function ContextMenuGroup({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Group>) {
  return (
    <ContextMenuPrimitive.Group data-slot="context-menu-group" {...props} />
  );
}

function ContextMenuPortal({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Portal>) {
  return (
    <ContextMenuPrimitive.Portal data-slot="context-menu-portal" {...props} />
  );
}

function ContextMenuSub({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Sub>) {
  return <ContextMenuPrimitive.Sub data-slot="context-menu-sub" {...props} />;
}

function ContextMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.RadioGroup>) {
  return (
    <ContextMenuPrimitive.RadioGroup
      data-slot="context-menu-radio-group"
      {...props}
    />
  );
}

function ContextMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.SubTrigger> & {
  inset?: boolean;
}) {
  return (
    <ContextMenuPrimitive.SubTrigger
      data-slot="context-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto" />
    </ContextMenuPrimitive.SubTrigger>
  );
}

function ContextMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.SubContent>) {
  return (
    <ContextMenuPrimitive.SubContent
      data-slot="context-menu-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className,
      )}
      {...props}
    />
  );
}

function ContextMenuContent({
  className,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Content>) {
  return (
    <ContextMenuPrimitive.Portal>
      <ContextMenuPrimitive.Content
        data-slot="context-menu-content"
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",
          className,
        )}
        {...props}
      />
    </ContextMenuPrimitive.Portal>
  );
}

function ContextMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Item> & {
  inset?: boolean;
  variant?: "default" | "destructive";
}) {
  return (
    <ContextMenuPrimitive.Item
      data-slot="context-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  );
}

function ContextMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.CheckboxItem>) {
  return (
    <ContextMenuPrimitive.CheckboxItem
      data-slot="context-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <ContextMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </ContextMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </ContextMenuPrimitive.CheckboxItem>
  );
}

function ContextMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.RadioItem>) {
  return (
    <ContextMenuPrimitive.RadioItem
      data-slot="context-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <ContextMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </ContextMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </ContextMenuPrimitive.RadioItem>
  );
}

function ContextMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Label> & {
  inset?: boolean;
}) {
  return (
    <ContextMenuPrimitive.Label
      data-slot="context-menu-label"
      data-inset={inset}
      className={cn(
        "text-foreground px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className,
      )}
      {...props}
    />
  );
}

function ContextMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Separator>) {
  return (
    <ContextMenuPrimitive.Separator
      data-slot="context-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  );
}

function ContextMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="context-menu-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className,
      )}
      {...props}
    />
  );
}

export {
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuCheckboxItem,
  ContextMenuRadioItem,
  ContextMenuLabel,
  ContextMenuSeparator,
  ContextMenuShortcut,
  ContextMenuGroup,
  ContextMenuPortal,
  ContextMenuSub,
  ContextMenuSubContent,
  ContextMenuSubTrigger,
  ContextMenuRadioGroup,
};
</file>

<file path="src/components/ui/dialog.tsx">
"use client";

import * as React from "react";
import * as DialogPrimitive from "@radix-ui/react-dialog";
import { XIcon } from "lucide-react";

import { cn } from "./utils";

function Dialog({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Root>) {
  return <DialogPrimitive.Root data-slot="dialog" {...props} />;
}

function DialogTrigger({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {
  return <DialogPrimitive.Trigger data-slot="dialog-trigger" {...props} />;
}

function DialogPortal({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Portal>) {
  return <DialogPrimitive.Portal data-slot="dialog-portal" {...props} />;
}

function DialogClose({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Close>) {
  return <DialogPrimitive.Close data-slot="dialog-close" {...props} />;
}

function DialogOverlay({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {
  return (
    <DialogPrimitive.Overlay
      data-slot="dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className,
      )}
      {...props}
    />
  );
}

function DialogContent({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Content>) {
  return (
    <DialogPortal data-slot="dialog-portal">
      <DialogOverlay />
      <DialogPrimitive.Content
        data-slot="dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",
          className,
        )}
        {...props}
      >
        {children}
        <DialogPrimitive.Close className="ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4">
          <XIcon />
          <span className="sr-only">Close</span>
        </DialogPrimitive.Close>
      </DialogPrimitive.Content>
    </DialogPortal>
  );
}

function DialogHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props}
    />
  );
}

function DialogFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className,
      )}
      {...props}
    />
  );
}

function DialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Title>) {
  return (
    <DialogPrimitive.Title
      data-slot="dialog-title"
      className={cn("text-lg leading-none font-semibold", className)}
      {...props}
    />
  );
}

function DialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Description>) {
  return (
    <DialogPrimitive.Description
      data-slot="dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  );
}

export {
  Dialog,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogOverlay,
  DialogPortal,
  DialogTitle,
  DialogTrigger,
};
</file>

<file path="src/components/ui/drawer.tsx">
"use client";

import * as React from "react";
import { Drawer as DrawerPrimitive } from "vaul";

import { cn } from "./utils";

function Drawer({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Root>) {
  return <DrawerPrimitive.Root data-slot="drawer" {...props} />;
}

function DrawerTrigger({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Trigger>) {
  return <DrawerPrimitive.Trigger data-slot="drawer-trigger" {...props} />;
}

function DrawerPortal({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Portal>) {
  return <DrawerPrimitive.Portal data-slot="drawer-portal" {...props} />;
}

function DrawerClose({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Close>) {
  return <DrawerPrimitive.Close data-slot="drawer-close" {...props} />;
}

function DrawerOverlay({
  className,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Overlay>) {
  return (
    <DrawerPrimitive.Overlay
      data-slot="drawer-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className,
      )}
      {...props}
    />
  );
}

function DrawerContent({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Content>) {
  return (
    <DrawerPortal data-slot="drawer-portal">
      <DrawerOverlay />
      <DrawerPrimitive.Content
        data-slot="drawer-content"
        className={cn(
          "group/drawer-content bg-background fixed z-50 flex h-auto flex-col",
          "data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b",
          "data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t",
          "data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm",
          "data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",
          className,
        )}
        {...props}
      >
        <div className="bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block" />
        {children}
      </DrawerPrimitive.Content>
    </DrawerPortal>
  );
}

function DrawerHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="drawer-header"
      className={cn("flex flex-col gap-1.5 p-4", className)}
      {...props}
    />
  );
}

function DrawerFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="drawer-footer"
      className={cn("mt-auto flex flex-col gap-2 p-4", className)}
      {...props}
    />
  );
}

function DrawerTitle({
  className,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Title>) {
  return (
    <DrawerPrimitive.Title
      data-slot="drawer-title"
      className={cn("text-foreground font-semibold", className)}
      {...props}
    />
  );
}

function DrawerDescription({
  className,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Description>) {
  return (
    <DrawerPrimitive.Description
      data-slot="drawer-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  );
}

export {
  Drawer,
  DrawerPortal,
  DrawerOverlay,
  DrawerTrigger,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerFooter,
  DrawerTitle,
  DrawerDescription,
};
</file>

<file path="src/components/ui/dropdown-menu.tsx">
"use client";

import * as React from "react";
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu";
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react";

import { cn } from "./utils";

function DropdownMenu({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {
  return <DropdownMenuPrimitive.Root data-slot="dropdown-menu" {...props} />;
}

function DropdownMenuPortal({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {
  return (
    <DropdownMenuPrimitive.Portal data-slot="dropdown-menu-portal" {...props} />
  );
}

function DropdownMenuTrigger({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {
  return (
    <DropdownMenuPrimitive.Trigger
      data-slot="dropdown-menu-trigger"
      {...props}
    />
  );
}

function DropdownMenuContent({
  className,
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {
  return (
    <DropdownMenuPrimitive.Portal>
      <DropdownMenuPrimitive.Content
        data-slot="dropdown-menu-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",
          className,
        )}
        {...props}
      />
    </DropdownMenuPrimitive.Portal>
  );
}

function DropdownMenuGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {
  return (
    <DropdownMenuPrimitive.Group data-slot="dropdown-menu-group" {...props} />
  );
}

function DropdownMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {
  inset?: boolean;
  variant?: "default" | "destructive";
}) {
  return (
    <DropdownMenuPrimitive.Item
      data-slot="dropdown-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  );
}

function DropdownMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {
  return (
    <DropdownMenuPrimitive.CheckboxItem
      data-slot="dropdown-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.CheckboxItem>
  );
}

function DropdownMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {
  return (
    <DropdownMenuPrimitive.RadioGroup
      data-slot="dropdown-menu-radio-group"
      {...props}
    />
  );
}

function DropdownMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {
  return (
    <DropdownMenuPrimitive.RadioItem
      data-slot="dropdown-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.RadioItem>
  );
}

function DropdownMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {
  inset?: boolean;
}) {
  return (
    <DropdownMenuPrimitive.Label
      data-slot="dropdown-menu-label"
      data-inset={inset}
      className={cn(
        "px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className,
      )}
      {...props}
    />
  );
}

function DropdownMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {
  return (
    <DropdownMenuPrimitive.Separator
      data-slot="dropdown-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  );
}

function DropdownMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="dropdown-menu-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className,
      )}
      {...props}
    />
  );
}

function DropdownMenuSub({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {
  return <DropdownMenuPrimitive.Sub data-slot="dropdown-menu-sub" {...props} />;
}

function DropdownMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {
  inset?: boolean;
}) {
  return (
    <DropdownMenuPrimitive.SubTrigger
      data-slot="dropdown-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",
        className,
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto size-4" />
    </DropdownMenuPrimitive.SubTrigger>
  );
}

function DropdownMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {
  return (
    <DropdownMenuPrimitive.SubContent
      data-slot="dropdown-menu-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className,
      )}
      {...props}
    />
  );
}

export {
  DropdownMenu,
  DropdownMenuPortal,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuLabel,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuSub,
  DropdownMenuSubTrigger,
  DropdownMenuSubContent,
};
</file>

<file path="src/components/ui/filter-bar.tsx">
import * as React from "react"
import { cn } from "./utils"
import { ChipFilter, type FilterTag } from "./chip-filter"

interface FilterBarProps {
  selectedTag?: FilterTag
  onTagChange?: (tag: FilterTag) => void
  className?: string
}

const filterItems = [
  { label: "Todos", tag: "all" as FilterTag },
  { label: "Corretos", tag: "ok" as FilterTag },
  { label: "Inconformidades", tag: "erro" as FilterTag },
  { label: "Muxarabi", tag: "muxarabi" as FilterTag },
  { label: "Cor Coringa", tag: "coringa" as FilterTag },
  { label: "S√≥ Ferragens", tag: "ferragens" as FilterTag },
  { label: "Pre√ßo 0.00", tag: "precoZero" as FilterTag },
  { label: "Qtd 0", tag: "qtdZero" as FilterTag },
]

const FilterBar = React.forwardRef<HTMLDivElement, FilterBarProps>(
  ({ selectedTag = "all", onTagChange, className, ...props }, ref) => {
    return (
      <div
        ref={ref}
        className={cn(
          "flex flex-wrap items-center gap-2 py-2 bg-[#111111]",
          className
        )}
        {...props}
      >
        {filterItems.map(({ label, tag }) => (
          <ChipFilter
            key={tag}
            label={label}
            tag={tag}
            selected={selectedTag === tag}
            onClick={() => onTagChange?.(tag)}
          />
        ))}
      </div>
    )
  }
)

FilterBar.displayName = "FilterBar"

export { FilterBar, type FilterBarProps }
</file>

<file path="src/components/ui/form.tsx">
"use client";

import * as React from "react";
import * as LabelPrimitive from "@radix-ui/react-label";
import { Slot } from "@radix-ui/react-slot";
import {
  Controller,
  FormProvider,
  useFormContext,
  useFormState,
  type ControllerProps,
  type FieldPath,
  type FieldValues,
} from "react-hook-form";

import { cn } from "./utils";
import { Label } from "./label";

const Form = FormProvider;

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
> = {
  name: TName;
};

const FormFieldContext = React.createContext<FormFieldContextValue>(
  {} as FormFieldContextValue,
);

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  );
};

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext);
  const itemContext = React.useContext(FormItemContext);
  const { getFieldState } = useFormContext();
  const formState = useFormState({ name: fieldContext.name });
  const fieldState = getFieldState(fieldContext.name, formState);

  if (!fieldContext) {
    throw new Error("useFormField should be used within <FormField>");
  }

  const { id } = itemContext;

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  };
};

type FormItemContextValue = {
  id: string;
};

const FormItemContext = React.createContext<FormItemContextValue>(
  {} as FormItemContextValue,
);

function FormItem({ className, ...props }: React.ComponentProps<"div">) {
  const id = React.useId();

  return (
    <FormItemContext.Provider value={{ id }}>
      <div
        data-slot="form-item"
        className={cn("grid gap-2", className)}
        {...props}
      />
    </FormItemContext.Provider>
  );
}

function FormLabel({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  const { error, formItemId } = useFormField();

  return (
    <Label
      data-slot="form-label"
      data-error={!!error}
      className={cn("data-[error=true]:text-destructive", className)}
      htmlFor={formItemId}
      {...props}
    />
  );
}

function FormControl({ ...props }: React.ComponentProps<typeof Slot>) {
  const { error, formItemId, formDescriptionId, formMessageId } =
    useFormField();

  return (
    <Slot
      data-slot="form-control"
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  );
}

function FormDescription({ className, ...props }: React.ComponentProps<"p">) {
  const { formDescriptionId } = useFormField();

  return (
    <p
      data-slot="form-description"
      id={formDescriptionId}
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  );
}

function FormMessage({ className, ...props }: React.ComponentProps<"p">) {
  const { error, formMessageId } = useFormField();
  const body = error ? String(error?.message ?? "") : props.children;

  if (!body) {
    return null;
  }

  return (
    <p
      data-slot="form-message"
      id={formMessageId}
      className={cn("text-destructive text-sm", className)}
      {...props}
    >
      {body}
    </p>
  );
}

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
};
</file>

<file path="src/components/ui/hover-card.tsx">
"use client";

import * as React from "react";
import * as HoverCardPrimitive from "@radix-ui/react-hover-card";

import { cn } from "./utils";

function HoverCard({
  ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Root>) {
  return <HoverCardPrimitive.Root data-slot="hover-card" {...props} />;
}

function HoverCardTrigger({
  ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Trigger>) {
  return (
    <HoverCardPrimitive.Trigger data-slot="hover-card-trigger" {...props} />
  );
}

function HoverCardContent({
  className,
  align = "center",
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Content>) {
  return (
    <HoverCardPrimitive.Portal data-slot="hover-card-portal">
      <HoverCardPrimitive.Content
        data-slot="hover-card-content"
        align={align}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",
          className,
        )}
        {...props}
      />
    </HoverCardPrimitive.Portal>
  );
}

export { HoverCard, HoverCardTrigger, HoverCardContent };
</file>

<file path="src/components/ui/input-otp.tsx">
"use client";

import * as React from "react";
import { OTPInput, OTPInputContext } from "input-otp";
import { MinusIcon } from "lucide-react";

import { cn } from "./utils";

function InputOTP({
  className,
  containerClassName,
  ...props
}: React.ComponentProps<typeof OTPInput> & {
  containerClassName?: string;
}) {
  return (
    <OTPInput
      data-slot="input-otp"
      containerClassName={cn(
        "flex items-center gap-2 has-disabled:opacity-50",
        containerClassName,
      )}
      className={cn("disabled:cursor-not-allowed", className)}
      {...props}
    />
  );
}

function InputOTPGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="input-otp-group"
      className={cn("flex items-center gap-1", className)}
      {...props}
    />
  );
}

function InputOTPSlot({
  index,
  className,
  ...props
}: React.ComponentProps<"div"> & {
  index: number;
}) {
  const inputOTPContext = React.useContext(OTPInputContext);
  const { char, hasFakeCaret, isActive } = inputOTPContext?.slots[index] ?? {};

  return (
    <div
      data-slot="input-otp-slot"
      data-active={isActive}
      className={cn(
        "data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm bg-input-background transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",
        className,
      )}
      {...props}
    >
      {char}
      {hasFakeCaret && (
        <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
          <div className="animate-caret-blink bg-foreground h-4 w-px duration-1000" />
        </div>
      )}
    </div>
  );
}

function InputOTPSeparator({ ...props }: React.ComponentProps<"div">) {
  return (
    <div data-slot="input-otp-separator" role="separator" {...props}>
      <MinusIcon />
    </div>
  );
}

export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator };
</file>

<file path="src/components/ui/input.tsx">
import * as React from "react";

import { cn } from "./utils";

function Input({ className, type, ...props }: React.ComponentProps<"input">) {
  return (
    <input
      type={type}
      data-slot="input"
      className={cn(
        "file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",
        "aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
        className,
      )}
      {...props}
    />
  );
}

export { Input };
</file>

<file path="src/components/ui/label.tsx">
"use client";

import * as React from "react";
import * as LabelPrimitive from "@radix-ui/react-label";

import { cn } from "./utils";

function Label({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  return (
    <LabelPrimitive.Root
      data-slot="label"
      className={cn(
        "flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",
        className,
      )}
      {...props}
    />
  );
}

export { Label };
</file>

<file path="src/components/ui/menubar.tsx">
"use client";

import * as React from "react";
import * as MenubarPrimitive from "@radix-ui/react-menubar";
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react";

import { cn } from "./utils";

function Menubar({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Root>) {
  return (
    <MenubarPrimitive.Root
      data-slot="menubar"
      className={cn(
        "bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",
        className,
      )}
      {...props}
    />
  );
}

function MenubarMenu({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {
  return <MenubarPrimitive.Menu data-slot="menubar-menu" {...props} />;
}

function MenubarGroup({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Group>) {
  return <MenubarPrimitive.Group data-slot="menubar-group" {...props} />;
}

function MenubarPortal({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {
  return <MenubarPrimitive.Portal data-slot="menubar-portal" {...props} />;
}

function MenubarRadioGroup({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {
  return (
    <MenubarPrimitive.RadioGroup data-slot="menubar-radio-group" {...props} />
  );
}

function MenubarTrigger({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Trigger>) {
  return (
    <MenubarPrimitive.Trigger
      data-slot="menubar-trigger"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",
        className,
      )}
      {...props}
    />
  );
}

function MenubarContent({
  className,
  align = "start",
  alignOffset = -4,
  sideOffset = 8,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Content>) {
  return (
    <MenubarPortal>
      <MenubarPrimitive.Content
        data-slot="menubar-content"
        align={align}
        alignOffset={alignOffset}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md",
          className,
        )}
        {...props}
      />
    </MenubarPortal>
  );
}

function MenubarItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Item> & {
  inset?: boolean;
  variant?: "default" | "destructive";
}) {
  return (
    <MenubarPrimitive.Item
      data-slot="menubar-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  );
}

function MenubarCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.CheckboxItem>) {
  return (
    <MenubarPrimitive.CheckboxItem
      data-slot="menubar-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <MenubarPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </MenubarPrimitive.ItemIndicator>
      </span>
      {children}
    </MenubarPrimitive.CheckboxItem>
  );
}

function MenubarRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.RadioItem>) {
  return (
    <MenubarPrimitive.RadioItem
      data-slot="menubar-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <MenubarPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </MenubarPrimitive.ItemIndicator>
      </span>
      {children}
    </MenubarPrimitive.RadioItem>
  );
}

function MenubarLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Label> & {
  inset?: boolean;
}) {
  return (
    <MenubarPrimitive.Label
      data-slot="menubar-label"
      data-inset={inset}
      className={cn(
        "px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className,
      )}
      {...props}
    />
  );
}

function MenubarSeparator({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Separator>) {
  return (
    <MenubarPrimitive.Separator
      data-slot="menubar-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  );
}

function MenubarShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="menubar-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className,
      )}
      {...props}
    />
  );
}

function MenubarSub({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {
  return <MenubarPrimitive.Sub data-slot="menubar-sub" {...props} />;
}

function MenubarSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.SubTrigger> & {
  inset?: boolean;
}) {
  return (
    <MenubarPrimitive.SubTrigger
      data-slot="menubar-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-none select-none data-[inset]:pl-8",
        className,
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto h-4 w-4" />
    </MenubarPrimitive.SubTrigger>
  );
}

function MenubarSubContent({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.SubContent>) {
  return (
    <MenubarPrimitive.SubContent
      data-slot="menubar-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className,
      )}
      {...props}
    />
  );
}

export {
  Menubar,
  MenubarPortal,
  MenubarMenu,
  MenubarTrigger,
  MenubarContent,
  MenubarGroup,
  MenubarSeparator,
  MenubarLabel,
  MenubarItem,
  MenubarShortcut,
  MenubarCheckboxItem,
  MenubarRadioGroup,
  MenubarRadioItem,
  MenubarSub,
  MenubarSubTrigger,
  MenubarSubContent,
};
</file>

<file path="src/components/ui/navigation-menu.tsx">
import * as React from "react";
import * as NavigationMenuPrimitive from "@radix-ui/react-navigation-menu";
import { cva } from "class-variance-authority";
import { ChevronDownIcon } from "lucide-react";

import { cn } from "./utils";

function NavigationMenu({
  className,
  children,
  viewport = true,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Root> & {
  viewport?: boolean;
}) {
  return (
    <NavigationMenuPrimitive.Root
      data-slot="navigation-menu"
      data-viewport={viewport}
      className={cn(
        "group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",
        className,
      )}
      {...props}
    >
      {children}
      {viewport && <NavigationMenuViewport />}
    </NavigationMenuPrimitive.Root>
  );
}

function NavigationMenuList({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.List>) {
  return (
    <NavigationMenuPrimitive.List
      data-slot="navigation-menu-list"
      className={cn(
        "group flex flex-1 list-none items-center justify-center gap-1",
        className,
      )}
      {...props}
    />
  );
}

function NavigationMenuItem({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Item>) {
  return (
    <NavigationMenuPrimitive.Item
      data-slot="navigation-menu-item"
      className={cn("relative", className)}
      {...props}
    />
  );
}

const navigationMenuTriggerStyle = cva(
  "group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1",
);

function NavigationMenuTrigger({
  className,
  children,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Trigger>) {
  return (
    <NavigationMenuPrimitive.Trigger
      data-slot="navigation-menu-trigger"
      className={cn(navigationMenuTriggerStyle(), "group", className)}
      {...props}
    >
      {children}{" "}
      <ChevronDownIcon
        className="relative top-[1px] ml-1 size-3 transition duration-300 group-data-[state=open]:rotate-180"
        aria-hidden="true"
      />
    </NavigationMenuPrimitive.Trigger>
  );
}

function NavigationMenuContent({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Content>) {
  return (
    <NavigationMenuPrimitive.Content
      data-slot="navigation-menu-content"
      className={cn(
        "data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full p-2 pr-2.5 md:absolute md:w-auto",
        "group-data-[viewport=false]/navigation-menu:bg-popover group-data-[viewport=false]/navigation-menu:text-popover-foreground group-data-[viewport=false]/navigation-menu:data-[state=open]:animate-in group-data-[viewport=false]/navigation-menu:data-[state=closed]:animate-out group-data-[viewport=false]/navigation-menu:data-[state=closed]:zoom-out-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:zoom-in-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:fade-in-0 group-data-[viewport=false]/navigation-menu:data-[state=closed]:fade-out-0 group-data-[viewport=false]/navigation-menu:top-full group-data-[viewport=false]/navigation-menu:mt-1.5 group-data-[viewport=false]/navigation-menu:overflow-hidden group-data-[viewport=false]/navigation-menu:rounded-md group-data-[viewport=false]/navigation-menu:border group-data-[viewport=false]/navigation-menu:shadow group-data-[viewport=false]/navigation-menu:duration-200 **:data-[slot=navigation-menu-link]:focus:ring-0 **:data-[slot=navigation-menu-link]:focus:outline-none",
        className,
      )}
      {...props}
    />
  );
}

function NavigationMenuViewport({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Viewport>) {
  return (
    <div
      className={cn(
        "absolute top-full left-0 isolate z-50 flex justify-center",
      )}
    >
      <NavigationMenuPrimitive.Viewport
        data-slot="navigation-menu-viewport"
        className={cn(
          "origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",
          className,
        )}
        {...props}
      />
    </div>
  );
}

function NavigationMenuLink({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Link>) {
  return (
    <NavigationMenuPrimitive.Link
      data-slot="navigation-menu-link"
      className={cn(
        "data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  );
}

function NavigationMenuIndicator({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Indicator>) {
  return (
    <NavigationMenuPrimitive.Indicator
      data-slot="navigation-menu-indicator"
      className={cn(
        "data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden",
        className,
      )}
      {...props}
    >
      <div className="bg-border relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm shadow-md" />
    </NavigationMenuPrimitive.Indicator>
  );
}

export {
  NavigationMenu,
  NavigationMenuList,
  NavigationMenuItem,
  NavigationMenuContent,
  NavigationMenuTrigger,
  NavigationMenuLink,
  NavigationMenuIndicator,
  NavigationMenuViewport,
  navigationMenuTriggerStyle,
};
</file>

<file path="src/components/ui/pagination.tsx">
import * as React from "react";
import {
  ChevronLeftIcon,
  ChevronRightIcon,
  MoreHorizontalIcon,
} from "lucide-react";

import { cn } from "./utils";
import { Button, buttonVariants } from "./button";

function Pagination({ className, ...props }: React.ComponentProps<"nav">) {
  return (
    <nav
      role="navigation"
      aria-label="pagination"
      data-slot="pagination"
      className={cn("mx-auto flex w-full justify-center", className)}
      {...props}
    />
  );
}

function PaginationContent({
  className,
  ...props
}: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="pagination-content"
      className={cn("flex flex-row items-center gap-1", className)}
      {...props}
    />
  );
}

function PaginationItem({ ...props }: React.ComponentProps<"li">) {
  return <li data-slot="pagination-item" {...props} />;
}

type PaginationLinkProps = {
  isActive?: boolean;
} & Pick<React.ComponentProps<typeof Button>, "size"> &
  React.ComponentProps<"a">;

function PaginationLink({
  className,
  isActive,
  size = "icon",
  ...props
}: PaginationLinkProps) {
  return (
    <a
      aria-current={isActive ? "page" : undefined}
      data-slot="pagination-link"
      data-active={isActive}
      className={cn(
        buttonVariants({
          variant: isActive ? "outline" : "ghost",
          size,
        }),
        className,
      )}
      {...props}
    />
  );
}

function PaginationPrevious({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) {
  return (
    <PaginationLink
      aria-label="Go to previous page"
      size="default"
      className={cn("gap-1 px-2.5 sm:pl-2.5", className)}
      {...props}
    >
      <ChevronLeftIcon />
      <span className="hidden sm:block">Previous</span>
    </PaginationLink>
  );
}

function PaginationNext({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) {
  return (
    <PaginationLink
      aria-label="Go to next page"
      size="default"
      className={cn("gap-1 px-2.5 sm:pr-2.5", className)}
      {...props}
    >
      <span className="hidden sm:block">Next</span>
      <ChevronRightIcon />
    </PaginationLink>
  );
}

function PaginationEllipsis({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      aria-hidden
      data-slot="pagination-ellipsis"
      className={cn("flex size-9 items-center justify-center", className)}
      {...props}
    >
      <MoreHorizontalIcon className="size-4" />
      <span className="sr-only">More pages</span>
    </span>
  );
}

export {
  Pagination,
  PaginationContent,
  PaginationLink,
  PaginationItem,
  PaginationPrevious,
  PaginationNext,
  PaginationEllipsis,
};
</file>

<file path="src/components/ui/popover.tsx">
"use client";

import * as React from "react";
import * as PopoverPrimitive from "@radix-ui/react-popover";

import { cn } from "./utils";

function Popover({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Root>) {
  return <PopoverPrimitive.Root data-slot="popover" {...props} />;
}

function PopoverTrigger({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {
  return <PopoverPrimitive.Trigger data-slot="popover-trigger" {...props} />;
}

function PopoverContent({
  className,
  align = "center",
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Content>) {
  return (
    <PopoverPrimitive.Portal>
      <PopoverPrimitive.Content
        data-slot="popover-content"
        align={align}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",
          className,
        )}
        {...props}
      />
    </PopoverPrimitive.Portal>
  );
}

function PopoverAnchor({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {
  return <PopoverPrimitive.Anchor data-slot="popover-anchor" {...props} />;
}

export { Popover, PopoverTrigger, PopoverContent, PopoverAnchor };
</file>

<file path="src/components/ui/progress.tsx">
"use client";

import * as React from "react";
import * as ProgressPrimitive from "@radix-ui/react-progress";

import { cn } from "./utils";

function Progress({
  className,
  value,
  ...props
}: React.ComponentProps<typeof ProgressPrimitive.Root>) {
  return (
    <ProgressPrimitive.Root
      data-slot="progress"
      className={cn(
        "bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",
        className,
      )}
      {...props}
    >
      <ProgressPrimitive.Indicator
        data-slot="progress-indicator"
        className="bg-primary h-full w-full flex-1 transition-all"
        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
      />
    </ProgressPrimitive.Root>
  );
}

export { Progress };
</file>

<file path="src/components/ui/radio-group.tsx">
"use client";

import * as React from "react";
import * as RadioGroupPrimitive from "@radix-ui/react-radio-group";
import { CircleIcon } from "lucide-react";

import { cn } from "./utils";

function RadioGroup({
  className,
  ...props
}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {
  return (
    <RadioGroupPrimitive.Root
      data-slot="radio-group"
      className={cn("grid gap-3", className)}
      {...props}
    />
  );
}

function RadioGroupItem({
  className,
  ...props
}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {
  return (
    <RadioGroupPrimitive.Item
      data-slot="radio-group-item"
      className={cn(
        "border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className,
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator
        data-slot="radio-group-indicator"
        className="relative flex items-center justify-center"
      >
        <CircleIcon className="fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  );
}

export { RadioGroup, RadioGroupItem };
</file>

<file path="src/components/ui/resizable.tsx">
"use client";

import * as React from "react";
import { GripVerticalIcon } from "lucide-react";
import * as ResizablePrimitive from "react-resizable-panels";

import { cn } from "./utils";

function ResizablePanelGroup({
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) {
  return (
    <ResizablePrimitive.PanelGroup
      data-slot="resizable-panel-group"
      className={cn(
        "flex h-full w-full data-[panel-group-direction=vertical]:flex-col",
        className,
      )}
      {...props}
    />
  );
}

function ResizablePanel({
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.Panel>) {
  return <ResizablePrimitive.Panel data-slot="resizable-panel" {...props} />;
}

function ResizableHandle({
  withHandle,
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {
  withHandle?: boolean;
}) {
  return (
    <ResizablePrimitive.PanelResizeHandle
      data-slot="resizable-handle"
      className={cn(
        "bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",
        className,
      )}
      {...props}
    >
      {withHandle && (
        <div className="bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border">
          <GripVerticalIcon className="size-2.5" />
        </div>
      )}
    </ResizablePrimitive.PanelResizeHandle>
  );
}

export { ResizablePanelGroup, ResizablePanel, ResizableHandle };
</file>

<file path="src/components/ui/scroll-area.tsx">
"use client";

import * as React from "react";
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area";

import { cn } from "./utils";

function ScrollArea({
  className,
  children,
  ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {
  return (
    <ScrollAreaPrimitive.Root
      data-slot="scroll-area"
      className={cn("relative", className)}
      {...props}
    >
      <ScrollAreaPrimitive.Viewport
        data-slot="scroll-area-viewport"
        className="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1"
      >
        {children}
      </ScrollAreaPrimitive.Viewport>
      <ScrollBar />
      <ScrollAreaPrimitive.Corner />
    </ScrollAreaPrimitive.Root>
  );
}

function ScrollBar({
  className,
  orientation = "vertical",
  ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {
  return (
    <ScrollAreaPrimitive.ScrollAreaScrollbar
      data-slot="scroll-area-scrollbar"
      orientation={orientation}
      className={cn(
        "flex touch-none p-px transition-colors select-none",
        orientation === "vertical" &&
          "h-full w-2.5 border-l border-l-transparent",
        orientation === "horizontal" &&
          "h-2.5 flex-col border-t border-t-transparent",
        className,
      )}
      {...props}
    >
      <ScrollAreaPrimitive.ScrollAreaThumb
        data-slot="scroll-area-thumb"
        className="bg-border relative flex-1 rounded-full"
      />
    </ScrollAreaPrimitive.ScrollAreaScrollbar>
  );
}

export { ScrollArea, ScrollBar };
</file>

<file path="src/components/ui/select.tsx">
"use client";

import * as React from "react";
import * as SelectPrimitive from "@radix-ui/react-select";
import {
  CheckIcon,
  ChevronDownIcon,
  ChevronUpIcon,
} from "lucide-react";

import { cn } from "./utils";

function Select({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Root>) {
  return <SelectPrimitive.Root data-slot="select" {...props} />;
}

function SelectGroup({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Group>) {
  return <SelectPrimitive.Group data-slot="select-group" {...props} />;
}

function SelectValue({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Value>) {
  return <SelectPrimitive.Value data-slot="select-value" {...props} />;
}

function SelectTrigger({
  className,
  size = "default",
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {
  size?: "sm" | "default";
}) {
  return (
    <SelectPrimitive.Trigger
      data-slot="select-trigger"
      data-size={size}
      className={cn(
        "border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      {children}
      <SelectPrimitive.Icon asChild>
        <ChevronDownIcon className="size-4 opacity-50" />
      </SelectPrimitive.Icon>
    </SelectPrimitive.Trigger>
  );
}

function SelectContent({
  className,
  children,
  position = "popper",
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Content>) {
  return (
    <SelectPrimitive.Portal>
      <SelectPrimitive.Content
        data-slot="select-content"
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",
          position === "popper" &&
            "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
          className,
        )}
        position={position}
        {...props}
      >
        <SelectScrollUpButton />
        <SelectPrimitive.Viewport
          className={cn(
            "p-1",
            position === "popper" &&
              "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1",
          )}
        >
          {children}
        </SelectPrimitive.Viewport>
        <SelectScrollDownButton />
      </SelectPrimitive.Content>
    </SelectPrimitive.Portal>
  );
}

function SelectLabel({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Label>) {
  return (
    <SelectPrimitive.Label
      data-slot="select-label"
      className={cn("text-muted-foreground px-2 py-1.5 text-xs", className)}
      {...props}
    />
  );
}

function SelectItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Item>) {
  return (
    <SelectPrimitive.Item
      data-slot="select-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",
        className,
      )}
      {...props}
    >
      <span className="absolute right-2 flex size-3.5 items-center justify-center">
        <SelectPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </SelectPrimitive.ItemIndicator>
      </span>
      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
    </SelectPrimitive.Item>
  );
}

function SelectSeparator({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Separator>) {
  return (
    <SelectPrimitive.Separator
      data-slot="select-separator"
      className={cn("bg-border pointer-events-none -mx-1 my-1 h-px", className)}
      {...props}
    />
  );
}

function SelectScrollUpButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {
  return (
    <SelectPrimitive.ScrollUpButton
      data-slot="select-scroll-up-button"
      className={cn(
        "flex cursor-default items-center justify-center py-1",
        className,
      )}
      {...props}
    >
      <ChevronUpIcon className="size-4" />
    </SelectPrimitive.ScrollUpButton>
  );
}

function SelectScrollDownButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {
  return (
    <SelectPrimitive.ScrollDownButton
      data-slot="select-scroll-down-button"
      className={cn(
        "flex cursor-default items-center justify-center py-1",
        className,
      )}
      {...props}
    >
      <ChevronDownIcon className="size-4" />
    </SelectPrimitive.ScrollDownButton>
  );
}

export {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectLabel,
  SelectScrollDownButton,
  SelectScrollUpButton,
  SelectSeparator,
  SelectTrigger,
  SelectValue,
};
</file>

<file path="src/components/ui/separator.tsx">
"use client";

import * as React from "react";
import * as SeparatorPrimitive from "@radix-ui/react-separator";

import { cn } from "./utils";

function Separator({
  className,
  orientation = "horizontal",
  decorative = true,
  ...props
}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {
  return (
    <SeparatorPrimitive.Root
      data-slot="separator-root"
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",
        className,
      )}
      {...props}
    />
  );
}

export { Separator };
</file>

<file path="src/components/ui/sheet.tsx">
"use client";

import * as React from "react";
import * as SheetPrimitive from "@radix-ui/react-dialog";
import { XIcon } from "lucide-react";

import { cn } from "./utils";

function Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {
  return <SheetPrimitive.Root data-slot="sheet" {...props} />;
}

const SheetTrigger = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Trigger>
>(({ ...props }, ref) => (
  <SheetPrimitive.Trigger ref={ref} data-slot="sheet-trigger" {...props} />
));
SheetTrigger.displayName = SheetPrimitive.Trigger.displayName;

const SheetClose = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Close>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Close>
>(({ ...props }, ref) => (
  <SheetPrimitive.Close ref={ref} data-slot="sheet-close" {...props} />
));
SheetClose.displayName = SheetPrimitive.Close.displayName;

function SheetPortal({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Portal>) {
  return <SheetPrimitive.Portal data-slot="sheet-portal" {...props} />;
}

const SheetOverlay = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Overlay
    ref={ref}
    data-slot="sheet-overlay"
    className={cn(
      "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
      className,
    )}
    {...props}
  />
));
SheetOverlay.displayName = SheetPrimitive.Overlay.displayName;

const SheetContent = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content> & {
    side?: "top" | "right" | "bottom" | "left";
  }
>(({ className, children, side = "right", ...props }, ref) => (
  <SheetPortal>
    <SheetOverlay />
    <SheetPrimitive.Content
      ref={ref}
      data-slot="sheet-content"
      className={cn(
        "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
        side === "right" &&
          "data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",
        side === "left" &&
          "data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",
        side === "top" &&
          "data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",
        side === "bottom" &&
          "data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",
        className,
      )}
      {...props}
    >
      {children}
      <SheetPrimitive.Close className="ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none">
        <XIcon className="size-4" />
        <span className="sr-only">Close</span>
      </SheetPrimitive.Close>
    </SheetPrimitive.Content>
  </SheetPortal>
));
SheetContent.displayName = SheetPrimitive.Content.displayName;

const SheetHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-slot="sheet-header"
    className={cn("flex flex-col gap-1.5 p-4", className)}
    {...props}
  />
));
SheetHeader.displayName = "SheetHeader";

const SheetFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-slot="sheet-footer"
    className={cn("mt-auto flex flex-col gap-2 p-4", className)}
    {...props}
  />
));
SheetFooter.displayName = "SheetFooter";

const SheetTitle = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Title
    ref={ref}
    data-slot="sheet-title"
    className={cn("text-foreground font-semibold", className)}
    {...props}
  />
));
SheetTitle.displayName = SheetPrimitive.Title.displayName;

const SheetDescription = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Description
    ref={ref}
    data-slot="sheet-description"
    className={cn("text-muted-foreground text-sm", className)}
    {...props}
  />
));
SheetDescription.displayName = SheetPrimitive.Description.displayName;

export {
  Sheet,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
};
</file>

<file path="src/components/ui/sidebar.tsx">
"use client";

import * as React from "react";
import { Slot } from "@radix-ui/react-slot";
import { VariantProps, cva } from "class-variance-authority";
import { PanelLeftIcon } from "lucide-react";

import { useIsMobile } from "./use-mobile";
import { cn } from "./utils";
import { Button } from "./button";
import { Input } from "./input";
import { Separator } from "./separator";
import {
  Sheet,
  SheetContent,
  SheetDescription,
  SheetHeader,
  SheetTitle,
} from "./sheet";
import { Skeleton } from "./skeleton";
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "./tooltip";

const SIDEBAR_COOKIE_NAME = "sidebar_state";
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;
const SIDEBAR_WIDTH = "16rem";
const SIDEBAR_WIDTH_MOBILE = "18rem";
const SIDEBAR_WIDTH_ICON = "3rem";
const SIDEBAR_KEYBOARD_SHORTCUT = "b";

type SidebarContextProps = {
  state: "expanded" | "collapsed";
  open: boolean;
  setOpen: (open: boolean) => void;
  openMobile: boolean;
  setOpenMobile: (open: boolean) => void;
  isMobile: boolean;
  toggleSidebar: () => void;
};

const SidebarContext = React.createContext<SidebarContextProps | null>(null);

function useSidebar() {
  const context = React.useContext(SidebarContext);
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.");
  }

  return context;
}

function SidebarProvider({
  defaultOpen = true,
  open: openProp,
  onOpenChange: setOpenProp,
  className,
  style,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  defaultOpen?: boolean;
  open?: boolean;
  onOpenChange?: (open: boolean) => void;
}) {
  const isMobile = useIsMobile();
  const [openMobile, setOpenMobile] = React.useState(false);

  // This is the internal state of the sidebar.
  // We use openProp and setOpenProp for control from outside the component.
  const [_open, _setOpen] = React.useState(defaultOpen);
  const open = openProp ?? _open;
  const setOpen = React.useCallback(
    (value: boolean | ((value: boolean) => boolean)) => {
      const openState = typeof value === "function" ? value(open) : value;
      if (setOpenProp) {
        setOpenProp(openState);
      } else {
        _setOpen(openState);
      }

      // This sets the cookie to keep the sidebar state.
      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;
    },
    [setOpenProp, open],
  );

  // Helper to toggle the sidebar.
  const toggleSidebar = React.useCallback(() => {
    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);
  }, [isMobile, setOpen, setOpenMobile]);

  // Adds a keyboard shortcut to toggle the sidebar.
  React.useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      if (
        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
        (event.metaKey || event.ctrlKey)
      ) {
        event.preventDefault();
        toggleSidebar();
      }
    };

    window.addEventListener("keydown", handleKeyDown);
    return () => window.removeEventListener("keydown", handleKeyDown);
  }, [toggleSidebar]);

  // We add a state so that we can do data-state="expanded" or "collapsed".
  // This makes it easier to style the sidebar with Tailwind classes.
  const state = open ? "expanded" : "collapsed";

  const contextValue = React.useMemo<SidebarContextProps>(
    () => ({
      state,
      open,
      setOpen,
      isMobile,
      openMobile,
      setOpenMobile,
      toggleSidebar,
    }),
    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],
  );

  return (
    <SidebarContext.Provider value={contextValue}>
      <TooltipProvider delayDuration={0}>
        <div
          data-slot="sidebar-wrapper"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH,
              "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
              ...style,
            } as React.CSSProperties
          }
          className={cn(
            "group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",
            className,
          )}
          {...props}
        >
          {children}
        </div>
      </TooltipProvider>
    </SidebarContext.Provider>
  );
}

function Sidebar({
  side = "left",
  variant = "sidebar",
  collapsible = "offcanvas",
  className,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  side?: "left" | "right";
  variant?: "sidebar" | "floating" | "inset";
  collapsible?: "offcanvas" | "icon" | "none";
}) {
  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();

  if (collapsible === "none") {
    return (
      <div
        data-slot="sidebar"
        className={cn(
          "bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",
          className,
        )}
        {...props}
      >
        {children}
      </div>
    );
  }

  if (isMobile) {
    return (
      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
        <SheetContent
          data-sidebar="sidebar"
          data-slot="sidebar"
          data-mobile="true"
          className="bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
            } as React.CSSProperties
          }
          side={side}
        >
          <SheetHeader className="sr-only">
            <SheetTitle>Sidebar</SheetTitle>
            <SheetDescription>Displays the mobile sidebar.</SheetDescription>
          </SheetHeader>
          <div className="flex h-full w-full flex-col">{children}</div>
        </SheetContent>
      </Sheet>
    );
  }

  return (
    <div
      className="group peer text-sidebar-foreground hidden md:block"
      data-state={state}
      data-collapsible={state === "collapsed" ? collapsible : ""}
      data-variant={variant}
      data-side={side}
      data-slot="sidebar"
    >
      {/* This is what handles the sidebar gap on desktop */}
      <div
        data-slot="sidebar-gap"
        className={cn(
          "relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear",
          "group-data-[collapsible=offcanvas]:w-0",
          "group-data-[side=right]:rotate-180",
          variant === "floating" || variant === "inset"
            ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon)",
        )}
      />
      <div
        data-slot="sidebar-container"
        className={cn(
          "fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",
          side === "left"
            ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
            : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
          // Adjust the padding for floating and inset variants.
          variant === "floating" || variant === "inset"
            ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",
          className,
        )}
        {...props}
      >
        <div
          data-sidebar="sidebar"
          data-slot="sidebar-inner"
          className="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"
        >
          {children}
        </div>
      </div>
    </div>
  );
}

function SidebarTrigger({
  className,
  onClick,
  ...props
}: React.ComponentProps<typeof Button>) {
  const { toggleSidebar } = useSidebar();

  return (
    <Button
      data-sidebar="trigger"
      data-slot="sidebar-trigger"
      variant="ghost"
      size="icon"
      className={cn("size-7", className)}
      onClick={(event) => {
        onClick?.(event);
        toggleSidebar();
      }}
      {...props}
    >
      <PanelLeftIcon />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  );
}

function SidebarRail({ className, ...props }: React.ComponentProps<"button">) {
  const { toggleSidebar } = useSidebar();

  return (
    <button
      data-sidebar="rail"
      data-slot="sidebar-rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex",
        "in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className,
      )}
      {...props}
    />
  );
}

function SidebarInset({ className, ...props }: React.ComponentProps<"main">) {
  return (
    <main
      data-slot="sidebar-inset"
      className={cn(
        "bg-background relative flex w-full flex-1 flex-col",
        "md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",
        className,
      )}
      {...props}
    />
  );
}

function SidebarInput({
  className,
  ...props
}: React.ComponentProps<typeof Input>) {
  return (
    <Input
      data-slot="sidebar-input"
      data-sidebar="input"
      className={cn("bg-background h-8 w-full shadow-none", className)}
      {...props}
    />
  );
}

function SidebarHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-header"
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  );
}

function SidebarFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-footer"
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  );
}

function SidebarSeparator({
  className,
  ...props
}: React.ComponentProps<typeof Separator>) {
  return (
    <Separator
      data-slot="sidebar-separator"
      data-sidebar="separator"
      className={cn("bg-sidebar-border mx-2 w-auto", className)}
      {...props}
    />
  );
}

function SidebarContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-content"
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className,
      )}
      {...props}
    />
  );
}

function SidebarGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group"
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  );
}

function SidebarGroupLabel({
  className,
  asChild = false,
  ...props
}: React.ComponentProps<"div"> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "div";

  return (
    <Comp
      data-slot="sidebar-group-label"
      data-sidebar="group-label"
      className={cn(
        "text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className,
      )}
      {...props}
    />
  );
}

function SidebarGroupAction({
  className,
  asChild = false,
  ...props
}: React.ComponentProps<"button"> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "button";

  return (
    <Comp
      data-slot="sidebar-group-action"
      data-sidebar="group-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 md:after:hidden",
        "group-data-[collapsible=icon]:hidden",
        className,
      )}
      {...props}
    />
  );
}

function SidebarGroupContent({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group-content"
      data-sidebar="group-content"
      className={cn("w-full text-sm", className)}
      {...props}
    />
  );
}

function SidebarMenu({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu"
      data-sidebar="menu"
      className={cn("flex w-full min-w-0 flex-col gap-1", className)}
      {...props}
    />
  );
}

function SidebarMenuItem({ className, ...props }: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-item"
      data-sidebar="menu-item"
      className={cn("group/menu-item relative", className)}
      {...props}
    />
  );
}

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:p-0!",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  },
);

function SidebarMenuButton({
  asChild = false,
  isActive = false,
  variant = "default",
  size = "default",
  tooltip,
  className,
  ...props
}: React.ComponentProps<"button"> & {
  asChild?: boolean;
  isActive?: boolean;
  tooltip?: string | React.ComponentProps<typeof TooltipContent>;
} & VariantProps<typeof sidebarMenuButtonVariants>) {
  const Comp = asChild ? Slot : "button";
  const { isMobile, state } = useSidebar();

  const button = (
    <Comp
      data-slot="sidebar-menu-button"
      data-sidebar="menu-button"
      data-size={size}
      data-active={isActive}
      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
      {...props}
    />
  );

  if (!tooltip) {
    return button;
  }

  if (typeof tooltip === "string") {
    tooltip = {
      children: tooltip,
    };
  }

  return (
    <Tooltip>
      <TooltipTrigger asChild>{button}</TooltipTrigger>
      <TooltipContent
        side="right"
        align="center"
        hidden={state !== "collapsed" || isMobile}
        {...tooltip}
      />
    </Tooltip>
  );
}

function SidebarMenuAction({
  className,
  asChild = false,
  showOnHover = false,
  ...props
}: React.ComponentProps<"button"> & {
  asChild?: boolean;
  showOnHover?: boolean;
}) {
  const Comp = asChild ? Slot : "button";

  return (
    <Comp
      data-slot="sidebar-menu-action"
      data-sidebar="menu-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 md:after:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",
        className,
      )}
      {...props}
    />
  );
}

function SidebarMenuBadge({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-menu-badge"
      data-sidebar="menu-badge"
      className={cn(
        "text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none",
        "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        className,
      )}
      {...props}
    />
  );
}

function SidebarMenuSkeleton({
  className,
  showIcon = false,
  ...props
}: React.ComponentProps<"div"> & {
  showIcon?: boolean;
}) {
  // Random width between 50 to 90%.
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`;
  }, []);

  return (
    <div
      data-slot="sidebar-menu-skeleton"
      data-sidebar="menu-skeleton"
      className={cn("flex h-8 items-center gap-2 rounded-md px-2", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 max-w-(--skeleton-width) flex-1"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  );
}

function SidebarMenuSub({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu-sub"
      data-sidebar="menu-sub"
      className={cn(
        "border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5",
        "group-data-[collapsible=icon]:hidden",
        className,
      )}
      {...props}
    />
  );
}

function SidebarMenuSubItem({
  className,
  ...props
}: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-sub-item"
      data-sidebar="menu-sub-item"
      className={cn("group/menu-sub-item relative", className)}
      {...props}
    />
  );
}

function SidebarMenuSubButton({
  asChild = false,
  size = "md",
  isActive = false,
  className,
  ...props
}: React.ComponentProps<"a"> & {
  asChild?: boolean;
  size?: "sm" | "md";
  isActive?: boolean;
}) {
  const Comp = asChild ? Slot : "a";

  return (
    <Comp
      data-slot="sidebar-menu-sub-button"
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className,
      )}
      {...props}
    />
  );
}

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
};
</file>

<file path="src/components/ui/skeleton.tsx">
import { cn } from "./utils";

function Skeleton({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="skeleton"
      className={cn("bg-accent animate-pulse rounded-md", className)}
      {...props}
    />
  );
}

export { Skeleton };
</file>

<file path="src/components/ui/slider.tsx">
"use client";

import * as React from "react";
import * as SliderPrimitive from "@radix-ui/react-slider";

import { cn } from "./utils";

function Slider({
  className,
  defaultValue,
  value,
  min = 0,
  max = 100,
  ...props
}: React.ComponentProps<typeof SliderPrimitive.Root>) {
  const _values = React.useMemo(
    () =>
      Array.isArray(value)
        ? value
        : Array.isArray(defaultValue)
          ? defaultValue
          : [min, max],
    [value, defaultValue, min, max],
  );

  return (
    <SliderPrimitive.Root
      data-slot="slider"
      defaultValue={defaultValue}
      value={value}
      min={min}
      max={max}
      className={cn(
        "relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",
        className,
      )}
      {...props}
    >
      <SliderPrimitive.Track
        data-slot="slider-track"
        className={cn(
          "bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",
        )}
      >
        <SliderPrimitive.Range
          data-slot="slider-range"
          className={cn(
            "bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full",
          )}
        />
      </SliderPrimitive.Track>
      {Array.from({ length: _values.length }, (_, index) => (
        <SliderPrimitive.Thumb
          data-slot="slider-thumb"
          key={index}
          className="border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"
        />
      ))}
    </SliderPrimitive.Root>
  );
}

export { Slider };
</file>

<file path="src/components/ui/sonner.tsx">
"use client";

import { useTheme } from "next-themes";
import { Toaster as Sonner, ToasterProps } from "sonner";

const Toaster = ({ ...props }: ToasterProps) => {
  const { theme = "system" } = useTheme();

  return (
    <Sonner
      theme={theme as ToasterProps["theme"]}
      className="toaster group"
      style={
        {
          "--normal-bg": "var(--popover)",
          "--normal-text": "var(--popover-foreground)",
          "--normal-border": "var(--border)",
        } as React.CSSProperties
      }
      {...props}
    />
  );
};

export { Toaster };
</file>

<file path="src/components/ui/switch.tsx">
"use client";

import * as React from "react";
import * as SwitchPrimitive from "@radix-ui/react-switch";

import { cn } from "./utils";

function Switch({
  className,
  ...props
}: React.ComponentProps<typeof SwitchPrimitive.Root>) {
  return (
    <SwitchPrimitive.Root
      data-slot="switch"
      className={cn(
        "peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className,
      )}
      {...props}
    >
      <SwitchPrimitive.Thumb
        data-slot="switch-thumb"
        className={cn(
          "bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0",
        )}
      />
    </SwitchPrimitive.Root>
  );
}

export { Switch };
</file>

<file path="src/components/ui/table.tsx">
"use client";

import * as React from "react";

import { cn } from "./utils";

function Table({ className, ...props }: React.ComponentProps<"table">) {
  return (
    <div
      data-slot="table-container"
      className="relative w-full overflow-x-auto"
    >
      <table
        data-slot="table"
        className={cn("w-full caption-bottom text-sm", className)}
        {...props}
      />
    </div>
  );
}

function TableHeader({ className, ...props }: React.ComponentProps<"thead">) {
  return (
    <thead
      data-slot="table-header"
      className={cn("[&_tr]:border-b", className)}
      {...props}
    />
  );
}

function TableBody({ className, ...props }: React.ComponentProps<"tbody">) {
  return (
    <tbody
      data-slot="table-body"
      className={cn("[&_tr:last-child]:border-0", className)}
      {...props}
    />
  );
}

function TableFooter({ className, ...props }: React.ComponentProps<"tfoot">) {
  return (
    <tfoot
      data-slot="table-footer"
      className={cn(
        "bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",
        className,
      )}
      {...props}
    />
  );
}

function TableRow({ className, ...props }: React.ComponentProps<"tr">) {
  return (
    <tr
      data-slot="table-row"
      className={cn(
        "hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",
        className,
      )}
      {...props}
    />
  );
}

function TableHead({ className, ...props }: React.ComponentProps<"th">) {
  return (
    <th
      data-slot="table-head"
      className={cn(
        "text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className,
      )}
      {...props}
    />
  );
}

function TableCell({ className, ...props }: React.ComponentProps<"td">) {
  return (
    <td
      data-slot="table-cell"
      className={cn(
        "p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className,
      )}
      {...props}
    />
  );
}

function TableCaption({
  className,
  ...props
}: React.ComponentProps<"caption">) {
  return (
    <caption
      data-slot="table-caption"
      className={cn("text-muted-foreground mt-4 text-sm", className)}
      {...props}
    />
  );
}

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
};
</file>

<file path="src/components/ui/tabs.tsx">
"use client";

import * as React from "react";
import * as TabsPrimitive from "@radix-ui/react-tabs";

import { cn } from "./utils";

function Tabs({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Root>) {
  return (
    <TabsPrimitive.Root
      data-slot="tabs"
      className={cn("flex flex-col gap-2", className)}
      {...props}
    />
  );
}

function TabsList({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.List>) {
  return (
    <TabsPrimitive.List
      data-slot="tabs-list"
      className={cn(
        "bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",
        className,
      )}
      {...props}
    />
  );
}

function TabsTrigger({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {
  return (
    <TabsPrimitive.Trigger
      data-slot="tabs-trigger"
      className={cn(
        "data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  );
}

function TabsContent({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Content>) {
  return (
    <TabsPrimitive.Content
      data-slot="tabs-content"
      className={cn("flex-1 outline-none", className)}
      {...props}
    />
  );
}

export { Tabs, TabsList, TabsTrigger, TabsContent };
</file>

<file path="src/components/ui/textarea.tsx">
import * as React from "react";

import { cn } from "./utils";

function Textarea({ className, ...props }: React.ComponentProps<"textarea">) {
  return (
    <textarea
      data-slot="textarea"
      className={cn(
        "resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        className,
      )}
      {...props}
    />
  );
}

export { Textarea };
</file>

<file path="src/components/ui/toggle-group.tsx">
"use client";

import * as React from "react";
import * as ToggleGroupPrimitive from "@radix-ui/react-toggle-group";
import { type VariantProps } from "class-variance-authority";

import { cn } from "./utils";
import { toggleVariants } from "./toggle";

const ToggleGroupContext = React.createContext<
  VariantProps<typeof toggleVariants>
>({
  size: "default",
  variant: "default",
});

function ToggleGroup({
  className,
  variant,
  size,
  children,
  ...props
}: React.ComponentProps<typeof ToggleGroupPrimitive.Root> &
  VariantProps<typeof toggleVariants>) {
  return (
    <ToggleGroupPrimitive.Root
      data-slot="toggle-group"
      data-variant={variant}
      data-size={size}
      className={cn(
        "group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",
        className,
      )}
      {...props}
    >
      <ToggleGroupContext.Provider value={{ variant, size }}>
        {children}
      </ToggleGroupContext.Provider>
    </ToggleGroupPrimitive.Root>
  );
}

function ToggleGroupItem({
  className,
  children,
  variant,
  size,
  ...props
}: React.ComponentProps<typeof ToggleGroupPrimitive.Item> &
  VariantProps<typeof toggleVariants>) {
  const context = React.useContext(ToggleGroupContext);

  return (
    <ToggleGroupPrimitive.Item
      data-slot="toggle-group-item"
      data-variant={context.variant || variant}
      data-size={context.size || size}
      className={cn(
        toggleVariants({
          variant: context.variant || variant,
          size: context.size || size,
        }),
        "min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",
        className,
      )}
      {...props}
    >
      {children}
    </ToggleGroupPrimitive.Item>
  );
}

export { ToggleGroup, ToggleGroupItem };
</file>

<file path="src/components/ui/toggle.tsx">
"use client";

import * as React from "react";
import * as TogglePrimitive from "@radix-ui/react-toggle";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "./utils";

const toggleVariants = cva(
  "inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",
  {
    variants: {
      variant: {
        default: "bg-transparent",
        outline:
          "border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",
      },
      size: {
        default: "h-9 px-2 min-w-9",
        sm: "h-8 px-1.5 min-w-8",
        lg: "h-10 px-2.5 min-w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  },
);

function Toggle({
  className,
  variant,
  size,
  ...props
}: React.ComponentProps<typeof TogglePrimitive.Root> &
  VariantProps<typeof toggleVariants>) {
  return (
    <TogglePrimitive.Root
      data-slot="toggle"
      className={cn(toggleVariants({ variant, size, className }))}
      {...props}
    />
  );
}

export { Toggle, toggleVariants };
</file>

<file path="src/components/ui/tooltip.tsx">
"use client";

import * as React from "react";
import * as TooltipPrimitive from "@radix-ui/react-tooltip";

import { cn } from "./utils";

function TooltipProvider({
  delayDuration = 0,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {
  return (
    <TooltipPrimitive.Provider
      data-slot="tooltip-provider"
      delayDuration={delayDuration}
      {...props}
    />
  );
}

function Tooltip({
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Root>) {
  return (
    <TooltipProvider>
      <TooltipPrimitive.Root data-slot="tooltip" {...props} />
    </TooltipProvider>
  );
}

function TooltipTrigger({
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {
  return <TooltipPrimitive.Trigger data-slot="tooltip-trigger" {...props} />;
}

function TooltipContent({
  className,
  sideOffset = 0,
  children,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Content>) {
  return (
    <TooltipPrimitive.Portal>
      <TooltipPrimitive.Content
        data-slot="tooltip-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",
          className,
        )}
        {...props}
      >
        {children}
        <TooltipPrimitive.Arrow className="bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]" />
      </TooltipPrimitive.Content>
    </TooltipPrimitive.Portal>
  );
}

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };
</file>

<file path="src/components/ui/use-mobile.ts">
import * as React from "react";

const MOBILE_BREAKPOINT = 768;

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(
    undefined,
  );

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);
    };
    mql.addEventListener("change", onChange);
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);
    return () => mql.removeEventListener("change", onChange);
  }, []);

  return !!isMobile;
}
</file>

<file path="src/components/ui/utils.ts">
import { clsx, type ClassValue } from "clsx";
import { twMerge } from "tailwind-merge";

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
</file>

<file path="src/FigmaShowcase.tsx">
import { ComponentLibrary } from "./components/figma/ComponentLibrary"
import { FrameDashboard } from "./components/figma/FrameDashboard"
import { FrameDetailDrawer } from "./components/figma/FrameDetailDrawer"
import { FrameSettings } from "./components/figma/FrameSettings"
import { EnhancedDashboard } from "./components/figma/EnhancedDashboard"
import { Separator } from "./components/ui/separator"

export function FigmaShowcase() {
  return (
    <div className="min-h-screen bg-[#0A0A0A] p-8 space-y-12">
      <div className="text-center space-y-4">
        <h1 className="text-4xl font-medium text-white">Bartz Analyzer - Figma Showcase</h1>
        <p className="text-[#A7A7A7] text-lg">Sistema de monitoramento e processamento de XMLs de or√ßamento de m√≥veis</p>
      </div>

      <Separator className="bg-[#2C2C2C]" />

      {/* Frames Principais */}
      <section className="space-y-8">
        <h2 className="text-2xl font-medium text-white">Frames Principais</h2>
        
        <div className="space-y-8">
          <div className="space-y-4">
            <h3 className="text-xl text-white">Frame/Dashboard</h3>
            <FrameDashboard />
          </div>

          <div className="space-y-4">
            <h3 className="text-xl text-white">Frame/Dashboard (Estado Vazio)</h3>
            <div className="w-[1200px] h-[800px] bg-[#111111] border border-[#2C2C2C] overflow-hidden">
              <EnhancedDashboard onNavigateToConfig={() => {}} showState="empty" />
            </div>
          </div>

          <div className="space-y-4">
            <h3 className="text-xl text-white">Frame/Dashboard (Estado Carregando)</h3>
            <div className="w-[1200px] h-[800px] bg-[#111111] border border-[#2C2C2C] overflow-hidden">
              <EnhancedDashboard onNavigateToConfig={() => {}} showState="loading" />
            </div>
          </div>

          <div className="space-y-4">
            <h3 className="text-xl text-white">Frame/DetailDrawer</h3>
            <FrameDetailDrawer />
          </div>

          <div className="space-y-4">
            <h3 className="text-xl text-white">Frame/Settings</h3>
            <FrameSettings />
          </div>
        </div>
      </section>

      <Separator className="bg-[#2C2C2C]" />

      {/* Biblioteca de Componentes */}
      <section className="space-y-8">
        <h2 className="text-2xl font-medium text-white">Biblioteca de Componentes</h2>
        <ComponentLibrary />
      </section>

      <Separator className="bg-[#2C2C2C]" />

      {/* Especifica√ß√µes T√©cnicas */}
      <section className="space-y-6">
        <h2 className="text-2xl font-medium text-white">Especifica√ß√µes T√©cnicas</h2>
        
        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div className="bg-[#1B1B1B] border border-[#2C2C2C] rounded-lg p-6">
            <h3 className="text-lg font-medium text-white mb-4">Design Tokens</h3>
            <div className="space-y-3 text-sm">
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">bg/base:</span>
                <span className="text-white">#111111</span>
              </div>
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">bg/surface:</span>
                <span className="text-white">#1B1B1B</span>
              </div>
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">border:</span>
                <span className="text-white">#2C2C2C</span>
              </div>
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">accent/bartz:</span>
                <span className="text-white">#F1C40F</span>
              </div>
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">status/success:</span>
                <span className="text-white">#27AE60</span>
              </div>
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">status/error:</span>
                <span className="text-white">#E74C3C</span>
              </div>
              <div className="flex justify-between">
                <span className="text-[#A7A7A7]">status/warning:</span>
                <span className="text-white">#F39C12</span>
              </div>
            </div>
          </div>

          <div className="bg-[#1B1B1B] border border-[#2C2C2C] rounded-lg p-6">
            <h3 className="text-lg font-medium text-white mb-4">Tipografia</h3>
            <div className="space-y-3">
              <div className="text-2xl font-medium">Display/H1</div>
              <div className="text-xl font-medium">H2</div>
              <div className="text-lg font-medium">H3</div>
              <div className="text-base">Body</div>
              <div className="text-sm text-[#A7A7A7]">Caption</div>
              <div className="text-xs bg-[#E74C3C]/10 text-[#E74C3C] px-2 py-1 rounded inline-block">Badge</div>
            </div>
          </div>
        </div>
      </section>

      <Separator className="bg-[#2C2C2C]" />

      {/* Instru√ß√µes para Figma */}
      <section className="space-y-6">
        <h2 className="text-2xl font-medium text-white">Instru√ß√µes para Implementa√ß√£o no Figma</h2>
        
        <div className="bg-[#1B1B1B] border border-[#2C2C2C] rounded-lg p-6">
          <div className="space-y-4 text-sm">
            <div>
              <h4 className="text-white font-medium mb-2">1. Organiza√ß√£o de P√°ginas:</h4>
              <ul className="text-[#A7A7A7] space-y-1 ml-4">
                <li>‚Ä¢ P√°gina "Bartz Analyzer" - Frames principais</li>
                <li>‚Ä¢ P√°gina "Componentes" - Biblioteca de componentes</li>
              </ul>
            </div>

            <div>
              <h4 className="text-white font-medium mb-2">2. Nomenclatura de Camadas:</h4>
              <ul className="text-[#A7A7A7] space-y-1 ml-4">
                <li>‚Ä¢ Frame/Dashboard, Frame/DetailDrawer, Frame/Settings</li>
                <li>‚Ä¢ Chip/Status/OK, Chip/Status/ERRO, Chip/Status/FERRAGENS</li>
                <li>‚Ä¢ Badge/Erro/ItemSemPreco, Badge/Erro/Maquina2534Ausente</li>
                <li>‚Ä¢ Card/KPI/Recebidos, Card/KPI/Corretos</li>
                <li>‚Ä¢ Table/Row/Default, Table/Row/Error, Table/Header</li>
                <li>‚Ä¢ Toast/Success, Toast/Warning, Toast/Error</li>
              </ul>
            </div>

            <div>
              <h4 className="text-white font-medium mb-2">3. Auto Layout e Spacings:</h4>
              <ul className="text-[#A7A7A7] space-y-1 ml-4">
                <li>‚Ä¢ Usar Auto Layout em todos os containers</li>
                <li>‚Ä¢ Spacings: 8px (tight), 12px (normal), 16px (loose)</li>
                <li>‚Ä¢ M√≠nimo 1000√ó700 para responsividade</li>
              </ul>
            </div>

            <div>
              <h4 className="text-white font-medium mb-2">4. Estados a Implementar:</h4>
              <ul className="text-[#A7A7A7] space-y-1 ml-4">
                <li>‚Ä¢ Dashboard normal, vazio, carregando</li>
                <li>‚Ä¢ Rows com 1 erro, 3+ erros, ferragens-only, ok com auto-fix</li>
                <li>‚Ä¢ Todas as variantes de badges e chips</li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </div>
  )
}

export default FigmaShowcase
</file>

<file path="src/FilterDemo.tsx">
import { FilterBarShowcase } from "./components/figma/FilterBarShowcase"

export default function FilterDemo() {
  return <FilterBarShowcase />
}
</file>

<file path="src/global.d.ts">
export {};

declare global {
  interface Window {
    electron?: {
      analyzer?: {
        start: (cfg?: any) => Promise<boolean>;
        stop: () => Promise<boolean>;
        scanOnce: () => Promise<boolean>;
        onEvent: (cb: (msg: any) => void) => void;
        openInFolder: (fullOrBasePath: string) => Promise<boolean>;
        reprocessOne: (fullOrBasePath: string) => Promise<boolean>;
      };
      settings?: {
        load: () => Promise<any>;
        save: (data: any) => Promise<any>;
        testPaths: (data: any) => Promise<any>;
        pickFolder: (initial?: string) => Promise<string | null>;
      };
    };
  }
}
</file>

<file path="src/guidelines/Guidelines.md">
**Add your own guidelines here**
<!--

System Guidelines

Use this file to provide the AI with rules and guidelines you want it to follow.
This template outlines a few examples of things you can add. You can add your own sections and format it to suit your needs

TIP: More context isn't always better. It can confuse the LLM. Try and add the most important rules you need

# General guidelines

Any general rules you want the AI to follow.
For example:

* Only use absolute positioning when necessary. Opt for responsive and well structured layouts that use flexbox and grid by default
* Refactor code as you go to keep code clean
* Keep file sizes small and put helper functions and components in their own files.

--------------

# Design system guidelines
Rules for how the AI should make generations look like your company's design system

Additionally, if you select a design system to use in the prompt box, you can reference
your design system's components, tokens, variables and components.
For example:

* Use a base font-size of 14px
* Date formats should always be in the format ‚ÄúJun 10‚Äù
* The bottom toolbar should only ever have a maximum of 4 items
* Never use the floating action button with the bottom toolbar
* Chips should always come in sets of 3 or more
* Don't use a dropdown if there are 2 or fewer options

You can also create sub sections and add more specific details
For example:


## Button
The Button component is a fundamental interactive element in our design system, designed to trigger actions or navigate
users through the application. It provides visual feedback and clear affordances to enhance user experience.

### Usage
Buttons should be used for important actions that users need to take, such as form submissions, confirming choices,
or initiating processes. They communicate interactivity and should have clear, action-oriented labels.

### Variants
* Primary Button
  * Purpose : Used for the main action in a section or page
  * Visual Style : Bold, filled with the primary brand color
  * Usage : One primary button per section to guide users toward the most important action
* Secondary Button
  * Purpose : Used for alternative or supporting actions
  * Visual Style : Outlined with the primary color, transparent background
  * Usage : Can appear alongside a primary button for less important actions
* Tertiary Button
  * Purpose : Used for the least important actions
  * Visual Style : Text-only with no border, using primary color
  * Usage : For actions that should be available but not emphasized
-->
</file>

<file path="src/index.css">
/* suas customiza√ß√µes opcionais aqui */
:root {
  color-scheme: dark;
}
@layer properties {
  @supports (((-webkit-hyphens: none)) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color: rgb(from red r g b)))) {
    *, :before, :after, ::backdrop {
      --tw-translate-x: 0;
      --tw-translate-y: 0;
      --tw-translate-z: 0;
      --tw-rotate-x: rotateX(0);
      --tw-rotate-y: rotateY(0);
      --tw-rotate-z: rotateZ(0);
      --tw-skew-x: skewX(0);
      --tw-skew-y: skewY(0);
      --tw-space-y-reverse: 0;
      --tw-space-x-reverse: 0;
      --tw-border-style: solid;
      --tw-leading: initial;
      --tw-font-weight: initial;
      --tw-tracking: initial;
      --tw-ordinal: initial;
      --tw-slashed-zero: initial;
      --tw-numeric-figure: initial;
      --tw-numeric-spacing: initial;
      --tw-numeric-fraction: initial;
      --tw-shadow: 0 0 #0000;
      --tw-shadow-color: initial;
      --tw-shadow-alpha: 100%;
      --tw-inset-shadow: 0 0 #0000;
      --tw-inset-shadow-color: initial;
      --tw-inset-shadow-alpha: 100%;
      --tw-ring-color: initial;
      --tw-ring-shadow: 0 0 #0000;
      --tw-inset-ring-color: initial;
      --tw-inset-ring-shadow: 0 0 #0000;
      --tw-ring-inset: initial;
      --tw-ring-offset-width: 0px;
      --tw-ring-offset-color: #fff;
      --tw-ring-offset-shadow: 0 0 #0000;
      --tw-outline-style: solid;
      --tw-blur: initial;
      --tw-brightness: initial;
      --tw-contrast: initial;
      --tw-grayscale: initial;
      --tw-hue-rotate: initial;
      --tw-invert: initial;
      --tw-opacity: initial;
      --tw-saturate: initial;
      --tw-sepia: initial;
      --tw-drop-shadow: initial;
      --tw-drop-shadow-color: initial;
      --tw-drop-shadow-alpha: 100%;
      --tw-drop-shadow-size: initial;
      --tw-duration: initial;
      --tw-ease: initial;
      --tw-content: "";
    }
  }
}

@layer theme {
  :root, :host {
    --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    --color-gray-100: oklch(.967 .003 264.542);
    --color-black: #000;
    --color-white: #fff;
    --spacing: .25rem;
    --container-sm: 24rem;
    --container-md: 28rem;
    --container-lg: 32rem;
    --container-4xl: 56rem;
    --text-xs: .75rem;
    --text-xs--line-height: calc(1 / .75);
    --text-sm: .875rem;
    --text-sm--line-height: calc(1.25 / .875);
    --text-base: 1rem;
    --text-base--line-height: calc(1.5 / 1);
    --text-lg: 1.125rem;
    --text-lg--line-height: calc(1.75 / 1.125);
    --text-xl: 1.25rem;
    --text-xl--line-height: calc(1.75 / 1.25);
    --text-2xl: 1.5rem;
    --text-2xl--line-height: calc(2 / 1.5);
    --text-3xl: 1.875rem;
    --text-3xl--line-height: calc(2.25 / 1.875);
    --text-4xl: 2.25rem;
    --text-4xl--line-height: calc(2.5 / 2.25);
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --tracking-tight: -.025em;
    --tracking-widest: .1em;
    --leading-relaxed: 1.625;
    --radius-xs: .125rem;
    --ease-in-out: cubic-bezier(.4, 0, .2, 1);
    --animate-spin: spin 1s linear infinite;
    --animate-pulse: pulse 2s cubic-bezier(.4, 0, .6, 1) infinite;
    --aspect-video: 16 / 9;
    --default-transition-duration: .15s;
    --default-transition-timing-function: cubic-bezier(.4, 0, .2, 1);
    --default-font-family: var(--font-sans);
    --default-font-feature-settings: var(--font-sans--font-feature-settings);
    --default-font-variation-settings: var(--font-sans--font-variation-settings);
    --default-mono-font-family: var(--font-mono);
    --default-mono-font-feature-settings: var(--font-mono--font-feature-settings);
    --default-mono-font-variation-settings: var(--font-mono--font-variation-settings);
    --color-border: var(--border);
  }
}

@layer base {
  *, :after, :before, ::backdrop {
    box-sizing: border-box;
    border: 0 solid;
    margin: 0;
    padding: 0;
  }

  ::file-selector-button {
    box-sizing: border-box;
    border: 0 solid;
    margin: 0;
    padding: 0;
  }

  html, :host {
    -webkit-text-size-adjust: 100%;
    tab-size: 4;
    line-height: 1.5;
    font-family: var(--default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");
    font-feature-settings: var(--default-font-feature-settings, normal);
    font-variation-settings: var(--default-font-variation-settings, normal);
    -webkit-tap-highlight-color: transparent;
  }

  body {
    line-height: inherit;
  }

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    -webkit-text-decoration: underline dotted;
    text-decoration: underline dotted;
  }

  h1, h2, h3, h4, h5, h6 {
    font-size: inherit;
    font-weight: inherit;
  }

  a {
    color: inherit;
    -webkit-text-decoration: inherit;
    -webkit-text-decoration: inherit;
    text-decoration: inherit;
  }

  b, strong {
    font-weight: bolder;
  }

  code, kbd, samp, pre {
    font-family: var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);
    font-feature-settings: var(--default-mono-font-feature-settings, normal);
    font-variation-settings: var(--default-mono-font-variation-settings, normal);
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub, sup {
    vertical-align: baseline;
    font-size: 75%;
    line-height: 0;
    position: relative;
  }

  sub {
    bottom: -.25em;
  }

  sup {
    top: -.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  :-moz-focusring {
    outline: auto;
  }

  progress {
    vertical-align: baseline;
  }

  summary {
    display: list-item;
  }

  ol, ul, menu {
    list-style: none;
  }

  img, svg, video, canvas, audio, iframe, embed, object {
    vertical-align: middle;
    display: block;
  }

  img, video {
    max-width: 100%;
    height: auto;
  }

  button, input, select, optgroup, textarea {
    font: inherit;
    font-feature-settings: inherit;
    font-variation-settings: inherit;
    letter-spacing: inherit;
    color: inherit;
    opacity: 1;
    background-color: #0000;
    border-radius: 0;
  }

  ::file-selector-button {
    font: inherit;
    font-feature-settings: inherit;
    font-variation-settings: inherit;
    letter-spacing: inherit;
    color: inherit;
    opacity: 1;
    background-color: #0000;
    border-radius: 0;
  }

  :where(select:is([multiple], [size])) optgroup {
    font-weight: bolder;
  }

  :where(select:is([multiple], [size])) optgroup option {
    padding-inline-start: 20px;
  }

  ::file-selector-button {
    margin-inline-end: 4px;
  }

  ::placeholder {
    opacity: 1;
    color: currentColor;
  }

  @supports (color: color-mix(in lab, red, red)) {
    ::placeholder {
      color: color-mix(in oklab, currentColor 50%, transparent);
    }
  }

  textarea {
    resize: vertical;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-date-and-time-value {
    min-height: 1lh;
    text-align: inherit;
  }

  ::-webkit-datetime-edit {
    display: inline-flex;
  }

  ::-webkit-datetime-edit-fields-wrapper {
    padding: 0;
  }

  ::-webkit-datetime-edit {
    padding-block: 0;
  }

  ::-webkit-datetime-edit-year-field {
    padding-block: 0;
  }

  ::-webkit-datetime-edit-month-field {
    padding-block: 0;
  }

  ::-webkit-datetime-edit-day-field {
    padding-block: 0;
  }

  ::-webkit-datetime-edit-hour-field {
    padding-block: 0;
  }

  ::-webkit-datetime-edit-minute-field {
    padding-block: 0;
  }

  ::-webkit-datetime-edit-second-field {
    padding-block: 0;
  }

  ::-webkit-datetime-edit-millisecond-field {
    padding-block: 0;
  }

  ::-webkit-datetime-edit-meridiem-field {
    padding-block: 0;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  button, input:where([type="button"], [type="reset"], [type="submit"]) {
    appearance: button;
  }

  ::file-selector-button {
    appearance: button;
  }

  ::-webkit-inner-spin-button {
    height: auto;
  }

  ::-webkit-outer-spin-button {
    height: auto;
  }

  [hidden]:where(:not([hidden="until-found"])) {
    display: none !important;
  }

  * {
    border-color: var(--border);
    outline-color: var(--ring);
  }

  @supports (color: color-mix(in lab, red, red)) {
    * {
      outline-color: color-mix(in oklab, var(--ring) 50%, transparent);
    }
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
  }

  * {
    border-color: var(--border);
    outline-color: var(--ring);
  }

  @supports (color: color-mix(in lab, red, red)) {
    * {
      outline-color: color-mix(in oklab, var(--ring) 50%, transparent);
    }
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: Inter, Roboto, -apple-system, BlinkMacSystemFont, Segoe UI, sans-serif;
  }

  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) h1 {
    font-size: var(--text-2xl);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
  }

  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) h2 {
    font-size: var(--text-xl);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
  }

  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) h3 {
    font-size: var(--text-lg);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
  }

  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) h4 {
    font-size: var(--text-base);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
  }

  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) p {
    font-size: var(--text-base);
    font-weight: var(--font-weight-normal);
    line-height: 1.5;
  }

  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) label, :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) button {
    font-size: var(--text-base);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
  }

  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) input {
    font-size: var(--text-base);
    font-weight: var(--font-weight-normal);
    line-height: 1.5;
  }

  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) .chip, :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) .badge {
    font-size: 12px;
    font-weight: var(--font-weight-medium);
  }
}

@layer utilities {
  .\@container\/card-header {
    container: card-header / inline-size;
  }

  .pointer-events-none {
    pointer-events: none;
  }

  .invisible {
    visibility: hidden;
  }

  .visible {
    visibility: visible;
  }

  .sr-only {
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
    width: 1px;
    height: 1px;
    margin: -1px;
    padding: 0;
    position: absolute;
    overflow: hidden;
  }

  .absolute {
    position: absolute;
  }

  .fixed {
    position: fixed;
  }

  .relative {
    position: relative;
  }

  .inset-0 {
    inset: calc(var(--spacing) * 0);
  }

  .inset-x-0 {
    inset-inline: calc(var(--spacing) * 0);
  }

  .inset-y-0 {
    inset-block: calc(var(--spacing) * 0);
  }

  .-top-12 {
    top: calc(var(--spacing) * -12);
  }

  .top-0 {
    top: calc(var(--spacing) * 0);
  }

  .top-1\.5 {
    top: calc(var(--spacing) * 1.5);
  }

  .top-1\/2 {
    top: 50%;
  }

  .top-3\.5 {
    top: calc(var(--spacing) * 3.5);
  }

  .top-4 {
    top: calc(var(--spacing) * 4);
  }

  .top-\[1px\] {
    top: 1px;
  }

  .top-\[50\%\] {
    top: 50%;
  }

  .top-\[60\%\] {
    top: 60%;
  }

  .top-full {
    top: 100%;
  }

  .-right-12 {
    right: calc(var(--spacing) * -12);
  }

  .right-0 {
    right: calc(var(--spacing) * 0);
  }

  .right-1 {
    right: calc(var(--spacing) * 1);
  }

  .right-2 {
    right: calc(var(--spacing) * 2);
  }

  .right-3 {
    right: calc(var(--spacing) * 3);
  }

  .right-4 {
    right: calc(var(--spacing) * 4);
  }

  .-bottom-12 {
    bottom: calc(var(--spacing) * -12);
  }

  .bottom-0 {
    bottom: calc(var(--spacing) * 0);
  }

  .bottom-4 {
    bottom: calc(var(--spacing) * 4);
  }

  .-left-12 {
    left: calc(var(--spacing) * -12);
  }

  .left-0 {
    left: calc(var(--spacing) * 0);
  }

  .left-1 {
    left: calc(var(--spacing) * 1);
  }

  .left-1\/2 {
    left: 50%;
  }

  .left-2 {
    left: calc(var(--spacing) * 2);
  }

  .left-3 {
    left: calc(var(--spacing) * 3);
  }

  .left-4 {
    left: calc(var(--spacing) * 4);
  }

  .left-\[50\%\] {
    left: 50%;
  }

  .isolate {
    isolation: isolate;
  }

  .z-10 {
    z-index: 10;
  }

  .z-20 {
    z-index: 20;
  }

  .z-50 {
    z-index: 50;
  }

  .z-\[1\] {
    z-index: 1;
  }

  .col-start-2 {
    grid-column-start: 2;
  }

  .row-span-2 {
    grid-row: span 2 / span 2;
  }

  .row-start-1 {
    grid-row-start: 1;
  }

  .-mx-1 {
    margin-inline: calc(var(--spacing) * -1);
  }

  .mx-2 {
    margin-inline: calc(var(--spacing) * 2);
  }

  .mx-3\.5 {
    margin-inline: calc(var(--spacing) * 3.5);
  }

  .mx-auto {
    margin-inline: auto;
  }

  .my-0\.5 {
    margin-block: calc(var(--spacing) * .5);
  }

  .my-1 {
    margin-block: calc(var(--spacing) * 1);
  }

  .-mt-4 {
    margin-top: calc(var(--spacing) * -4);
  }

  .mt-0 {
    margin-top: calc(var(--spacing) * 0);
  }

  .mt-0\.5 {
    margin-top: calc(var(--spacing) * .5);
  }

  .mt-1 {
    margin-top: calc(var(--spacing) * 1);
  }

  .mt-1\.5 {
    margin-top: calc(var(--spacing) * 1.5);
  }

  .mt-2 {
    margin-top: calc(var(--spacing) * 2);
  }

  .mt-3 {
    margin-top: calc(var(--spacing) * 3);
  }

  .mt-4 {
    margin-top: calc(var(--spacing) * 4);
  }

  .mt-8 {
    margin-top: calc(var(--spacing) * 8);
  }

  .mt-auto {
    margin-top: auto;
  }

  .mr-1 {
    margin-right: calc(var(--spacing) * 1);
  }

  .mr-2 {
    margin-right: calc(var(--spacing) * 2);
  }

  .mb-2 {
    margin-bottom: calc(var(--spacing) * 2);
  }

  .mb-3 {
    margin-bottom: calc(var(--spacing) * 3);
  }

  .mb-4 {
    margin-bottom: calc(var(--spacing) * 4);
  }

  .mb-6 {
    margin-bottom: calc(var(--spacing) * 6);
  }

  .mb-8 {
    margin-bottom: calc(var(--spacing) * 8);
  }

  .mb-12 {
    margin-bottom: calc(var(--spacing) * 12);
  }

  .-ml-4 {
    margin-left: calc(var(--spacing) * -4);
  }

  .ml-1 {
    margin-left: calc(var(--spacing) * 1);
  }

  .ml-2 {
    margin-left: calc(var(--spacing) * 2);
  }

  .ml-4 {
    margin-left: calc(var(--spacing) * 4);
  }

  .ml-auto {
    margin-left: auto;
  }

  .line-clamp-1 {
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    display: -webkit-box;
    overflow: hidden;
  }

  .block {
    display: block;
  }

  .flex {
    display: flex;
  }

  .grid {
    display: grid;
  }

  .hidden {
    display: none;
  }

  .inline-block {
    display: inline-block;
  }

  .inline-flex {
    display: inline-flex;
  }

  .table {
    display: table;
  }

  .table-caption {
    display: table-caption;
  }

  .table-cell {
    display: table-cell;
  }

  .table-row {
    display: table-row;
  }

  .field-sizing-content {
    field-sizing: content;
  }

  .aspect-square {
    aspect-ratio: 1;
  }

  .aspect-video {
    aspect-ratio: var(--aspect-video);
  }

  .size-2 {
    width: calc(var(--spacing) * 2);
    height: calc(var(--spacing) * 2);
  }

  .size-2\.5 {
    width: calc(var(--spacing) * 2.5);
    height: calc(var(--spacing) * 2.5);
  }

  .size-3 {
    width: calc(var(--spacing) * 3);
    height: calc(var(--spacing) * 3);
  }

  .size-3\.5 {
    width: calc(var(--spacing) * 3.5);
    height: calc(var(--spacing) * 3.5);
  }

  .size-4 {
    width: calc(var(--spacing) * 4);
    height: calc(var(--spacing) * 4);
  }

  .size-7 {
    width: calc(var(--spacing) * 7);
    height: calc(var(--spacing) * 7);
  }

  .size-8 {
    width: calc(var(--spacing) * 8);
    height: calc(var(--spacing) * 8);
  }

  .size-9 {
    width: calc(var(--spacing) * 9);
    height: calc(var(--spacing) * 9);
  }

  .size-10 {
    width: calc(var(--spacing) * 10);
    height: calc(var(--spacing) * 10);
  }

  .size-full {
    width: 100%;
    height: 100%;
  }

  .h-1\.5 {
    height: calc(var(--spacing) * 1.5);
  }

  .h-2 {
    height: calc(var(--spacing) * 2);
  }

  .h-2\.5 {
    height: calc(var(--spacing) * 2.5);
  }

  .h-3 {
    height: calc(var(--spacing) * 3);
  }

  .h-4 {
    height: calc(var(--spacing) * 4);
  }

  .h-5 {
    height: calc(var(--spacing) * 5);
  }

  .h-6 {
    height: calc(var(--spacing) * 6);
  }

  .h-7 {
    height: calc(var(--spacing) * 7);
  }

  .h-8 {
    height: calc(var(--spacing) * 8);
  }

  .h-9 {
    height: calc(var(--spacing) * 9);
  }

  .h-10 {
    height: calc(var(--spacing) * 10);
  }

  .h-11 {
    height: calc(var(--spacing) * 11);
  }

  .h-12 {
    height: calc(var(--spacing) * 12);
  }

  .h-\[1\.15rem\] {
    height: 1.15rem;
  }

  .h-\[700px\] {
    height: 700px;
  }

  .h-\[800px\] {
    height: 800px;
  }

  .h-\[calc\(100\%-1px\)\] {
    height: calc(100% - 1px);
  }

  .h-\[var\(--radix-navigation-menu-viewport-height\)\] {
    height: var(--radix-navigation-menu-viewport-height);
  }

  .h-\[var\(--radix-select-trigger-height\)\] {
    height: var(--radix-select-trigger-height);
  }

  .h-auto {
    height: auto;
  }

  .h-full {
    height: 100%;
  }

  .h-px {
    height: 1px;
  }

  .h-svh {
    height: 100svh;
  }

  .max-h-\(--radix-context-menu-content-available-height\) {
    max-height: var(--radix-context-menu-content-available-height);
  }

  .max-h-\(--radix-dropdown-menu-content-available-height\) {
    max-height: var(--radix-dropdown-menu-content-available-height);
  }

  .max-h-\(--radix-select-content-available-height\) {
    max-height: var(--radix-select-content-available-height);
  }

  .max-h-48 {
    max-height: calc(var(--spacing) * 48);
  }

  .max-h-96 {
    max-height: calc(var(--spacing) * 96);
  }

  .max-h-\[300px\] {
    max-height: 300px;
  }

  .min-h-0 {
    min-height: calc(var(--spacing) * 0);
  }

  .min-h-4 {
    min-height: calc(var(--spacing) * 4);
  }

  .min-h-16 {
    min-height: calc(var(--spacing) * 16);
  }

  .min-h-\[36px\] {
    min-height: 36px;
  }

  .min-h-screen {
    min-height: 100vh;
  }

  .min-h-svh {
    min-height: 100svh;
  }

  .w-\(--sidebar-width\) {
    width: var(--sidebar-width);
  }

  .w-0 {
    width: calc(var(--spacing) * 0);
  }

  .w-1 {
    width: calc(var(--spacing) * 1);
  }

  .w-2 {
    width: calc(var(--spacing) * 2);
  }

  .w-2\.5 {
    width: calc(var(--spacing) * 2.5);
  }

  .w-3 {
    width: calc(var(--spacing) * 3);
  }

  .w-3\/4 {
    width: 75%;
  }

  .w-4 {
    width: calc(var(--spacing) * 4);
  }

  .w-5 {
    width: calc(var(--spacing) * 5);
  }

  .w-6 {
    width: calc(var(--spacing) * 6);
  }

  .w-8 {
    width: calc(var(--spacing) * 8);
  }

  .w-9 {
    width: calc(var(--spacing) * 9);
  }

  .w-10 {
    width: calc(var(--spacing) * 10);
  }

  .w-12 {
    width: calc(var(--spacing) * 12);
  }

  .w-48 {
    width: calc(var(--spacing) * 48);
  }

  .w-64 {
    width: calc(var(--spacing) * 64);
  }

  .w-72 {
    width: calc(var(--spacing) * 72);
  }

  .w-80 {
    width: calc(var(--spacing) * 80);
  }

  .w-\[100px\] {
    width: 100px;
  }

  .w-\[600px\] {
    width: 600px;
  }

  .w-\[700px\] {
    width: 700px;
  }

  .w-\[1000px\] {
    width: 1000px;
  }

  .w-\[1200px\] {
    width: 1200px;
  }

  .w-auto {
    width: auto;
  }

  .w-fit {
    width: fit-content;
  }

  .w-full {
    width: 100%;
  }

  .w-max {
    width: max-content;
  }

  .w-px {
    width: 1px;
  }

  .max-w-\(--skeleton-width\) {
    max-width: var(--skeleton-width);
  }

  .max-w-4xl {
    max-width: var(--container-4xl);
  }

  .max-w-32 {
    max-width: calc(var(--spacing) * 32);
  }

  .max-w-48 {
    max-width: calc(var(--spacing) * 48);
  }

  .max-w-60 {
    max-width: calc(var(--spacing) * 60);
  }

  .max-w-\[90vw\] {
    max-width: 90vw;
  }

  .max-w-\[calc\(100\%-2rem\)\] {
    max-width: calc(100% - 2rem);
  }

  .max-w-max {
    max-width: max-content;
  }

  .max-w-md {
    max-width: var(--container-md);
  }

  .max-w-sm {
    max-width: var(--container-sm);
  }

  .min-w-0 {
    min-width: calc(var(--spacing) * 0);
  }

  .min-w-5 {
    min-width: calc(var(--spacing) * 5);
  }

  .min-w-8 {
    min-width: calc(var(--spacing) * 8);
  }

  .min-w-9 {
    min-width: calc(var(--spacing) * 9);
  }

  .min-w-10 {
    min-width: calc(var(--spacing) * 10);
  }

  .min-w-\[8rem\] {
    min-width: 8rem;
  }

  .min-w-\[12rem\] {
    min-width: 12rem;
  }

  .min-w-\[100px\] {
    min-width: 100px;
  }

  .min-w-\[var\(--radix-select-trigger-width\)\] {
    min-width: var(--radix-select-trigger-width);
  }

  .flex-1 {
    flex: 1;
  }

  .flex-shrink-0, .shrink-0 {
    flex-shrink: 0;
  }

  .grow {
    flex-grow: 1;
  }

  .grow-0 {
    flex-grow: 0;
  }

  .basis-full {
    flex-basis: 100%;
  }

  .caption-bottom {
    caption-side: bottom;
  }

  .border-collapse {
    border-collapse: collapse;
  }

  .origin-\(--radix-context-menu-content-transform-origin\) {
    transform-origin: var(--radix-context-menu-content-transform-origin);
  }

  .origin-\(--radix-dropdown-menu-content-transform-origin\) {
    transform-origin: var(--radix-dropdown-menu-content-transform-origin);
  }

  .origin-\(--radix-hover-card-content-transform-origin\) {
    transform-origin: var(--radix-hover-card-content-transform-origin);
  }

  .origin-\(--radix-menubar-content-transform-origin\) {
    transform-origin: var(--radix-menubar-content-transform-origin);
  }

  .origin-\(--radix-popover-content-transform-origin\) {
    transform-origin: var(--radix-popover-content-transform-origin);
  }

  .origin-\(--radix-select-content-transform-origin\) {
    transform-origin: var(--radix-select-content-transform-origin);
  }

  .origin-\(--radix-tooltip-content-transform-origin\) {
    transform-origin: var(--radix-tooltip-content-transform-origin);
  }

  .-translate-x-1\/2 {
    --tw-translate-x: calc(calc(1 / 2 * 100%) * -1);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .-translate-x-px {
    --tw-translate-x: -1px;
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .translate-x-\[-50\%\] {
    --tw-translate-x: -50%;
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .translate-x-px {
    --tw-translate-x: 1px;
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .-translate-y-1\/2 {
    --tw-translate-y: calc(calc(1 / 2 * 100%) * -1);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .translate-y-0\.5 {
    --tw-translate-y: calc(var(--spacing) * .5);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .translate-y-\[-50\%\] {
    --tw-translate-y: -50%;
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .translate-y-\[calc\(-50\%_-_2px\)\] {
    --tw-translate-y: calc(-50% - 2px);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .rotate-45 {
    rotate: 45deg;
  }

  .rotate-90 {
    rotate: 90deg;
  }

  .transform {
    transform: var(--tw-rotate-x) var(--tw-rotate-y) var(--tw-rotate-z) var(--tw-skew-x) var(--tw-skew-y);
  }

  .animate-caret-blink {
    animation: 1.25s ease-out infinite caret-blink;
  }

  .animate-in {
    animation: enter var(--tw-duration, .15s) var(--tw-ease, ease);
  }

  .animate-pulse {
    animation: var(--animate-pulse);
  }

  .animate-spin {
    animation: var(--animate-spin);
  }

  .cursor-default {
    cursor: default;
  }

  .cursor-not-allowed {
    cursor: not-allowed;
  }

  .cursor-pointer {
    cursor: pointer;
  }

  .touch-none {
    touch-action: none;
  }

  .resize-none {
    resize: none;
  }

  .scroll-my-1 {
    scroll-margin-block: calc(var(--spacing) * 1);
  }

  .scroll-py-1 {
    scroll-padding-block: calc(var(--spacing) * 1);
  }

  .list-none {
    list-style-type: none;
  }

  .auto-rows-min {
    grid-auto-rows: min-content;
  }

  .grid-cols-1 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }

  .grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .grid-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .grid-cols-\[0_1fr\] {
    grid-template-columns: 0 1fr;
  }

  .grid-rows-\[auto_auto\] {
    grid-template-rows: auto auto;
  }

  .flex-col {
    flex-direction: column;
  }

  .flex-col-reverse {
    flex-direction: column-reverse;
  }

  .flex-row {
    flex-direction: row;
  }

  .flex-wrap {
    flex-wrap: wrap;
  }

  .items-center {
    align-items: center;
  }

  .items-end {
    align-items: flex-end;
  }

  .items-start {
    align-items: flex-start;
  }

  .items-stretch {
    align-items: stretch;
  }

  .justify-between {
    justify-content: space-between;
  }

  .justify-center {
    justify-content: center;
  }

  .justify-items-start {
    justify-items: start;
  }

  .gap-1 {
    gap: calc(var(--spacing) * 1);
  }

  .gap-1\.5 {
    gap: calc(var(--spacing) * 1.5);
  }

  .gap-2 {
    gap: calc(var(--spacing) * 2);
  }

  .gap-3 {
    gap: calc(var(--spacing) * 3);
  }

  .gap-4 {
    gap: calc(var(--spacing) * 4);
  }

  .gap-6 {
    gap: calc(var(--spacing) * 6);
  }

  :where(.space-y-1 > :not(:last-child)) {
    --tw-space-y-reverse: 0;
    margin-block-start: calc(calc(var(--spacing) * 1) * var(--tw-space-y-reverse));
    margin-block-end: calc(calc(var(--spacing) * 1) * calc(1 - var(--tw-space-y-reverse)));
  }

  :where(.space-y-2 > :not(:last-child)) {
    --tw-space-y-reverse: 0;
    margin-block-start: calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));
    margin-block-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)));
  }

  :where(.space-y-3 > :not(:last-child)) {
    --tw-space-y-reverse: 0;
    margin-block-start: calc(calc(var(--spacing) * 3) * var(--tw-space-y-reverse));
    margin-block-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-y-reverse)));
  }

  :where(.space-y-4 > :not(:last-child)) {
    --tw-space-y-reverse: 0;
    margin-block-start: calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));
    margin-block-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)));
  }

  :where(.space-y-6 > :not(:last-child)) {
    --tw-space-y-reverse: 0;
    margin-block-start: calc(calc(var(--spacing) * 6) * var(--tw-space-y-reverse));
    margin-block-end: calc(calc(var(--spacing) * 6) * calc(1 - var(--tw-space-y-reverse)));
  }

  :where(.space-y-8 > :not(:last-child)) {
    --tw-space-y-reverse: 0;
    margin-block-start: calc(calc(var(--spacing) * 8) * var(--tw-space-y-reverse));
    margin-block-end: calc(calc(var(--spacing) * 8) * calc(1 - var(--tw-space-y-reverse)));
  }

  :where(.space-y-12 > :not(:last-child)) {
    --tw-space-y-reverse: 0;
    margin-block-start: calc(calc(var(--spacing) * 12) * var(--tw-space-y-reverse));
    margin-block-end: calc(calc(var(--spacing) * 12) * calc(1 - var(--tw-space-y-reverse)));
  }

  :where(.space-x-1 > :not(:last-child)) {
    --tw-space-x-reverse: 0;
    margin-inline-start: calc(calc(var(--spacing) * 1) * var(--tw-space-x-reverse));
    margin-inline-end: calc(calc(var(--spacing) * 1) * calc(1 - var(--tw-space-x-reverse)));
  }

  .gap-y-0\.5 {
    row-gap: calc(var(--spacing) * .5);
  }

  .self-start {
    align-self: flex-start;
  }

  .justify-self-end {
    justify-self: flex-end;
  }

  .truncate {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }

  .overflow-auto {
    overflow: auto;
  }

  .overflow-hidden {
    overflow: hidden;
  }

  .overflow-x-auto {
    overflow-x: auto;
  }

  .overflow-x-hidden {
    overflow-x: hidden;
  }

  .overflow-y-auto {
    overflow-y: auto;
  }

  .rounded {
    border-radius: .25rem;
  }

  .rounded-\[2px\] {
    border-radius: 2px;
  }

  .rounded-\[4px\] {
    border-radius: 4px;
  }

  .rounded-\[inherit\] {
    border-radius: inherit;
  }

  .rounded-full {
    border-radius: 3.40282e38px;
  }

  .rounded-lg {
    border-radius: var(--radius);
  }

  .rounded-md {
    border-radius: calc(var(--radius)  - 2px);
  }

  .rounded-none {
    border-radius: 0;
  }

  .rounded-sm {
    border-radius: calc(var(--radius)  - 4px);
  }

  .rounded-xl {
    border-radius: calc(var(--radius)  + 4px);
  }

  .rounded-xs {
    border-radius: var(--radius-xs);
  }

  .rounded-tl-sm {
    border-top-left-radius: calc(var(--radius)  - 4px);
  }

  .border {
    border-style: var(--tw-border-style);
    border-width: 1px;
  }

  .border-2 {
    border-style: var(--tw-border-style);
    border-width: 2px;
  }

  .border-\[1\.5px\] {
    border-style: var(--tw-border-style);
    border-width: 1.5px;
  }

  .border-y {
    border-block-style: var(--tw-border-style);
    border-block-width: 1px;
  }

  .border-t {
    border-top-style: var(--tw-border-style);
    border-top-width: 1px;
  }

  .border-r {
    border-right-style: var(--tw-border-style);
    border-right-width: 1px;
  }

  .border-b {
    border-bottom-style: var(--tw-border-style);
    border-bottom-width: 1px;
  }

  .border-l {
    border-left-style: var(--tw-border-style);
    border-left-width: 1px;
  }

  .border-dashed {
    --tw-border-style: dashed;
    border-style: dashed;
  }

  .border-\(--color-border\) {
    border-color: var(--color-border);
  }

  .border-\[\#1ABC9C\]\/20 {
    border-color: oklab(71.1533% -.130355 .0132511 / .2);
  }

  .border-\[\#2A2F3A\] {
    border-color: #2a2f3a;
  }

  .border-\[\#2C2C2C\] {
    border-color: #2c2c2c;
  }

  .border-\[\#9B59B6\]\/20 {
    border-color: oklab(57.7156% .108414 -.107217 / .2);
  }

  .border-\[\#27AE60\]\/20 {
    border-color: oklab(66.2876% -.141961 .0743057 / .2);
  }

  .border-\[\#27AE60\]\/30 {
    border-color: oklab(66.2876% -.141961 .0743057 / .3);
  }

  .border-\[\#3498DB\]\/20 {
    border-color: oklab(65.3092% -.061809 -.119684 / .2);
  }

  .border-\[\#A7A7A7\] {
    border-color: #a7a7a7;
  }

  .border-\[\#A7A7A7\]\/20 {
    border-color: oklab(72.8378% 2.98023e-8 0 / .2);
  }

  .border-\[\#E67E22\]\/20 {
    border-color: oklab(69.5758% .0903199 .131635 / .2);
  }

  .border-\[\#E74C3C\]\/20 {
    border-color: oklab(63.0682% .168954 .0953622 / .2);
  }

  .border-\[\#E74C3C\]\/30 {
    border-color: oklab(63.0682% .168954 .0953622 / .3);
  }

  .border-\[\#F1C40F\] {
    border-color: #f1c40f;
  }

  .border-\[\#F1C40F\]\/20 {
    border-color: oklab(83.5795% -.00520912 .168889 / .2);
  }

  .border-\[\#F39C12\]\/20 {
    border-color: oklab(76.2795% .0573186 .152235 / .2);
  }

  .border-border\/50 {
    border-color: var(--border);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .border-border\/50 {
      border-color: color-mix(in oklab, var(--border) 50%, transparent);
    }
  }

  .border-input {
    border-color: var(--input);
  }

  .border-primary {
    border-color: var(--primary);
  }

  .border-sidebar-border {
    border-color: var(--sidebar-border);
  }

  .border-transparent {
    border-color: #0000;
  }

  .border-t-transparent {
    border-top-color: #0000;
  }

  .border-l-transparent {
    border-left-color: #0000;
  }

  .bg-\(--color-bg\) {
    background-color: var(--color-bg);
  }

  .bg-\[\#0A0A0A\] {
    background-color: #0a0a0a;
  }

  .bg-\[\#1ABC9C\]\/10 {
    background-color: oklab(71.1533% -.130355 .0132511 / .1);
  }

  .bg-\[\#1B1B1B\] {
    background-color: #1b1b1b;
  }

  .bg-\[\#1C1F26\] {
    background-color: #1c1f26;
  }

  .bg-\[\#2A2F3A\] {
    background-color: #2a2f3a;
  }

  .bg-\[\#2C2C2C\] {
    background-color: #2c2c2c;
  }

  .bg-\[\#2C2C2C\]\/30 {
    background-color: oklab(29.3128% --2.98023e-8 1.49012e-8 / .3);
  }

  .bg-\[\#9B59B6\]\/10 {
    background-color: oklab(57.7156% .108414 -.107217 / .1);
  }

  .bg-\[\#27AE60\] {
    background-color: #27ae60;
  }

  .bg-\[\#27AE60\]\/10 {
    background-color: oklab(66.2876% -.141961 .0743057 / .1);
  }

  .bg-\[\#27AE60\]\/20 {
    background-color: oklab(66.2876% -.141961 .0743057 / .2);
  }

  .bg-\[\#3498DB\] {
    background-color: #3498db;
  }

  .bg-\[\#3498DB\]\/10 {
    background-color: oklab(65.3092% -.061809 -.119684 / .1);
  }

  .bg-\[\#3498DB\]\/20 {
    background-color: oklab(65.3092% -.061809 -.119684 / .2);
  }

  .bg-\[\#111111\] {
    background-color: #111;
  }

  .bg-\[\#E67E22\]\/10 {
    background-color: oklab(69.5758% .0903199 .131635 / .1);
  }

  .bg-\[\#E74C3C\] {
    background-color: #e74c3c;
  }

  .bg-\[\#E74C3C\]\/10 {
    background-color: oklab(63.0682% .168954 .0953622 / .1);
  }

  .bg-\[\#E74C3C\]\/20 {
    background-color: oklab(63.0682% .168954 .0953622 / .2);
  }

  .bg-\[\#F1C40F\] {
    background-color: #f1c40f;
  }

  .bg-\[\#F1C40F\]\/10 {
    background-color: oklab(83.5795% -.00520912 .168889 / .1);
  }

  .bg-\[\#F39C12\] {
    background-color: #f39c12;
  }

  .bg-\[\#F39C12\]\/10 {
    background-color: oklab(76.2795% .0573186 .152235 / .1);
  }

  .bg-\[\#F39C12\]\/20 {
    background-color: oklab(76.2795% .0573186 .152235 / .2);
  }

  .bg-accent {
    background-color: var(--accent);
  }

  .bg-background {
    background-color: var(--background);
  }

  .bg-black\/50 {
    background-color: #00000080;
  }

  @supports (color: color-mix(in lab, red, red)) {
    .bg-black\/50 {
      background-color: color-mix(in oklab, var(--color-black) 50%, transparent);
    }
  }

  .bg-border {
    background-color: var(--border);
  }

  .bg-card {
    background-color: var(--card);
  }

  .bg-destructive {
    background-color: var(--destructive);
  }

  .bg-foreground {
    background-color: var(--foreground);
  }

  .bg-gray-100 {
    background-color: var(--color-gray-100);
  }

  .bg-input-background {
    background-color: var(--input-background);
  }

  .bg-muted {
    background-color: var(--muted);
  }

  .bg-muted\/50 {
    background-color: var(--muted);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .bg-muted\/50 {
      background-color: color-mix(in oklab, var(--muted) 50%, transparent);
    }
  }

  .bg-popover {
    background-color: var(--popover);
  }

  .bg-primary {
    background-color: var(--primary);
  }

  .bg-primary\/20 {
    background-color: var(--primary);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .bg-primary\/20 {
      background-color: color-mix(in oklab, var(--primary) 20%, transparent);
    }
  }

  .bg-secondary {
    background-color: var(--secondary);
  }

  .bg-sidebar {
    background-color: var(--sidebar);
  }

  .bg-sidebar-border {
    background-color: var(--sidebar-border);
  }

  .bg-transparent {
    background-color: #0000;
  }

  .fill-current {
    fill: currentColor;
  }

  .fill-primary {
    fill: var(--primary);
  }

  .p-0 {
    padding: calc(var(--spacing) * 0);
  }

  .p-1 {
    padding: calc(var(--spacing) * 1);
  }

  .p-2 {
    padding: calc(var(--spacing) * 2);
  }

  .p-3 {
    padding: calc(var(--spacing) * 3);
  }

  .p-4 {
    padding: calc(var(--spacing) * 4);
  }

  .p-6 {
    padding: calc(var(--spacing) * 6);
  }

  .p-8 {
    padding: calc(var(--spacing) * 8);
  }

  .p-\[3px\] {
    padding: 3px;
  }

  .p-px {
    padding: 1px;
  }

  .px-1 {
    padding-inline: calc(var(--spacing) * 1);
  }

  .px-1\.5 {
    padding-inline: calc(var(--spacing) * 1.5);
  }

  .px-2 {
    padding-inline: calc(var(--spacing) * 2);
  }

  .px-2\.5 {
    padding-inline: calc(var(--spacing) * 2.5);
  }

  .px-3 {
    padding-inline: calc(var(--spacing) * 3);
  }

  .px-4 {
    padding-inline: calc(var(--spacing) * 4);
  }

  .px-6 {
    padding-inline: calc(var(--spacing) * 6);
  }

  .px-8 {
    padding-inline: calc(var(--spacing) * 8);
  }

  .py-0\.5 {
    padding-block: calc(var(--spacing) * .5);
  }

  .py-1 {
    padding-block: calc(var(--spacing) * 1);
  }

  .py-1\.5 {
    padding-block: calc(var(--spacing) * 1.5);
  }

  .py-2 {
    padding-block: calc(var(--spacing) * 2);
  }

  .py-3 {
    padding-block: calc(var(--spacing) * 3);
  }

  .py-4 {
    padding-block: calc(var(--spacing) * 4);
  }

  .py-6 {
    padding-block: calc(var(--spacing) * 6);
  }

  .py-8 {
    padding-block: calc(var(--spacing) * 8);
  }

  .pt-0 {
    padding-top: calc(var(--spacing) * 0);
  }

  .pt-1 {
    padding-top: calc(var(--spacing) * 1);
  }

  .pt-3 {
    padding-top: calc(var(--spacing) * 3);
  }

  .pt-4 {
    padding-top: calc(var(--spacing) * 4);
  }

  .pt-6 {
    padding-top: calc(var(--spacing) * 6);
  }

  .pr-2 {
    padding-right: calc(var(--spacing) * 2);
  }

  .pr-2\.5 {
    padding-right: calc(var(--spacing) * 2.5);
  }

  .pr-8 {
    padding-right: calc(var(--spacing) * 8);
  }

  .pb-3 {
    padding-bottom: calc(var(--spacing) * 3);
  }

  .pb-4 {
    padding-bottom: calc(var(--spacing) * 4);
  }

  .pb-6 {
    padding-bottom: calc(var(--spacing) * 6);
  }

  .pl-2 {
    padding-left: calc(var(--spacing) * 2);
  }

  .pl-4 {
    padding-left: calc(var(--spacing) * 4);
  }

  .pl-8 {
    padding-left: calc(var(--spacing) * 8);
  }

  .pl-10 {
    padding-left: calc(var(--spacing) * 10);
  }

  .text-center {
    text-align: center;
  }

  .text-left {
    text-align: left;
  }

  .align-middle {
    vertical-align: middle;
  }

  .font-mono {
    font-family: var(--font-mono);
  }

  .text-2xl {
    font-size: var(--text-2xl);
    line-height: var(--tw-leading, var(--text-2xl--line-height));
  }

  .text-3xl {
    font-size: var(--text-3xl);
    line-height: var(--tw-leading, var(--text-3xl--line-height));
  }

  .text-4xl {
    font-size: var(--text-4xl);
    line-height: var(--tw-leading, var(--text-4xl--line-height));
  }

  .text-base {
    font-size: var(--text-base);
    line-height: var(--tw-leading, var(--text-base--line-height));
  }

  .text-lg {
    font-size: var(--text-lg);
    line-height: var(--tw-leading, var(--text-lg--line-height));
  }

  .text-sm {
    font-size: var(--text-sm);
    line-height: var(--tw-leading, var(--text-sm--line-height));
  }

  .text-xl {
    font-size: var(--text-xl);
    line-height: var(--tw-leading, var(--text-xl--line-height));
  }

  .text-xs {
    font-size: var(--text-xs);
    line-height: var(--tw-leading, var(--text-xs--line-height));
  }

  .text-\[0\.8rem\] {
    font-size: .8rem;
  }

  .leading-none {
    --tw-leading: 1;
    line-height: 1;
  }

  .font-bold {
    --tw-font-weight: var(--font-weight-bold);
    font-weight: var(--font-weight-bold);
  }

  .font-medium {
    --tw-font-weight: var(--font-weight-medium);
    font-weight: var(--font-weight-medium);
  }

  .font-normal {
    --tw-font-weight: var(--font-weight-normal);
    font-weight: var(--font-weight-normal);
  }

  .font-semibold {
    --tw-font-weight: var(--font-weight-semibold);
    font-weight: var(--font-weight-semibold);
  }

  .tracking-tight {
    --tw-tracking: var(--tracking-tight);
    letter-spacing: var(--tracking-tight);
  }

  .tracking-widest {
    --tw-tracking: var(--tracking-widest);
    letter-spacing: var(--tracking-widest);
  }

  .text-balance {
    text-wrap: balance;
  }

  .break-words {
    overflow-wrap: break-word;
  }

  .break-all {
    word-break: break-all;
  }

  .whitespace-nowrap {
    white-space: nowrap;
  }

  .text-\[\#1ABC9C\] {
    color: #1abc9c;
  }

  .text-\[\#9B59B6\] {
    color: #9b59b6;
  }

  .text-\[\#27AE60\] {
    color: #27ae60;
  }

  .text-\[\#3498DB\] {
    color: #3498db;
  }

  .text-\[\#111111\] {
    color: #111;
  }

  .text-\[\#A7A7A7\] {
    color: #a7a7a7;
  }

  .text-\[\#E67E22\] {
    color: #e67e22;
  }

  .text-\[\#E74C3C\] {
    color: #e74c3c;
  }

  .text-\[\#EAECEF\] {
    color: #eaecef;
  }

  .text-\[\#F1C40F\] {
    color: #f1c40f;
  }

  .text-\[\#F39C12\] {
    color: #f39c12;
  }

  .text-accent-foreground {
    color: var(--accent-foreground);
  }

  .text-black {
    color: var(--color-black);
  }

  .text-card-foreground {
    color: var(--card-foreground);
  }

  .text-current {
    color: currentColor;
  }

  .text-destructive {
    color: var(--destructive);
  }

  .text-destructive-foreground {
    color: var(--destructive-foreground);
  }

  .text-foreground {
    color: var(--foreground);
  }

  .text-muted-foreground {
    color: var(--muted-foreground);
  }

  .text-popover-foreground {
    color: var(--popover-foreground);
  }

  .text-primary {
    color: var(--primary);
  }

  .text-primary-foreground {
    color: var(--primary-foreground);
  }

  .text-secondary-foreground {
    color: var(--secondary-foreground);
  }

  .text-sidebar-foreground {
    color: var(--sidebar-foreground);
  }

  .text-sidebar-foreground\/70 {
    color: var(--sidebar-foreground);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .text-sidebar-foreground\/70 {
      color: color-mix(in oklab, var(--sidebar-foreground) 70%, transparent);
    }
  }

  .text-white {
    color: var(--color-white);
  }

  .capitalize {
    text-transform: capitalize;
  }

  .tabular-nums {
    --tw-numeric-spacing: tabular-nums;
    font-variant-numeric: var(--tw-ordinal, ) var(--tw-slashed-zero, ) var(--tw-numeric-figure, ) var(--tw-numeric-spacing, ) var(--tw-numeric-fraction, );
  }

  .underline-offset-4 {
    text-underline-offset: 4px;
  }

  .opacity-40 {
    opacity: .4;
  }

  .opacity-50 {
    opacity: .5;
  }

  .opacity-70 {
    opacity: .7;
  }

  .shadow {
    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, #0000001a), 0 1px 2px -1px var(--tw-shadow-color, #0000001a);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .shadow-\[0_0_0_1px_hsl\(var\(--sidebar-border\)\)\] {
    --tw-shadow: 0 0 0 1px var(--tw-shadow-color, hsl(var(--sidebar-border)));
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .shadow-lg {
    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, #0000001a), 0 4px 6px -4px var(--tw-shadow-color, #0000001a);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .shadow-md {
    --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, #0000001a), 0 2px 4px -2px var(--tw-shadow-color, #0000001a);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .shadow-none {
    --tw-shadow: 0 0 #0000;
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .shadow-sm {
    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, #0000001a), 0 1px 2px -1px var(--tw-shadow-color, #0000001a);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .shadow-xl {
    --tw-shadow: 0 20px 25px -5px var(--tw-shadow-color, #0000001a), 0 8px 10px -6px var(--tw-shadow-color, #0000001a);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .shadow-xs {
    --tw-shadow: 0 1px 2px 0 var(--tw-shadow-color, #0000000d);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .ring {
    --tw-ring-shadow: var(--tw-ring-inset, ) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .ring-0 {
    --tw-ring-shadow: var(--tw-ring-inset, ) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .ring-ring\/50 {
    --tw-ring-color: var(--ring);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .ring-ring\/50 {
      --tw-ring-color: color-mix(in oklab, var(--ring) 50%, transparent);
    }
  }

  .ring-sidebar-ring {
    --tw-ring-color: var(--sidebar-ring);
  }

  .ring-offset-background {
    --tw-ring-offset-color: var(--background);
  }

  .outline-hidden {
    --tw-outline-style: none;
    outline-style: none;
  }

  @media (forced-colors: active) {
    .outline-hidden {
      outline-offset: 2px;
      outline: 2px solid #0000;
    }
  }

  .outline {
    outline-style: var(--tw-outline-style);
    outline-width: 1px;
  }

  .filter {
    filter: var(--tw-blur, ) var(--tw-brightness, ) var(--tw-contrast, ) var(--tw-grayscale, ) var(--tw-hue-rotate, ) var(--tw-invert, ) var(--tw-saturate, ) var(--tw-sepia, ) var(--tw-drop-shadow, );
  }

  .transition {
    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, -webkit-backdrop-filter, backdrop-filter;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }

  .transition-\[color\,box-shadow\] {
    transition-property: color, box-shadow;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }

  .transition-\[left\,right\,width\] {
    transition-property: left, right, width;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }

  .transition-\[margin\,opacity\] {
    transition-property: margin, opacity;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }

  .transition-\[width\,height\,padding\] {
    transition-property: width, height, padding;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }

  .transition-\[width\] {
    transition-property: width;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }

  .transition-all {
    transition-property: all;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }

  .transition-colors {
    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }

  .transition-opacity {
    transition-property: opacity;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }

  .transition-shadow {
    transition-property: box-shadow;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }

  .transition-transform {
    transition-property: transform, translate, scale, rotate;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }

  .transition-none {
    transition-property: none;
  }

  .duration-200 {
    --tw-duration: .2s;
    transition-duration: .2s;
  }

  .duration-300 {
    --tw-duration: .3s;
    transition-duration: .3s;
  }

  .duration-1000 {
    --tw-duration: 1s;
    transition-duration: 1s;
  }

  .ease-in-out {
    --tw-ease: var(--ease-in-out);
    transition-timing-function: var(--ease-in-out);
  }

  .ease-linear {
    --tw-ease: linear;
    transition-timing-function: linear;
  }

  .outline-none {
    --tw-outline-style: none;
    outline-style: none;
  }

  .select-none {
    -webkit-user-select: none;
    user-select: none;
  }

  .fade-in-0 {
    --tw-enter-opacity: 0;
  }

  .zoom-in-95 {
    --tw-enter-scale: .95;
  }

  .group-focus-within\/menu-item\:opacity-100:is(:where(.group\/menu-item):focus-within *) {
    opacity: 1;
  }

  @media (hover: hover) {
    .group-hover\/menu-item\:opacity-100:is(:where(.group\/menu-item):hover *) {
      opacity: 1;
    }
  }

  .group-has-data-\[sidebar\=menu-action\]\/menu-item\:pr-8:is(:where(.group\/menu-item):has([data-sidebar="menu-action"]) *) {
    padding-right: calc(var(--spacing) * 8);
  }

  .group-data-\[collapsible\=icon\]\:-mt-8:is(:where(.group)[data-collapsible="icon"] *) {
    margin-top: calc(var(--spacing) * -8);
  }

  .group-data-\[collapsible\=icon\]\:hidden:is(:where(.group)[data-collapsible="icon"] *) {
    display: none;
  }

  .group-data-\[collapsible\=icon\]\:size-8\!:is(:where(.group)[data-collapsible="icon"] *) {
    width: calc(var(--spacing) * 8) !important;
    height: calc(var(--spacing) * 8) !important;
  }

  .group-data-\[collapsible\=icon\]\:w-\(--sidebar-width-icon\):is(:where(.group)[data-collapsible="icon"] *) {
    width: var(--sidebar-width-icon);
  }

  .group-data-\[collapsible\=icon\]\:w-\[calc\(var\(--sidebar-width-icon\)\+\(--spacing\(4\)\)\)\]:is(:where(.group)[data-collapsible="icon"] *) {
    width: calc(var(--sidebar-width-icon)  + (calc(var(--spacing) * 4)));
  }

  .group-data-\[collapsible\=icon\]\:w-\[calc\(var\(--sidebar-width-icon\)\+\(--spacing\(4\)\)\+2px\)\]:is(:where(.group)[data-collapsible="icon"] *) {
    width: calc(var(--sidebar-width-icon)  + (calc(var(--spacing) * 4))  + 2px);
  }

  .group-data-\[collapsible\=icon\]\:overflow-hidden:is(:where(.group)[data-collapsible="icon"] *) {
    overflow: hidden;
  }

  .group-data-\[collapsible\=icon\]\:p-0\!:is(:where(.group)[data-collapsible="icon"] *) {
    padding: calc(var(--spacing) * 0) !important;
  }

  .group-data-\[collapsible\=icon\]\:p-2\!:is(:where(.group)[data-collapsible="icon"] *) {
    padding: calc(var(--spacing) * 2) !important;
  }

  .group-data-\[collapsible\=icon\]\:opacity-0:is(:where(.group)[data-collapsible="icon"] *) {
    opacity: 0;
  }

  .group-data-\[collapsible\=offcanvas\]\:right-\[calc\(var\(--sidebar-width\)\*-1\)\]:is(:where(.group)[data-collapsible="offcanvas"] *) {
    right: calc(var(--sidebar-width) * -1);
  }

  .group-data-\[collapsible\=offcanvas\]\:left-\[calc\(var\(--sidebar-width\)\*-1\)\]:is(:where(.group)[data-collapsible="offcanvas"] *) {
    left: calc(var(--sidebar-width) * -1);
  }

  .group-data-\[collapsible\=offcanvas\]\:w-0:is(:where(.group)[data-collapsible="offcanvas"] *) {
    width: calc(var(--spacing) * 0);
  }

  .group-data-\[collapsible\=offcanvas\]\:translate-x-0:is(:where(.group)[data-collapsible="offcanvas"] *) {
    --tw-translate-x: calc(var(--spacing) * 0);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .group-data-\[disabled\=true\]\:pointer-events-none:is(:where(.group)[data-disabled="true"] *) {
    pointer-events: none;
  }

  .group-data-\[disabled\=true\]\:opacity-50:is(:where(.group)[data-disabled="true"] *) {
    opacity: .5;
  }

  .group-data-\[side\=left\]\:-right-4:is(:where(.group)[data-side="left"] *) {
    right: calc(var(--spacing) * -4);
  }

  .group-data-\[side\=left\]\:border-r:is(:where(.group)[data-side="left"] *) {
    border-right-style: var(--tw-border-style);
    border-right-width: 1px;
  }

  .group-data-\[side\=right\]\:left-0:is(:where(.group)[data-side="right"] *) {
    left: calc(var(--spacing) * 0);
  }

  .group-data-\[side\=right\]\:rotate-180:is(:where(.group)[data-side="right"] *) {
    rotate: 180deg;
  }

  .group-data-\[side\=right\]\:border-l:is(:where(.group)[data-side="right"] *) {
    border-left-style: var(--tw-border-style);
    border-left-width: 1px;
  }

  .group-data-\[state\=open\]\:rotate-180:is(:where(.group)[data-state="open"] *) {
    rotate: 180deg;
  }

  .group-data-\[variant\=floating\]\:rounded-lg:is(:where(.group)[data-variant="floating"] *) {
    border-radius: var(--radius);
  }

  .group-data-\[variant\=floating\]\:border:is(:where(.group)[data-variant="floating"] *) {
    border-style: var(--tw-border-style);
    border-width: 1px;
  }

  .group-data-\[variant\=floating\]\:border-sidebar-border:is(:where(.group)[data-variant="floating"] *) {
    border-color: var(--sidebar-border);
  }

  .group-data-\[variant\=floating\]\:shadow-sm:is(:where(.group)[data-variant="floating"] *) {
    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, #0000001a), 0 1px 2px -1px var(--tw-shadow-color, #0000001a);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .group-data-\[vaul-drawer-direction\=bottom\]\/drawer-content\:block:is(:where(.group\/drawer-content)[data-vaul-drawer-direction="bottom"] *) {
    display: block;
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:top-full:is(:where(.group\/navigation-menu)[data-viewport="false"] *) {
    top: 100%;
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:mt-1\.5:is(:where(.group\/navigation-menu)[data-viewport="false"] *) {
    margin-top: calc(var(--spacing) * 1.5);
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:overflow-hidden:is(:where(.group\/navigation-menu)[data-viewport="false"] *) {
    overflow: hidden;
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:rounded-md:is(:where(.group\/navigation-menu)[data-viewport="false"] *) {
    border-radius: calc(var(--radius)  - 2px);
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:border:is(:where(.group\/navigation-menu)[data-viewport="false"] *) {
    border-style: var(--tw-border-style);
    border-width: 1px;
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:bg-popover:is(:where(.group\/navigation-menu)[data-viewport="false"] *) {
    background-color: var(--popover);
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:text-popover-foreground:is(:where(.group\/navigation-menu)[data-viewport="false"] *) {
    color: var(--popover-foreground);
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:shadow:is(:where(.group\/navigation-menu)[data-viewport="false"] *) {
    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, #0000001a), 0 1px 2px -1px var(--tw-shadow-color, #0000001a);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:duration-200:is(:where(.group\/navigation-menu)[data-viewport="false"] *) {
    --tw-duration: .2s;
    transition-duration: .2s;
  }

  @media (hover: hover) {
    .peer-hover\/menu-button\:text-sidebar-accent-foreground:is(:where(.peer\/menu-button):hover ~ *) {
      color: var(--sidebar-accent-foreground);
    }
  }

  .peer-disabled\:cursor-not-allowed:is(:where(.peer):disabled ~ *) {
    cursor: not-allowed;
  }

  .peer-disabled\:opacity-50:is(:where(.peer):disabled ~ *) {
    opacity: .5;
  }

  .peer-data-\[active\=true\]\/menu-button\:text-sidebar-accent-foreground:is(:where(.peer\/menu-button)[data-active="true"] ~ *) {
    color: var(--sidebar-accent-foreground);
  }

  .peer-data-\[size\=default\]\/menu-button\:top-1\.5:is(:where(.peer\/menu-button)[data-size="default"] ~ *) {
    top: calc(var(--spacing) * 1.5);
  }

  .peer-data-\[size\=lg\]\/menu-button\:top-2\.5:is(:where(.peer\/menu-button)[data-size="lg"] ~ *) {
    top: calc(var(--spacing) * 2.5);
  }

  .peer-data-\[size\=sm\]\/menu-button\:top-1:is(:where(.peer\/menu-button)[data-size="sm"] ~ *) {
    top: calc(var(--spacing) * 1);
  }

  .selection\:bg-primary ::selection, .selection\:bg-primary::selection {
    background-color: var(--primary);
  }

  .selection\:text-primary-foreground ::selection, .selection\:text-primary-foreground::selection {
    color: var(--primary-foreground);
  }

  .file\:inline-flex::file-selector-button {
    display: inline-flex;
  }

  .file\:h-7::file-selector-button {
    height: calc(var(--spacing) * 7);
  }

  .file\:border-0::file-selector-button {
    border-style: var(--tw-border-style);
    border-width: 0;
  }

  .file\:bg-transparent::file-selector-button {
    background-color: #0000;
  }

  .file\:text-sm::file-selector-button {
    font-size: var(--text-sm);
    line-height: var(--tw-leading, var(--text-sm--line-height));
  }

  .file\:font-medium::file-selector-button {
    --tw-font-weight: var(--font-weight-medium);
    font-weight: var(--font-weight-medium);
  }

  .file\:text-foreground::file-selector-button {
    color: var(--foreground);
  }

  .placeholder\:text-muted-foreground::placeholder {
    color: var(--muted-foreground);
  }

  .after\:absolute:after {
    content: var(--tw-content);
    position: absolute;
  }

  .after\:-inset-2:after {
    content: var(--tw-content);
    inset: calc(var(--spacing) * -2);
  }

  .after\:inset-y-0:after {
    content: var(--tw-content);
    inset-block: calc(var(--spacing) * 0);
  }

  .after\:left-1\/2:after {
    content: var(--tw-content);
    left: 50%;
  }

  .after\:w-1:after {
    content: var(--tw-content);
    width: calc(var(--spacing) * 1);
  }

  .after\:w-\[2px\]:after {
    content: var(--tw-content);
    width: 2px;
  }

  .after\:-translate-x-1\/2:after {
    content: var(--tw-content);
    --tw-translate-x: calc(calc(1 / 2 * 100%) * -1);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .group-data-\[collapsible\=offcanvas\]\:after\:left-full:is(:where(.group)[data-collapsible="offcanvas"] *):after {
    content: var(--tw-content);
    left: 100%;
  }

  .first\:rounded-l-md:first-child {
    border-top-left-radius: calc(var(--radius)  - 2px);
    border-bottom-left-radius: calc(var(--radius)  - 2px);
  }

  .first\:border-l:first-child {
    border-left-style: var(--tw-border-style);
    border-left-width: 1px;
  }

  .last\:rounded-r-md:last-child {
    border-top-right-radius: calc(var(--radius)  - 2px);
    border-bottom-right-radius: calc(var(--radius)  - 2px);
  }

  .last\:border-b-0:last-child {
    border-bottom-style: var(--tw-border-style);
    border-bottom-width: 0;
  }

  .focus-within\:relative:focus-within {
    position: relative;
  }

  .focus-within\:z-20:focus-within {
    z-index: 20;
  }

  @media (hover: hover) {
    .hover\:scale-\[1\.02\]:hover {
      scale: 1.02;
    }
  }

  @media (hover: hover) {
    .hover\:border-\[\#3C3C3C\]:hover {
      border-color: #3c3c3c;
    }
  }

  @media (hover: hover) {
    .hover\:border-\[\#404040\]:hover {
      border-color: #404040;
    }
  }

  @media (hover: hover) {
    .hover\:bg-\[\#2C2C2C\]:hover {
      background-color: #2c2c2c;
    }
  }

  @media (hover: hover) {
    .hover\:bg-\[\#2C2C2C\]\/30:hover {
      background-color: oklab(29.3128% --2.98023e-8 1.49012e-8 / .3);
    }
  }

  @media (hover: hover) {
    .hover\:bg-\[\#2C2C2C\]\/50:hover {
      background-color: oklab(29.3128% --2.98023e-8 1.49012e-8 / .5);
    }
  }

  @media (hover: hover) {
    .hover\:bg-\[\#27AE60\]\/90:hover {
      background-color: oklab(66.2876% -.141961 .0743057 / .9);
    }
  }

  @media (hover: hover) {
    .hover\:bg-\[\#232323\]:hover {
      background-color: #232323;
    }
  }

  @media (hover: hover) {
    .hover\:bg-\[\#232834\]:hover {
      background-color: #232834;
    }
  }

  @media (hover: hover) {
    .hover\:bg-\[\#E8B907\]:hover {
      background-color: #e8b907;
    }
  }

  @media (hover: hover) {
    .hover\:bg-\[\#E74C3C\]\/90:hover {
      background-color: oklab(63.0682% .168954 .0953622 / .9);
    }
  }

  @media (hover: hover) {
    .hover\:bg-\[\#F1C40F\]\/90:hover {
      background-color: oklab(83.5795% -.00520912 .168889 / .9);
    }
  }

  @media (hover: hover) {
    .hover\:bg-accent:hover {
      background-color: var(--accent);
    }
  }

  @media (hover: hover) {
    .hover\:bg-destructive\/80:hover {
      background-color: var(--destructive);
    }

    @supports (color: color-mix(in lab, red, red)) {
      .hover\:bg-destructive\/80:hover {
        background-color: color-mix(in oklab, var(--destructive) 80%, transparent);
      }
    }
  }

  @media (hover: hover) {
    .hover\:bg-destructive\/90:hover {
      background-color: var(--destructive);
    }

    @supports (color: color-mix(in lab, red, red)) {
      .hover\:bg-destructive\/90:hover {
        background-color: color-mix(in oklab, var(--destructive) 90%, transparent);
      }
    }
  }

  @media (hover: hover) {
    .hover\:bg-muted:hover {
      background-color: var(--muted);
    }
  }

  @media (hover: hover) {
    .hover\:bg-muted\/50:hover {
      background-color: var(--muted);
    }

    @supports (color: color-mix(in lab, red, red)) {
      .hover\:bg-muted\/50:hover {
        background-color: color-mix(in oklab, var(--muted) 50%, transparent);
      }
    }
  }

  @media (hover: hover) {
    .hover\:bg-primary:hover {
      background-color: var(--primary);
    }
  }

  @media (hover: hover) {
    .hover\:bg-primary\/80:hover {
      background-color: var(--primary);
    }

    @supports (color: color-mix(in lab, red, red)) {
      .hover\:bg-primary\/80:hover {
        background-color: color-mix(in oklab, var(--primary) 80%, transparent);
      }
    }
  }

  @media (hover: hover) {
    .hover\:bg-primary\/90:hover {
      background-color: var(--primary);
    }

    @supports (color: color-mix(in lab, red, red)) {
      .hover\:bg-primary\/90:hover {
        background-color: color-mix(in oklab, var(--primary) 90%, transparent);
      }
    }
  }

  @media (hover: hover) {
    .hover\:bg-secondary\/80:hover {
      background-color: var(--secondary);
    }

    @supports (color: color-mix(in lab, red, red)) {
      .hover\:bg-secondary\/80:hover {
        background-color: color-mix(in oklab, var(--secondary) 80%, transparent);
      }
    }
  }

  @media (hover: hover) {
    .hover\:bg-sidebar-accent:hover {
      background-color: var(--sidebar-accent);
    }
  }

  @media (hover: hover) {
    .hover\:text-accent-foreground:hover {
      color: var(--accent-foreground);
    }
  }

  @media (hover: hover) {
    .hover\:text-foreground:hover {
      color: var(--foreground);
    }
  }

  @media (hover: hover) {
    .hover\:text-muted-foreground:hover {
      color: var(--muted-foreground);
    }
  }

  @media (hover: hover) {
    .hover\:text-primary-foreground:hover {
      color: var(--primary-foreground);
    }
  }

  @media (hover: hover) {
    .hover\:text-sidebar-accent-foreground:hover {
      color: var(--sidebar-accent-foreground);
    }
  }

  @media (hover: hover) {
    .hover\:underline:hover {
      text-decoration-line: underline;
    }
  }

  @media (hover: hover) {
    .hover\:opacity-100:hover {
      opacity: 1;
    }
  }

  @media (hover: hover) {
    .hover\:shadow-\[0_0_0_1px_hsl\(var\(--sidebar-accent\)\)\]:hover {
      --tw-shadow: 0 0 0 1px var(--tw-shadow-color, hsl(var(--sidebar-accent)));
      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
    }
  }

  @media (hover: hover) {
    .hover\:ring-4:hover {
      --tw-ring-shadow: var(--tw-ring-inset, ) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
    }
  }

  @media (hover: hover) {
    .hover\:group-data-\[collapsible\=offcanvas\]\:bg-sidebar:hover:is(:where(.group)[data-collapsible="offcanvas"] *) {
      background-color: var(--sidebar);
    }
  }

  @media (hover: hover) {
    .hover\:after\:bg-sidebar-border:hover:after {
      content: var(--tw-content);
      background-color: var(--sidebar-border);
    }
  }

  .focus\:z-10:focus {
    z-index: 10;
  }

  .focus\:bg-accent:focus {
    background-color: var(--accent);
  }

  .focus\:bg-primary:focus {
    background-color: var(--primary);
  }

  .focus\:text-accent-foreground:focus {
    color: var(--accent-foreground);
  }

  .focus\:text-primary-foreground:focus {
    color: var(--primary-foreground);
  }

  .focus\:ring-2:focus {
    --tw-ring-shadow: var(--tw-ring-inset, ) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .focus\:ring-\[\#F1C40F\]:focus {
    --tw-ring-color: #f1c40f;
  }

  .focus\:ring-ring:focus {
    --tw-ring-color: var(--ring);
  }

  .focus\:ring-offset-2:focus {
    --tw-ring-offset-width: 2px;
    --tw-ring-offset-shadow: var(--tw-ring-inset, ) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
  }

  .focus\:ring-offset-\[\#111111\]:focus {
    --tw-ring-offset-color: #111;
  }

  .focus\:outline-hidden:focus {
    --tw-outline-style: none;
    outline-style: none;
  }

  @media (forced-colors: active) {
    .focus\:outline-hidden:focus {
      outline-offset: 2px;
      outline: 2px solid #0000;
    }
  }

  .focus\:outline-none:focus {
    --tw-outline-style: none;
    outline-style: none;
  }

  .focus-visible\:z-10:focus-visible {
    z-index: 10;
  }

  .focus-visible\:border-ring:focus-visible {
    border-color: var(--ring);
  }

  .focus-visible\:ring-1:focus-visible {
    --tw-ring-shadow: var(--tw-ring-inset, ) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .focus-visible\:ring-2:focus-visible {
    --tw-ring-shadow: var(--tw-ring-inset, ) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .focus-visible\:ring-4:focus-visible {
    --tw-ring-shadow: var(--tw-ring-inset, ) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .focus-visible\:ring-\[3px\]:focus-visible {
    --tw-ring-shadow: var(--tw-ring-inset, ) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .focus-visible\:ring-destructive\/20:focus-visible {
    --tw-ring-color: var(--destructive);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .focus-visible\:ring-destructive\/20:focus-visible {
      --tw-ring-color: color-mix(in oklab, var(--destructive) 20%, transparent);
    }
  }

  .focus-visible\:ring-ring:focus-visible {
    --tw-ring-color: var(--ring);
  }

  .focus-visible\:ring-ring\/50:focus-visible {
    --tw-ring-color: var(--ring);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .focus-visible\:ring-ring\/50:focus-visible {
      --tw-ring-color: color-mix(in oklab, var(--ring) 50%, transparent);
    }
  }

  .focus-visible\:ring-offset-1:focus-visible {
    --tw-ring-offset-width: 1px;
    --tw-ring-offset-shadow: var(--tw-ring-inset, ) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
  }

  .focus-visible\:ring-offset-2:focus-visible {
    --tw-ring-offset-width: 2px;
    --tw-ring-offset-shadow: var(--tw-ring-inset, ) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
  }

  .focus-visible\:outline-hidden:focus-visible {
    --tw-outline-style: none;
    outline-style: none;
  }

  @media (forced-colors: active) {
    .focus-visible\:outline-hidden:focus-visible {
      outline-offset: 2px;
      outline: 2px solid #0000;
    }
  }

  .focus-visible\:outline-1:focus-visible {
    outline-style: var(--tw-outline-style);
    outline-width: 1px;
  }

  .focus-visible\:outline-ring:focus-visible {
    outline-color: var(--ring);
  }

  .focus-visible\:outline-none:focus-visible {
    --tw-outline-style: none;
    outline-style: none;
  }

  .active\:bg-sidebar-accent:active {
    background-color: var(--sidebar-accent);
  }

  .active\:text-sidebar-accent-foreground:active {
    color: var(--sidebar-accent-foreground);
  }

  .disabled\:pointer-events-none:disabled {
    pointer-events: none;
  }

  .disabled\:cursor-not-allowed:disabled {
    cursor: not-allowed;
  }

  .disabled\:opacity-50:disabled {
    opacity: .5;
  }

  :where([data-side="left"]) .in-data-\[side\=left\]\:cursor-w-resize {
    cursor: w-resize;
  }

  :where([data-side="right"]) .in-data-\[side\=right\]\:cursor-e-resize {
    cursor: e-resize;
  }

  .has-disabled\:opacity-50:has(:disabled) {
    opacity: .5;
  }

  .has-data-\[slot\=card-action\]\:grid-cols-\[1fr_auto\]:has([data-slot="card-action"]) {
    grid-template-columns: 1fr auto;
  }

  .has-data-\[variant\=inset\]\:bg-sidebar:has([data-variant="inset"]) {
    background-color: var(--sidebar);
  }

  .has-\[\>svg\]\:grid-cols-\[calc\(var\(--spacing\)\*4\)_1fr\]:has( > svg) {
    grid-template-columns: calc(var(--spacing) * 4) 1fr;
  }

  .has-\[\>svg\]\:gap-x-3:has( > svg) {
    column-gap: calc(var(--spacing) * 3);
  }

  .has-\[\>svg\]\:px-2\.5:has( > svg) {
    padding-inline: calc(var(--spacing) * 2.5);
  }

  .has-\[\>svg\]\:px-3:has( > svg) {
    padding-inline: calc(var(--spacing) * 3);
  }

  .has-\[\>svg\]\:px-4:has( > svg) {
    padding-inline: calc(var(--spacing) * 4);
  }

  .aria-disabled\:pointer-events-none[aria-disabled="true"] {
    pointer-events: none;
  }

  .aria-disabled\:opacity-50[aria-disabled="true"] {
    opacity: .5;
  }

  .aria-invalid\:border-destructive[aria-invalid="true"] {
    border-color: var(--destructive);
  }

  .aria-invalid\:ring-destructive\/20[aria-invalid="true"] {
    --tw-ring-color: var(--destructive);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .aria-invalid\:ring-destructive\/20[aria-invalid="true"] {
      --tw-ring-color: color-mix(in oklab, var(--destructive) 20%, transparent);
    }
  }

  .aria-selected\:bg-accent[aria-selected="true"] {
    background-color: var(--accent);
  }

  .aria-selected\:bg-primary[aria-selected="true"] {
    background-color: var(--primary);
  }

  .aria-selected\:text-accent-foreground[aria-selected="true"] {
    color: var(--accent-foreground);
  }

  .aria-selected\:text-muted-foreground[aria-selected="true"] {
    color: var(--muted-foreground);
  }

  .aria-selected\:text-primary-foreground[aria-selected="true"] {
    color: var(--primary-foreground);
  }

  .aria-selected\:opacity-100[aria-selected="true"] {
    opacity: 1;
  }

  .data-\[active\=true\]\:z-10[data-active="true"] {
    z-index: 10;
  }

  .data-\[active\=true\]\:border-ring[data-active="true"] {
    border-color: var(--ring);
  }

  .data-\[active\=true\]\:bg-accent\/50[data-active="true"] {
    background-color: var(--accent);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .data-\[active\=true\]\:bg-accent\/50[data-active="true"] {
      background-color: color-mix(in oklab, var(--accent) 50%, transparent);
    }
  }

  .data-\[active\=true\]\:bg-sidebar-accent[data-active="true"] {
    background-color: var(--sidebar-accent);
  }

  .data-\[active\=true\]\:font-medium[data-active="true"] {
    --tw-font-weight: var(--font-weight-medium);
    font-weight: var(--font-weight-medium);
  }

  .data-\[active\=true\]\:text-accent-foreground[data-active="true"] {
    color: var(--accent-foreground);
  }

  .data-\[active\=true\]\:text-sidebar-accent-foreground[data-active="true"] {
    color: var(--sidebar-accent-foreground);
  }

  .data-\[active\=true\]\:ring-\[3px\][data-active="true"] {
    --tw-ring-shadow: var(--tw-ring-inset, ) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .data-\[active\=true\]\:ring-ring\/50[data-active="true"] {
    --tw-ring-color: var(--ring);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .data-\[active\=true\]\:ring-ring\/50[data-active="true"] {
      --tw-ring-color: color-mix(in oklab, var(--ring) 50%, transparent);
    }
  }

  @media (hover: hover) {
    .data-\[active\=true\]\:hover\:bg-accent[data-active="true"]:hover {
      background-color: var(--accent);
    }
  }

  .data-\[active\=true\]\:focus\:bg-accent[data-active="true"]:focus {
    background-color: var(--accent);
  }

  .data-\[active\=true\]\:aria-invalid\:border-destructive[data-active="true"][aria-invalid="true"] {
    border-color: var(--destructive);
  }

  .data-\[active\=true\]\:aria-invalid\:ring-destructive\/20[data-active="true"][aria-invalid="true"] {
    --tw-ring-color: var(--destructive);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .data-\[active\=true\]\:aria-invalid\:ring-destructive\/20[data-active="true"][aria-invalid="true"] {
      --tw-ring-color: color-mix(in oklab, var(--destructive) 20%, transparent);
    }
  }

  .data-\[disabled\]\:pointer-events-none[data-disabled] {
    pointer-events: none;
  }

  .data-\[disabled\]\:opacity-50[data-disabled] {
    opacity: .5;
  }

  .data-\[disabled\=true\]\:pointer-events-none[data-disabled="true"] {
    pointer-events: none;
  }

  .data-\[disabled\=true\]\:opacity-50[data-disabled="true"] {
    opacity: .5;
  }

  .data-\[error\=true\]\:text-destructive[data-error="true"] {
    color: var(--destructive);
  }

  .data-\[inset\]\:pl-8[data-inset] {
    padding-left: calc(var(--spacing) * 8);
  }

  .data-\[motion\=from-end\]\:slide-in-from-right-52[data-motion="from-end"] {
    --tw-enter-translate-x: calc(52 * var(--spacing));
  }

  .data-\[motion\=from-start\]\:slide-in-from-left-52[data-motion="from-start"] {
    --tw-enter-translate-x: calc(52 * var(--spacing) * -1);
  }

  .data-\[motion\=to-end\]\:slide-out-to-right-52[data-motion="to-end"] {
    --tw-exit-translate-x: calc(52 * var(--spacing));
  }

  .data-\[motion\=to-start\]\:slide-out-to-left-52[data-motion="to-start"] {
    --tw-exit-translate-x: calc(52 * var(--spacing) * -1);
  }

  .data-\[motion\^\=from-\]\:animate-in[data-motion^="from-"] {
    animation: enter var(--tw-duration, .15s) var(--tw-ease, ease);
  }

  .data-\[motion\^\=from-\]\:fade-in[data-motion^="from-"] {
    --tw-enter-opacity: 0;
  }

  .data-\[motion\^\=to-\]\:animate-out[data-motion^="to-"] {
    animation: exit var(--tw-duration, .15s) var(--tw-ease, ease);
  }

  .data-\[motion\^\=to-\]\:fade-out[data-motion^="to-"] {
    --tw-exit-opacity: 0;
  }

  .data-\[orientation\=horizontal\]\:h-4[data-orientation="horizontal"] {
    height: calc(var(--spacing) * 4);
  }

  .data-\[orientation\=horizontal\]\:h-full[data-orientation="horizontal"] {
    height: 100%;
  }

  .data-\[orientation\=horizontal\]\:h-px[data-orientation="horizontal"] {
    height: 1px;
  }

  .data-\[orientation\=horizontal\]\:w-full[data-orientation="horizontal"] {
    width: 100%;
  }

  .data-\[orientation\=vertical\]\:h-full[data-orientation="vertical"] {
    height: 100%;
  }

  .data-\[orientation\=vertical\]\:min-h-44[data-orientation="vertical"] {
    min-height: calc(var(--spacing) * 44);
  }

  .data-\[orientation\=vertical\]\:w-1\.5[data-orientation="vertical"] {
    width: calc(var(--spacing) * 1.5);
  }

  .data-\[orientation\=vertical\]\:w-auto[data-orientation="vertical"] {
    width: auto;
  }

  .data-\[orientation\=vertical\]\:w-full[data-orientation="vertical"] {
    width: 100%;
  }

  .data-\[orientation\=vertical\]\:w-px[data-orientation="vertical"] {
    width: 1px;
  }

  .data-\[orientation\=vertical\]\:flex-col[data-orientation="vertical"] {
    flex-direction: column;
  }

  .data-\[panel-group-direction\=vertical\]\:h-px[data-panel-group-direction="vertical"] {
    height: 1px;
  }

  .data-\[panel-group-direction\=vertical\]\:w-full[data-panel-group-direction="vertical"] {
    width: 100%;
  }

  .data-\[panel-group-direction\=vertical\]\:flex-col[data-panel-group-direction="vertical"] {
    flex-direction: column;
  }

  .data-\[panel-group-direction\=vertical\]\:after\:left-0[data-panel-group-direction="vertical"]:after {
    content: var(--tw-content);
    left: calc(var(--spacing) * 0);
  }

  .data-\[panel-group-direction\=vertical\]\:after\:h-1[data-panel-group-direction="vertical"]:after {
    content: var(--tw-content);
    height: calc(var(--spacing) * 1);
  }

  .data-\[panel-group-direction\=vertical\]\:after\:w-full[data-panel-group-direction="vertical"]:after {
    content: var(--tw-content);
    width: 100%;
  }

  .data-\[panel-group-direction\=vertical\]\:after\:translate-x-0[data-panel-group-direction="vertical"]:after {
    content: var(--tw-content);
    --tw-translate-x: calc(var(--spacing) * 0);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .data-\[panel-group-direction\=vertical\]\:after\:-translate-y-1\/2[data-panel-group-direction="vertical"]:after {
    content: var(--tw-content);
    --tw-translate-y: calc(calc(1 / 2 * 100%) * -1);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .data-\[placeholder\]\:text-muted-foreground[data-placeholder] {
    color: var(--muted-foreground);
  }

  .data-\[selected\=true\]\:bg-accent[data-selected="true"] {
    background-color: var(--accent);
  }

  .data-\[selected\=true\]\:text-accent-foreground[data-selected="true"] {
    color: var(--accent-foreground);
  }

  .data-\[side\=bottom\]\:translate-y-1[data-side="bottom"] {
    --tw-translate-y: calc(var(--spacing) * 1);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .data-\[side\=bottom\]\:slide-in-from-top-2[data-side="bottom"] {
    --tw-enter-translate-y: calc(2 * var(--spacing) * -1);
  }

  .data-\[side\=left\]\:-translate-x-1[data-side="left"] {
    --tw-translate-x: calc(var(--spacing) * -1);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .data-\[side\=left\]\:slide-in-from-right-2[data-side="left"] {
    --tw-enter-translate-x: calc(2 * var(--spacing));
  }

  .data-\[side\=right\]\:translate-x-1[data-side="right"] {
    --tw-translate-x: calc(var(--spacing) * 1);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .data-\[side\=right\]\:slide-in-from-left-2[data-side="right"] {
    --tw-enter-translate-x: calc(2 * var(--spacing) * -1);
  }

  .data-\[side\=top\]\:-translate-y-1[data-side="top"] {
    --tw-translate-y: calc(var(--spacing) * -1);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .data-\[side\=top\]\:slide-in-from-bottom-2[data-side="top"] {
    --tw-enter-translate-y: calc(2 * var(--spacing));
  }

  .data-\[size\=default\]\:h-9[data-size="default"] {
    height: calc(var(--spacing) * 9);
  }

  .data-\[size\=sm\]\:h-8[data-size="sm"] {
    height: calc(var(--spacing) * 8);
  }

  :is(.\*\:data-\[slot\=alert-description\]\:text-destructive\/90 > *)[data-slot="alert-description"] {
    color: var(--destructive);
  }

  @supports (color: color-mix(in lab, red, red)) {
    :is(.\*\:data-\[slot\=alert-description\]\:text-destructive\/90 > *)[data-slot="alert-description"] {
      color: color-mix(in oklab, var(--destructive) 90%, transparent);
    }
  }

  :is(.\*\*\:data-\[slot\=command-input-wrapper\]\:h-12 *)[data-slot="command-input-wrapper"] {
    height: calc(var(--spacing) * 12);
  }

  :is(.\*\*\:data-\[slot\=navigation-menu-link\]\:focus\:ring-0 *)[data-slot="navigation-menu-link"]:focus {
    --tw-ring-shadow: var(--tw-ring-inset, ) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  :is(.\*\*\:data-\[slot\=navigation-menu-link\]\:focus\:outline-none *)[data-slot="navigation-menu-link"]:focus {
    --tw-outline-style: none;
    outline-style: none;
  }

  :is(.\*\:data-\[slot\=select-value\]\:line-clamp-1 > *)[data-slot="select-value"] {
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    display: -webkit-box;
    overflow: hidden;
  }

  :is(.\*\:data-\[slot\=select-value\]\:flex > *)[data-slot="select-value"] {
    display: flex;
  }

  :is(.\*\:data-\[slot\=select-value\]\:items-center > *)[data-slot="select-value"] {
    align-items: center;
  }

  :is(.\*\:data-\[slot\=select-value\]\:gap-2 > *)[data-slot="select-value"] {
    gap: calc(var(--spacing) * 2);
  }

  .data-\[state\=active\]\:border-b-2[data-state="active"] {
    border-bottom-style: var(--tw-border-style);
    border-bottom-width: 2px;
  }

  .data-\[state\=active\]\:border-\[\#F1C40F\][data-state="active"] {
    border-color: #f1c40f;
  }

  .data-\[state\=active\]\:bg-card[data-state="active"] {
    background-color: var(--card);
  }

  .data-\[state\=active\]\:bg-transparent[data-state="active"] {
    background-color: #0000;
  }

  .data-\[state\=active\]\:text-\[\#F1C40F\][data-state="active"] {
    color: #f1c40f;
  }

  .data-\[state\=checked\]\:translate-x-\[calc\(100\%-2px\)\][data-state="checked"] {
    --tw-translate-x: calc(100% - 2px);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .data-\[state\=checked\]\:border-primary[data-state="checked"] {
    border-color: var(--primary);
  }

  .data-\[state\=checked\]\:bg-primary[data-state="checked"] {
    background-color: var(--primary);
  }

  .data-\[state\=checked\]\:text-primary-foreground[data-state="checked"] {
    color: var(--primary-foreground);
  }

  .data-\[state\=closed\]\:animate-accordion-up[data-state="closed"] {
    animation: accordion-up var(--tw-duration, .2s) ease-out;
  }

  .data-\[state\=closed\]\:animate-out[data-state="closed"] {
    animation: exit var(--tw-duration, .15s) var(--tw-ease, ease);
  }

  .data-\[state\=closed\]\:duration-300[data-state="closed"] {
    --tw-duration: .3s;
    transition-duration: .3s;
  }

  .data-\[state\=closed\]\:fade-out-0[data-state="closed"] {
    --tw-exit-opacity: 0;
  }

  .data-\[state\=closed\]\:slide-out-to-bottom[data-state="closed"] {
    --tw-exit-translate-y: 100%;
  }

  .data-\[state\=closed\]\:slide-out-to-left[data-state="closed"] {
    --tw-exit-translate-x: -100%;
  }

  .data-\[state\=closed\]\:slide-out-to-right[data-state="closed"] {
    --tw-exit-translate-x: 100%;
  }

  .data-\[state\=closed\]\:slide-out-to-top[data-state="closed"] {
    --tw-exit-translate-y: -100%;
  }

  .data-\[state\=closed\]\:zoom-out-95[data-state="closed"] {
    --tw-exit-scale: .95;
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:data-\[state\=closed\]\:animate-out:is(:where(.group\/navigation-menu)[data-viewport="false"] *)[data-state="closed"] {
    animation: exit var(--tw-duration, .15s) var(--tw-ease, ease);
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:data-\[state\=closed\]\:fade-out-0:is(:where(.group\/navigation-menu)[data-viewport="false"] *)[data-state="closed"] {
    --tw-exit-opacity: 0;
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:data-\[state\=closed\]\:zoom-out-95:is(:where(.group\/navigation-menu)[data-viewport="false"] *)[data-state="closed"] {
    --tw-exit-scale: .95;
  }

  .data-\[state\=hidden\]\:animate-out[data-state="hidden"] {
    animation: exit var(--tw-duration, .15s) var(--tw-ease, ease);
  }

  .data-\[state\=hidden\]\:fade-out[data-state="hidden"] {
    --tw-exit-opacity: 0;
  }

  .data-\[state\=on\]\:bg-accent[data-state="on"] {
    background-color: var(--accent);
  }

  .data-\[state\=on\]\:text-accent-foreground[data-state="on"] {
    color: var(--accent-foreground);
  }

  .data-\[state\=open\]\:animate-accordion-down[data-state="open"] {
    animation: accordion-down var(--tw-duration, .2s) ease-out;
  }

  .data-\[state\=open\]\:animate-in[data-state="open"] {
    animation: enter var(--tw-duration, .15s) var(--tw-ease, ease);
  }

  .data-\[state\=open\]\:bg-accent[data-state="open"] {
    background-color: var(--accent);
  }

  .data-\[state\=open\]\:bg-accent\/50[data-state="open"] {
    background-color: var(--accent);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .data-\[state\=open\]\:bg-accent\/50[data-state="open"] {
      background-color: color-mix(in oklab, var(--accent) 50%, transparent);
    }
  }

  .data-\[state\=open\]\:bg-secondary[data-state="open"] {
    background-color: var(--secondary);
  }

  .data-\[state\=open\]\:text-accent-foreground[data-state="open"] {
    color: var(--accent-foreground);
  }

  .data-\[state\=open\]\:text-muted-foreground[data-state="open"] {
    color: var(--muted-foreground);
  }

  .data-\[state\=open\]\:opacity-100[data-state="open"] {
    opacity: 1;
  }

  .data-\[state\=open\]\:duration-500[data-state="open"] {
    --tw-duration: .5s;
    transition-duration: .5s;
  }

  .data-\[state\=open\]\:fade-in-0[data-state="open"] {
    --tw-enter-opacity: 0;
  }

  .data-\[state\=open\]\:slide-in-from-bottom[data-state="open"] {
    --tw-enter-translate-y: 100%;
  }

  .data-\[state\=open\]\:slide-in-from-left[data-state="open"] {
    --tw-enter-translate-x: -100%;
  }

  .data-\[state\=open\]\:slide-in-from-right[data-state="open"] {
    --tw-enter-translate-x: 100%;
  }

  .data-\[state\=open\]\:slide-in-from-top[data-state="open"] {
    --tw-enter-translate-y: -100%;
  }

  .data-\[state\=open\]\:zoom-in-90[data-state="open"] {
    --tw-enter-scale: .9;
  }

  .data-\[state\=open\]\:zoom-in-95[data-state="open"] {
    --tw-enter-scale: .95;
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:data-\[state\=open\]\:animate-in:is(:where(.group\/navigation-menu)[data-viewport="false"] *)[data-state="open"] {
    animation: enter var(--tw-duration, .15s) var(--tw-ease, ease);
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:data-\[state\=open\]\:fade-in-0:is(:where(.group\/navigation-menu)[data-viewport="false"] *)[data-state="open"] {
    --tw-enter-opacity: 0;
  }

  .group-data-\[viewport\=false\]\/navigation-menu\:data-\[state\=open\]\:zoom-in-95:is(:where(.group\/navigation-menu)[data-viewport="false"] *)[data-state="open"] {
    --tw-enter-scale: .95;
  }

  @media (hover: hover) {
    .data-\[state\=open\]\:hover\:bg-accent[data-state="open"]:hover {
      background-color: var(--accent);
    }
  }

  @media (hover: hover) {
    .data-\[state\=open\]\:hover\:bg-sidebar-accent[data-state="open"]:hover {
      background-color: var(--sidebar-accent);
    }
  }

  @media (hover: hover) {
    .data-\[state\=open\]\:hover\:text-sidebar-accent-foreground[data-state="open"]:hover {
      color: var(--sidebar-accent-foreground);
    }
  }

  .data-\[state\=open\]\:focus\:bg-accent[data-state="open"]:focus {
    background-color: var(--accent);
  }

  .data-\[state\=selected\]\:bg-muted[data-state="selected"] {
    background-color: var(--muted);
  }

  .data-\[state\=unchecked\]\:translate-x-0[data-state="unchecked"] {
    --tw-translate-x: calc(var(--spacing) * 0);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .data-\[state\=unchecked\]\:bg-switch-background[data-state="unchecked"] {
    background-color: var(--switch-background);
  }

  .data-\[state\=visible\]\:animate-in[data-state="visible"] {
    animation: enter var(--tw-duration, .15s) var(--tw-ease, ease);
  }

  .data-\[state\=visible\]\:fade-in[data-state="visible"] {
    --tw-enter-opacity: 0;
  }

  .data-\[variant\=destructive\]\:text-destructive[data-variant="destructive"] {
    color: var(--destructive);
  }

  .data-\[variant\=destructive\]\:focus\:bg-destructive\/10[data-variant="destructive"]:focus {
    background-color: var(--destructive);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .data-\[variant\=destructive\]\:focus\:bg-destructive\/10[data-variant="destructive"]:focus {
      background-color: color-mix(in oklab, var(--destructive) 10%, transparent);
    }
  }

  .data-\[variant\=destructive\]\:focus\:text-destructive[data-variant="destructive"]:focus {
    color: var(--destructive);
  }

  .data-\[variant\=outline\]\:border-l-0[data-variant="outline"] {
    border-left-style: var(--tw-border-style);
    border-left-width: 0;
  }

  .data-\[variant\=outline\]\:shadow-xs[data-variant="outline"] {
    --tw-shadow: 0 1px 2px 0 var(--tw-shadow-color, #0000000d);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }

  .data-\[variant\=outline\]\:first\:border-l[data-variant="outline"]:first-child {
    border-left-style: var(--tw-border-style);
    border-left-width: 1px;
  }

  .data-\[vaul-drawer-direction\=bottom\]\:inset-x-0[data-vaul-drawer-direction="bottom"] {
    inset-inline: calc(var(--spacing) * 0);
  }

  .data-\[vaul-drawer-direction\=bottom\]\:bottom-0[data-vaul-drawer-direction="bottom"] {
    bottom: calc(var(--spacing) * 0);
  }

  .data-\[vaul-drawer-direction\=bottom\]\:mt-24[data-vaul-drawer-direction="bottom"] {
    margin-top: calc(var(--spacing) * 24);
  }

  .data-\[vaul-drawer-direction\=bottom\]\:max-h-\[80vh\][data-vaul-drawer-direction="bottom"] {
    max-height: 80vh;
  }

  .data-\[vaul-drawer-direction\=bottom\]\:rounded-t-lg[data-vaul-drawer-direction="bottom"] {
    border-top-left-radius: var(--radius);
    border-top-right-radius: var(--radius);
  }

  .data-\[vaul-drawer-direction\=bottom\]\:border-t[data-vaul-drawer-direction="bottom"] {
    border-top-style: var(--tw-border-style);
    border-top-width: 1px;
  }

  .data-\[vaul-drawer-direction\=left\]\:inset-y-0[data-vaul-drawer-direction="left"] {
    inset-block: calc(var(--spacing) * 0);
  }

  .data-\[vaul-drawer-direction\=left\]\:left-0[data-vaul-drawer-direction="left"] {
    left: calc(var(--spacing) * 0);
  }

  .data-\[vaul-drawer-direction\=left\]\:w-3\/4[data-vaul-drawer-direction="left"] {
    width: 75%;
  }

  .data-\[vaul-drawer-direction\=left\]\:border-r[data-vaul-drawer-direction="left"] {
    border-right-style: var(--tw-border-style);
    border-right-width: 1px;
  }

  .data-\[vaul-drawer-direction\=right\]\:inset-y-0[data-vaul-drawer-direction="right"] {
    inset-block: calc(var(--spacing) * 0);
  }

  .data-\[vaul-drawer-direction\=right\]\:right-0[data-vaul-drawer-direction="right"] {
    right: calc(var(--spacing) * 0);
  }

  .data-\[vaul-drawer-direction\=right\]\:w-3\/4[data-vaul-drawer-direction="right"] {
    width: 75%;
  }

  .data-\[vaul-drawer-direction\=right\]\:border-l[data-vaul-drawer-direction="right"] {
    border-left-style: var(--tw-border-style);
    border-left-width: 1px;
  }

  .data-\[vaul-drawer-direction\=top\]\:inset-x-0[data-vaul-drawer-direction="top"] {
    inset-inline: calc(var(--spacing) * 0);
  }

  .data-\[vaul-drawer-direction\=top\]\:top-0[data-vaul-drawer-direction="top"] {
    top: calc(var(--spacing) * 0);
  }

  .data-\[vaul-drawer-direction\=top\]\:mb-24[data-vaul-drawer-direction="top"] {
    margin-bottom: calc(var(--spacing) * 24);
  }

  .data-\[vaul-drawer-direction\=top\]\:max-h-\[80vh\][data-vaul-drawer-direction="top"] {
    max-height: 80vh;
  }

  .data-\[vaul-drawer-direction\=top\]\:rounded-b-lg[data-vaul-drawer-direction="top"] {
    border-bottom-right-radius: var(--radius);
    border-bottom-left-radius: var(--radius);
  }

  .data-\[vaul-drawer-direction\=top\]\:border-b[data-vaul-drawer-direction="top"] {
    border-bottom-style: var(--tw-border-style);
    border-bottom-width: 1px;
  }

  @media (width >= 40rem) {
    .sm\:block {
      display: block;
    }
  }

  @media (width >= 40rem) {
    .sm\:flex {
      display: flex;
    }
  }

  @media (width >= 40rem) {
    .sm\:max-w-lg {
      max-width: var(--container-lg);
    }
  }

  @media (width >= 40rem) {
    .sm\:max-w-sm {
      max-width: var(--container-sm);
    }
  }

  @media (width >= 40rem) {
    .sm\:grid-cols-3 {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }

  @media (width >= 40rem) {
    .sm\:flex-row {
      flex-direction: row;
    }
  }

  @media (width >= 40rem) {
    .sm\:items-center {
      align-items: center;
    }
  }

  @media (width >= 40rem) {
    .sm\:justify-end {
      justify-content: flex-end;
    }
  }

  @media (width >= 40rem) {
    .sm\:gap-2\.5 {
      gap: calc(var(--spacing) * 2.5);
    }
  }

  @media (width >= 40rem) {
    .sm\:pr-2\.5 {
      padding-right: calc(var(--spacing) * 2.5);
    }
  }

  @media (width >= 40rem) {
    .sm\:pl-2\.5 {
      padding-left: calc(var(--spacing) * 2.5);
    }
  }

  @media (width >= 40rem) {
    .sm\:text-left {
      text-align: left;
    }
  }

  @media (width >= 40rem) {
    .data-\[vaul-drawer-direction\=left\]\:sm\:max-w-sm[data-vaul-drawer-direction="left"] {
      max-width: var(--container-sm);
    }
  }

  @media (width >= 40rem) {
    .data-\[vaul-drawer-direction\=right\]\:sm\:max-w-sm[data-vaul-drawer-direction="right"] {
      max-width: var(--container-sm);
    }
  }

  @media (width >= 48rem) {
    .md\:absolute {
      position: absolute;
    }
  }

  @media (width >= 48rem) {
    .md\:block {
      display: block;
    }
  }

  @media (width >= 48rem) {
    .md\:flex {
      display: flex;
    }
  }

  @media (width >= 48rem) {
    .md\:w-\[var\(--radix-navigation-menu-viewport-width\)\] {
      width: var(--radix-navigation-menu-viewport-width);
    }
  }

  @media (width >= 48rem) {
    .md\:w-auto {
      width: auto;
    }
  }

  @media (width >= 48rem) {
    .md\:grid-cols-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @media (width >= 48rem) {
    .md\:grid-cols-4 {
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }
  }

  @media (width >= 48rem) {
    .md\:text-sm {
      font-size: var(--text-sm);
      line-height: var(--tw-leading, var(--text-sm--line-height));
    }
  }

  @media (width >= 48rem) {
    .md\:opacity-0 {
      opacity: 0;
    }
  }

  @media (width >= 48rem) {
    .md\:peer-data-\[variant\=inset\]\:m-2:is(:where(.peer)[data-variant="inset"] ~ *) {
      margin: calc(var(--spacing) * 2);
    }
  }

  @media (width >= 48rem) {
    .md\:peer-data-\[variant\=inset\]\:ml-0:is(:where(.peer)[data-variant="inset"] ~ *) {
      margin-left: calc(var(--spacing) * 0);
    }
  }

  @media (width >= 48rem) {
    .md\:peer-data-\[variant\=inset\]\:rounded-xl:is(:where(.peer)[data-variant="inset"] ~ *) {
      border-radius: calc(var(--radius)  + 4px);
    }
  }

  @media (width >= 48rem) {
    .md\:peer-data-\[variant\=inset\]\:shadow-sm:is(:where(.peer)[data-variant="inset"] ~ *) {
      --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, #0000001a), 0 1px 2px -1px var(--tw-shadow-color, #0000001a);
      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
    }
  }

  @media (width >= 48rem) {
    .md\:peer-data-\[variant\=inset\]\:peer-data-\[state\=collapsed\]\:ml-2:is(:where(.peer)[data-variant="inset"] ~ *):is(:where(.peer)[data-state="collapsed"] ~ *) {
      margin-left: calc(var(--spacing) * 2);
    }
  }

  @media (width >= 48rem) {
    .md\:after\:hidden:after {
      content: var(--tw-content);
      display: none;
    }
  }

  @media (width >= 64rem) {
    .lg\:grid-cols-4 {
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }
  }

  @media (width >= 64rem) {
    .lg\:grid-cols-5 {
      grid-template-columns: repeat(5, minmax(0, 1fr));
    }
  }

  @media (width >= 80rem) {
    .xl\:grid-cols-7 {
      grid-template-columns: repeat(7, minmax(0, 1fr));
    }
  }

  .dark\:border-input:is(.dark *) {
    border-color: var(--input);
  }

  .dark\:bg-destructive\/60:is(.dark *) {
    background-color: var(--destructive);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .dark\:bg-destructive\/60:is(.dark *) {
      background-color: color-mix(in oklab, var(--destructive) 60%, transparent);
    }
  }

  .dark\:bg-input\/30:is(.dark *) {
    background-color: var(--input);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .dark\:bg-input\/30:is(.dark *) {
      background-color: color-mix(in oklab, var(--input) 30%, transparent);
    }
  }

  .dark\:text-muted-foreground:is(.dark *) {
    color: var(--muted-foreground);
  }

  @media (hover: hover) {
    .dark\:hover\:bg-accent\/50:is(.dark *):hover {
      background-color: var(--accent);
    }

    @supports (color: color-mix(in lab, red, red)) {
      .dark\:hover\:bg-accent\/50:is(.dark *):hover {
        background-color: color-mix(in oklab, var(--accent) 50%, transparent);
      }
    }
  }

  @media (hover: hover) {
    .dark\:hover\:bg-input\/50:is(.dark *):hover {
      background-color: var(--input);
    }

    @supports (color: color-mix(in lab, red, red)) {
      .dark\:hover\:bg-input\/50:is(.dark *):hover {
        background-color: color-mix(in oklab, var(--input) 50%, transparent);
      }
    }
  }

  .dark\:focus-visible\:ring-destructive\/40:is(.dark *):focus-visible {
    --tw-ring-color: var(--destructive);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .dark\:focus-visible\:ring-destructive\/40:is(.dark *):focus-visible {
      --tw-ring-color: color-mix(in oklab, var(--destructive) 40%, transparent);
    }
  }

  .dark\:aria-invalid\:ring-destructive\/40:is(.dark *)[aria-invalid="true"] {
    --tw-ring-color: var(--destructive);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .dark\:aria-invalid\:ring-destructive\/40:is(.dark *)[aria-invalid="true"] {
      --tw-ring-color: color-mix(in oklab, var(--destructive) 40%, transparent);
    }
  }

  .dark\:data-\[active\=true\]\:aria-invalid\:ring-destructive\/40:is(.dark *)[data-active="true"][aria-invalid="true"] {
    --tw-ring-color: var(--destructive);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .dark\:data-\[active\=true\]\:aria-invalid\:ring-destructive\/40:is(.dark *)[data-active="true"][aria-invalid="true"] {
      --tw-ring-color: color-mix(in oklab, var(--destructive) 40%, transparent);
    }
  }

  .dark\:data-\[state\=active\]\:border-input:is(.dark *)[data-state="active"] {
    border-color: var(--input);
  }

  .dark\:data-\[state\=active\]\:bg-input\/30:is(.dark *)[data-state="active"] {
    background-color: var(--input);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .dark\:data-\[state\=active\]\:bg-input\/30:is(.dark *)[data-state="active"] {
      background-color: color-mix(in oklab, var(--input) 30%, transparent);
    }
  }

  .dark\:data-\[state\=active\]\:text-foreground:is(.dark *)[data-state="active"] {
    color: var(--foreground);
  }

  .dark\:data-\[state\=checked\]\:bg-primary:is(.dark *)[data-state="checked"] {
    background-color: var(--primary);
  }

  .dark\:data-\[state\=checked\]\:bg-primary-foreground:is(.dark *)[data-state="checked"] {
    background-color: var(--primary-foreground);
  }

  .dark\:data-\[state\=unchecked\]\:bg-card-foreground:is(.dark *)[data-state="unchecked"] {
    background-color: var(--card-foreground);
  }

  .dark\:data-\[state\=unchecked\]\:bg-input\/80:is(.dark *)[data-state="unchecked"] {
    background-color: var(--input);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .dark\:data-\[state\=unchecked\]\:bg-input\/80:is(.dark *)[data-state="unchecked"] {
      background-color: color-mix(in oklab, var(--input) 80%, transparent);
    }
  }

  .dark\:data-\[variant\=destructive\]\:focus\:bg-destructive\/20:is(.dark *)[data-variant="destructive"]:focus {
    background-color: var(--destructive);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .dark\:data-\[variant\=destructive\]\:focus\:bg-destructive\/20:is(.dark *)[data-variant="destructive"]:focus {
      background-color: color-mix(in oklab, var(--destructive) 20%, transparent);
    }
  }

  .\[\&_\.recharts-cartesian-axis-tick_text\]\:fill-muted-foreground .recharts-cartesian-axis-tick text {
    fill: var(--muted-foreground);
  }

  .\[\&_\.recharts-cartesian-grid_line\[stroke\=\'\#ccc\'\]\]\:stroke-border\/50 .recharts-cartesian-grid line[stroke="#ccc"] {
    stroke: var(--border);
  }

  @supports (color: color-mix(in lab, red, red)) {
    .\[\&_\.recharts-cartesian-grid_line\[stroke\=\'\#ccc\'\]\]\:stroke-border\/50 .recharts-cartesian-grid line[stroke="#ccc"] {
      stroke: color-mix(in oklab, var(--border) 50%, transparent);
    }
  }

  .\[\&_\.recharts-curve\.recharts-tooltip-cursor\]\:stroke-border .recharts-curve.recharts-tooltip-cursor {
    stroke: var(--border);
  }

  .\[\&_\.recharts-dot\[stroke\=\'\#fff\'\]\]\:stroke-transparent .recharts-dot[stroke="#fff"] {
    stroke: #0000;
  }

  .\[\&_\.recharts-layer\]\:outline-hidden .recharts-layer {
    --tw-outline-style: none;
    outline-style: none;
  }

  @media (forced-colors: active) {
    .\[\&_\.recharts-layer\]\:outline-hidden .recharts-layer {
      outline-offset: 2px;
      outline: 2px solid #0000;
    }
  }

  .\[\&_\.recharts-polar-grid_\[stroke\=\'\#ccc\'\]\]\:stroke-border .recharts-polar-grid [stroke="#ccc"] {
    stroke: var(--border);
  }

  .\[\&_\.recharts-radial-bar-background-sector\]\:fill-muted .recharts-radial-bar-background-sector {
    fill: var(--muted);
  }

  .\[\&_\.recharts-rectangle\.recharts-tooltip-cursor\]\:fill-muted .recharts-rectangle.recharts-tooltip-cursor {
    fill: var(--muted);
  }

  .\[\&_\.recharts-reference-line_\[stroke\=\'\#ccc\'\]\]\:stroke-border .recharts-reference-line [stroke="#ccc"] {
    stroke: var(--border);
  }

  .\[\&_\.recharts-sector\]\:outline-hidden .recharts-sector {
    --tw-outline-style: none;
    outline-style: none;
  }

  @media (forced-colors: active) {
    .\[\&_\.recharts-sector\]\:outline-hidden .recharts-sector {
      outline-offset: 2px;
      outline: 2px solid #0000;
    }
  }

  .\[\&_\.recharts-sector\[stroke\=\'\#fff\'\]\]\:stroke-transparent .recharts-sector[stroke="#fff"] {
    stroke: #0000;
  }

  .\[\&_\.recharts-surface\]\:outline-hidden .recharts-surface {
    --tw-outline-style: none;
    outline-style: none;
  }

  @media (forced-colors: active) {
    .\[\&_\.recharts-surface\]\:outline-hidden .recharts-surface {
      outline-offset: 2px;
      outline: 2px solid #0000;
    }
  }

  .\[\&_\[cmdk-group-heading\]\]\:px-2 [cmdk-group-heading] {
    padding-inline: calc(var(--spacing) * 2);
  }

  .\[\&_\[cmdk-group-heading\]\]\:py-1\.5 [cmdk-group-heading] {
    padding-block: calc(var(--spacing) * 1.5);
  }

  .\[\&_\[cmdk-group-heading\]\]\:text-xs [cmdk-group-heading] {
    font-size: var(--text-xs);
    line-height: var(--tw-leading, var(--text-xs--line-height));
  }

  .\[\&_\[cmdk-group-heading\]\]\:font-medium [cmdk-group-heading] {
    --tw-font-weight: var(--font-weight-medium);
    font-weight: var(--font-weight-medium);
  }

  .\[\&_\[cmdk-group-heading\]\]\:text-muted-foreground [cmdk-group-heading] {
    color: var(--muted-foreground);
  }

  .\[\&_\[cmdk-group\]\]\:px-2 [cmdk-group] {
    padding-inline: calc(var(--spacing) * 2);
  }

  .\[\&_\[cmdk-group\]\:not\(\[hidden\]\)_\~\[cmdk-group\]\]\:pt-0 [cmdk-group]:not([hidden]) ~ [cmdk-group] {
    padding-top: calc(var(--spacing) * 0);
  }

  .\[\&_\[cmdk-input-wrapper\]_svg\]\:h-5 [cmdk-input-wrapper] svg {
    height: calc(var(--spacing) * 5);
  }

  .\[\&_\[cmdk-input-wrapper\]_svg\]\:w-5 [cmdk-input-wrapper] svg {
    width: calc(var(--spacing) * 5);
  }

  .\[\&_\[cmdk-input\]\]\:h-12 [cmdk-input] {
    height: calc(var(--spacing) * 12);
  }

  .\[\&_\[cmdk-item\]\]\:px-2 [cmdk-item] {
    padding-inline: calc(var(--spacing) * 2);
  }

  .\[\&_\[cmdk-item\]\]\:py-3 [cmdk-item] {
    padding-block: calc(var(--spacing) * 3);
  }

  .\[\&_\[cmdk-item\]_svg\]\:h-5 [cmdk-item] svg {
    height: calc(var(--spacing) * 5);
  }

  .\[\&_\[cmdk-item\]_svg\]\:w-5 [cmdk-item] svg {
    width: calc(var(--spacing) * 5);
  }

  .\[\&_p\]\:leading-relaxed p {
    --tw-leading: var(--leading-relaxed);
    line-height: var(--leading-relaxed);
  }

  .\[\&_svg\]\:pointer-events-none svg {
    pointer-events: none;
  }

  .\[\&_svg\]\:shrink-0 svg {
    flex-shrink: 0;
  }

  .\[\&_svg\:not\(\[class\*\=\'size-\'\]\)\]\:size-4 svg:not([class*="size-"]) {
    width: calc(var(--spacing) * 4);
    height: calc(var(--spacing) * 4);
  }

  .\[\&_svg\:not\(\[class\*\=\'text-\'\]\)\]\:text-muted-foreground svg:not([class*="text-"]) {
    color: var(--muted-foreground);
  }

  .\[\&_tr\]\:border-b tr {
    border-bottom-style: var(--tw-border-style);
    border-bottom-width: 1px;
  }

  .\[\&_tr\:last-child\]\:border-0 tr:last-child {
    border-style: var(--tw-border-style);
    border-width: 0;
  }

  .\[\&\:has\(\>\.day-range-end\)\]\:rounded-r-md:has( > .day-range-end) {
    border-top-right-radius: calc(var(--radius)  - 2px);
    border-bottom-right-radius: calc(var(--radius)  - 2px);
  }

  .\[\&\:has\(\>\.day-range-start\)\]\:rounded-l-md:has( > .day-range-start) {
    border-top-left-radius: calc(var(--radius)  - 2px);
    border-bottom-left-radius: calc(var(--radius)  - 2px);
  }

  .\[\&\:has\(\[aria-selected\]\)\]\:rounded-md:has([aria-selected]) {
    border-radius: calc(var(--radius)  - 2px);
  }

  .\[\&\:has\(\[aria-selected\]\)\]\:bg-accent:has([aria-selected]) {
    background-color: var(--accent);
  }

  .first\:\[\&\:has\(\[aria-selected\]\)\]\:rounded-l-md:first-child:has([aria-selected]) {
    border-top-left-radius: calc(var(--radius)  - 2px);
    border-bottom-left-radius: calc(var(--radius)  - 2px);
  }

  .last\:\[\&\:has\(\[aria-selected\]\)\]\:rounded-r-md:last-child:has([aria-selected]) {
    border-top-right-radius: calc(var(--radius)  - 2px);
    border-bottom-right-radius: calc(var(--radius)  - 2px);
  }

  .\[\&\:has\(\[aria-selected\]\.day-range-end\)\]\:rounded-r-md:has([aria-selected].day-range-end) {
    border-top-right-radius: calc(var(--radius)  - 2px);
    border-bottom-right-radius: calc(var(--radius)  - 2px);
  }

  .\[\&\:has\(\[role\=checkbox\]\)\]\:pr-0:has([role="checkbox"]) {
    padding-right: calc(var(--spacing) * 0);
  }

  .\[\.border-b\]\:pb-6.border-b {
    padding-bottom: calc(var(--spacing) * 6);
  }

  .\[\.border-t\]\:pt-6.border-t {
    padding-top: calc(var(--spacing) * 6);
  }

  :is(.\*\:\[span\]\:last\:flex > *):is(span):last-child {
    display: flex;
  }

  :is(.\*\:\[span\]\:last\:items-center > *):is(span):last-child {
    align-items: center;
  }

  :is(.\*\:\[span\]\:last\:gap-2 > *):is(span):last-child {
    gap: calc(var(--spacing) * 2);
  }

  :is(.data-\[variant\=destructive\]\:\*\:\[svg\]\:\!text-destructive[data-variant="destructive"] > *):is(svg) {
    color: var(--destructive) !important;
  }

  .\[\&\:last-child\]\:pb-6:last-child {
    padding-bottom: calc(var(--spacing) * 6);
  }

  .\[\&\>\[role\=checkbox\]\]\:translate-y-\[2px\] > [role="checkbox"] {
    --tw-translate-y: 2px;
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .\[\&\>button\]\:hidden > button {
    display: none;
  }

  .\[\&\>span\:last-child\]\:truncate > span:last-child {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }

  .\[\&\>svg\]\:pointer-events-none > svg {
    pointer-events: none;
  }

  .\[\&\>svg\]\:size-3 > svg {
    width: calc(var(--spacing) * 3);
    height: calc(var(--spacing) * 3);
  }

  .\[\&\>svg\]\:size-3\.5 > svg {
    width: calc(var(--spacing) * 3.5);
    height: calc(var(--spacing) * 3.5);
  }

  .\[\&\>svg\]\:size-4 > svg {
    width: calc(var(--spacing) * 4);
    height: calc(var(--spacing) * 4);
  }

  .\[\&\>svg\]\:h-2\.5 > svg {
    height: calc(var(--spacing) * 2.5);
  }

  .\[\&\>svg\]\:h-3 > svg {
    height: calc(var(--spacing) * 3);
  }

  .\[\&\>svg\]\:w-2\.5 > svg {
    width: calc(var(--spacing) * 2.5);
  }

  .\[\&\>svg\]\:w-3 > svg {
    width: calc(var(--spacing) * 3);
  }

  .\[\&\>svg\]\:shrink-0 > svg {
    flex-shrink: 0;
  }

  .\[\&\>svg\]\:translate-y-0\.5 > svg {
    --tw-translate-y: calc(var(--spacing) * .5);
    translate: var(--tw-translate-x) var(--tw-translate-y);
  }

  .\[\&\>svg\]\:text-current > svg {
    color: currentColor;
  }

  .\[\&\>svg\]\:text-muted-foreground > svg {
    color: var(--muted-foreground);
  }

  .\[\&\>svg\]\:text-sidebar-accent-foreground > svg {
    color: var(--sidebar-accent-foreground);
  }

  .\[\&\>tr\]\:last\:border-b-0 > tr:last-child {
    border-bottom-style: var(--tw-border-style);
    border-bottom-width: 0;
  }

  .\[\&\[data-panel-group-direction\=vertical\]\>div\]\:rotate-90[data-panel-group-direction="vertical"] > div {
    rotate: 90deg;
  }

  .\[\&\[data-state\=open\]\>svg\]\:rotate-180[data-state="open"] > svg {
    rotate: 180deg;
  }

  [data-side="left"][data-collapsible="offcanvas"] .\[\[data-side\=left\]\[data-collapsible\=offcanvas\]_\&\]\:-right-2 {
    right: calc(var(--spacing) * -2);
  }

  [data-side="left"][data-state="collapsed"] .\[\[data-side\=left\]\[data-state\=collapsed\]_\&\]\:cursor-e-resize {
    cursor: e-resize;
  }

  [data-side="right"][data-collapsible="offcanvas"] .\[\[data-side\=right\]\[data-collapsible\=offcanvas\]_\&\]\:-left-2 {
    left: calc(var(--spacing) * -2);
  }

  [data-side="right"][data-state="collapsed"] .\[\[data-side\=right\]\[data-state\=collapsed\]_\&\]\:cursor-w-resize {
    cursor: w-resize;
  }

  @media (hover: hover) {
    a.\[a\&\]\:hover\:bg-accent:hover {
      background-color: var(--accent);
    }
  }

  @media (hover: hover) {
    a.\[a\&\]\:hover\:bg-destructive\/90:hover {
      background-color: var(--destructive);
    }

    @supports (color: color-mix(in lab, red, red)) {
      a.\[a\&\]\:hover\:bg-destructive\/90:hover {
        background-color: color-mix(in oklab, var(--destructive) 90%, transparent);
      }
    }
  }

  @media (hover: hover) {
    a.\[a\&\]\:hover\:bg-primary\/90:hover {
      background-color: var(--primary);
    }

    @supports (color: color-mix(in lab, red, red)) {
      a.\[a\&\]\:hover\:bg-primary\/90:hover {
        background-color: color-mix(in oklab, var(--primary) 90%, transparent);
      }
    }
  }

  @media (hover: hover) {
    a.\[a\&\]\:hover\:bg-secondary\/90:hover {
      background-color: var(--secondary);
    }

    @supports (color: color-mix(in lab, red, red)) {
      a.\[a\&\]\:hover\:bg-secondary\/90:hover {
        background-color: color-mix(in oklab, var(--secondary) 90%, transparent);
      }
    }
  }

  @media (hover: hover) {
    a.\[a\&\]\:hover\:text-accent-foreground:hover {
      color: var(--accent-foreground);
    }
  }
}

:root {
  --font-size: 14px;
  --background: #fff;
  --foreground: oklch(.145 0 0);
  --card: #fff;
  --card-foreground: oklch(.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(.145 0 0);
  --primary: #030213;
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(.95 .0058 264.53);
  --secondary-foreground: #030213;
  --muted: #ececf0;
  --muted-foreground: #717182;
  --accent: #e9ebef;
  --accent-foreground: #030213;
  --destructive: #d4183d;
  --destructive-foreground: #fff;
  --border: #0000001a;
  --input: transparent;
  --input-background: #f3f3f5;
  --switch-background: #cbced4;
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --ring: oklch(.708 0 0);
  --chart-1: oklch(.646 .222 41.116);
  --chart-2: oklch(.6 .118 184.704);
  --chart-3: oklch(.398 .07 227.392);
  --chart-4: oklch(.828 .189 84.429);
  --chart-5: oklch(.769 .188 70.08);
  --radius: .625rem;
  --sidebar: oklch(.985 0 0);
  --sidebar-foreground: oklch(.145 0 0);
  --sidebar-primary: #030213;
  --sidebar-primary-foreground: oklch(.985 0 0);
  --sidebar-accent: oklch(.97 0 0);
  --sidebar-accent-foreground: oklch(.205 0 0);
  --sidebar-border: oklch(.922 0 0);
  --sidebar-ring: oklch(.708 0 0);
}

.dark {
  --background: #111;
  --foreground: #fff;
  --card: #1b1b1b;
  --card-foreground: #fff;
  --popover: #1b1b1b;
  --popover-foreground: #fff;
  --primary: #f1c40f;
  --primary-foreground: #111;
  --secondary: #2c2c2c;
  --secondary-foreground: #fff;
  --muted: #2c2c2c;
  --muted-foreground: #a7a7a7;
  --accent: #2c2c2c;
  --accent-foreground: #fff;
  --destructive: #e74c3c;
  --destructive-foreground: #fff;
  --border: #2c2c2c;
  --input: #2c2c2c;
  --ring: #f1c40f;
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --chart-1: #f1c40f;
  --chart-2: #27ae60;
  --chart-3: #e74c3c;
  --chart-4: #3498db;
  --chart-5: #f39c12;
  --sidebar: #1b1b1b;
  --sidebar-foreground: #fff;
  --sidebar-primary: #f1c40f;
  --sidebar-primary-foreground: #111;
  --sidebar-accent: #2c2c2c;
  --sidebar-accent-foreground: #fff;
  --sidebar-border: #2c2c2c;
  --sidebar-ring: #f1c40f;
  --bartz-accent: #f1c40f;
  --bartz-accent-alt: #ff8a00;
  --status-success: #27ae60;
  --status-error: #e74c3c;
  --status-warning: #f39c12;
  --status-info: #3498db;
  --text-primary: #fff;
  --text-secondary: #a7a7a7;
  --bg-base: #111;
  --bg-surface: #1b1b1b;
  --border-color: #2c2c2c;
}

html {
  font-size: var(--font-size);
}

.dark ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dark ::-webkit-scrollbar-track {
  background: #111;
}

.dark ::-webkit-scrollbar-thumb {
  background: #2c2c2c;
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #404040;
}

@property --tw-translate-x {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}

@property --tw-translate-y {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}

@property --tw-translate-z {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}

@property --tw-rotate-x {
  syntax: "*";
  inherits: false;
  initial-value: rotateX(0);
}

@property --tw-rotate-y {
  syntax: "*";
  inherits: false;
  initial-value: rotateY(0);
}

@property --tw-rotate-z {
  syntax: "*";
  inherits: false;
  initial-value: rotateZ(0);
}

@property --tw-skew-x {
  syntax: "*";
  inherits: false;
  initial-value: skewX(0);
}

@property --tw-skew-y {
  syntax: "*";
  inherits: false;
  initial-value: skewY(0);
}

@property --tw-space-y-reverse {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}

@property --tw-space-x-reverse {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}

@property --tw-border-style {
  syntax: "*";
  inherits: false;
  initial-value: solid;
}

@property --tw-leading {
  syntax: "*";
  inherits: false
}

@property --tw-font-weight {
  syntax: "*";
  inherits: false
}

@property --tw-tracking {
  syntax: "*";
  inherits: false
}

@property --tw-ordinal {
  syntax: "*";
  inherits: false
}

@property --tw-slashed-zero {
  syntax: "*";
  inherits: false
}

@property --tw-numeric-figure {
  syntax: "*";
  inherits: false
}

@property --tw-numeric-spacing {
  syntax: "*";
  inherits: false
}

@property --tw-numeric-fraction {
  syntax: "*";
  inherits: false
}

@property --tw-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}

@property --tw-shadow-color {
  syntax: "*";
  inherits: false
}

@property --tw-shadow-alpha {
  syntax: "<percentage>";
  inherits: false;
  initial-value: 100%;
}

@property --tw-inset-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}

@property --tw-inset-shadow-color {
  syntax: "*";
  inherits: false
}

@property --tw-inset-shadow-alpha {
  syntax: "<percentage>";
  inherits: false;
  initial-value: 100%;
}

@property --tw-ring-color {
  syntax: "*";
  inherits: false
}

@property --tw-ring-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}

@property --tw-inset-ring-color {
  syntax: "*";
  inherits: false
}

@property --tw-inset-ring-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}

@property --tw-ring-inset {
  syntax: "*";
  inherits: false
}

@property --tw-ring-offset-width {
  syntax: "<length>";
  inherits: false;
  initial-value: 0;
}

@property --tw-ring-offset-color {
  syntax: "*";
  inherits: false;
  initial-value: #fff;
}

@property --tw-ring-offset-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}

@property --tw-outline-style {
  syntax: "*";
  inherits: false;
  initial-value: solid;
}

@property --tw-blur {
  syntax: "*";
  inherits: false
}

@property --tw-brightness {
  syntax: "*";
  inherits: false
}

@property --tw-contrast {
  syntax: "*";
  inherits: false
}

@property --tw-grayscale {
  syntax: "*";
  inherits: false
}

@property --tw-hue-rotate {
  syntax: "*";
  inherits: false
}

@property --tw-invert {
  syntax: "*";
  inherits: false
}

@property --tw-opacity {
  syntax: "*";
  inherits: false
}

@property --tw-saturate {
  syntax: "*";
  inherits: false
}

@property --tw-sepia {
  syntax: "*";
  inherits: false
}

@property --tw-drop-shadow {
  syntax: "*";
  inherits: false
}

@property --tw-drop-shadow-color {
  syntax: "*";
  inherits: false
}

@property --tw-drop-shadow-alpha {
  syntax: "<percentage>";
  inherits: false;
  initial-value: 100%;
}

@property --tw-drop-shadow-size {
  syntax: "*";
  inherits: false
}

@property --tw-duration {
  syntax: "*";
  inherits: false
}

@property --tw-ease {
  syntax: "*";
  inherits: false
}

@property --tw-content {
  syntax: "*";
  inherits: false;
  initial-value: "";
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

@keyframes pulse {
  50% {
    opacity: .5;
  }
}

@keyframes enter {
  from {
    opacity: var(--tw-enter-opacity, 1);
    transform: translate3d(var(--tw-enter-translate-x, 0), var(--tw-enter-translate-y, 0), 0) scale3d(var(--tw-enter-scale, 1), var(--tw-enter-scale, 1), var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0));
  }
}

@keyframes exit {
  to {
    opacity: var(--tw-exit-opacity, 1);
    transform: translate3d(var(--tw-exit-translate-x, 0), var(--tw-exit-translate-y, 0), 0) scale3d(var(--tw-exit-scale, 1), var(--tw-exit-scale, 1), var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0));
  }
}

@keyframes accordion-down {
  from {
    height: 0;
  }

  to {
    height: var(--radix-accordion-content-height, var(--bits-accordion-content-height));
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height, var(--bits-accordion-content-height));
  }

  to {
    height: 0;
  }
}

@keyframes caret-blink {
  0%, 70%, 100% {
    opacity: 1;
  }

  20%, 50% {
    opacity: 0;
  }
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* tokens shadcn */
:root {
  --background: 24 24 27;   /* zink-900 */
  --foreground: 250 250 250;
  --card: 24 24 27;
  --card-foreground: 250 250 250;
  --muted: 39 39 42;
  --muted-foreground: 161 161 170;
  --border: 63 63 70;
  --ring: 234 179 8; /* amarelo Bartz */
}

.dark { /* se usar dark por classe */
  --background: 17 17 20;
}

/* helpers (igual shadcn) */
.bg-background { background-color: rgb(var(--background)); }
.text-foreground { color: rgb(var(--foreground)); }
.border-border { border-color: rgb(var(--border)); }
</file>

<file path="src/main.tsx">
import React from "react";
import ReactDOM from "react-dom/client";
import "./index.css";              
import App from "./App";

ReactDOM.createRoot(document.getElementById("root")!).render(<App />);
</file>

<file path="src/package.json">
{
  "name": "bartz-analyzer",
  "version": "1.0.0",
  "private": true,
  "main": "main.js",
  "type": "commonjs",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "start": "electron ."
  },
  "dependencies": {
    "react": "^18.3.1",
    "react-dom": "^18.3.1",
    "sonner": "^1.5.0",
    "next-themes": "^0.3.0",
    "lucide-react": "^0.462.0",
    "class-variance-authority": "^0.7.0",
    "tailwind-merge": "^2.5.4",
    "clsx": "^2.1.1",
    "recharts": "^2.12.7",
    "react-resizable-panels": "^2.1.4",
    "react-hook-form": "^7.55.0",
    "react-day-picker": "^8.10.1",
    "embla-carousel-react": "^8.3.0",
    "cmdk": "^1.0.0",
    "input-otp": "^1.2.4",
    "@radix-ui/react-label": "^2.1.0",
    "@radix-ui/react-slot": "^1.1.0",
    "@radix-ui/react-separator": "^1.1.0",
    "@radix-ui/react-dialog": "^1.1.1",
    "@radix-ui/react-tooltip": "^1.1.2",
    "@radix-ui/react-dropdown-menu": "^2.1.1",
    "@radix-ui/react-popover": "^1.1.1",
    "@radix-ui/react-scroll-area": "^1.1.0",
    "@radix-ui/react-tabs": "^1.1.0",
    "@radix-ui/react-switch": "^1.1.0",
    "@radix-ui/react-select": "^2.1.1",
    "@radix-ui/react-radio-group": "^1.2.0",
    "@radix-ui/react-progress": "^1.1.0",
    "@radix-ui/react-navigation-menu": "^1.2.0",
    "@radix-ui/react-menubar": "^1.1.1",
    "@radix-ui/react-context-menu": "^2.2.1",
    "@radix-ui/react-collapsible": "^1.1.0",
    "@radix-ui/react-checkbox": "^1.1.1",
    "@radix-ui/react-avatar": "^1.1.0",
    "@radix-ui/react-aspect-ratio": "^1.1.0",
    "@radix-ui/react-alert-dialog": "^1.1.1",
    "@radix-ui/react-accordion": "^1.2.0",
    "@radix-ui/react-toggle": "^1.1.0",
    "@radix-ui/react-toggle-group": "^1.1.0",
    "@radix-ui/react-slider": "^1.2.0"
  },
  "devDependencies": {
    "vite": "^5.4.10",
    "@vitejs/plugin-react-swc": "^3.7.1",
    "typescript": "^5.6.3",
    "electron": "^32.2.0"
  }
}
</file>

<file path="src/src/App.tsx">
import { useState } from "react"
import { Dashboard } from "./components/Dashboard"
import { ConfigurationScreen } from "./components/ConfigurationScreen"
import { Toaster } from "./components/ui/sonner"

export default function App() {
  const [currentScreen, setCurrentScreen] = useState<'dashboard' | 'config'>('dashboard')

  return (
    <div className="dark">
      {currentScreen === 'dashboard' && (
        <Dashboard onNavigateToConfig={() => setCurrentScreen('config')} />
      )}
      
      {currentScreen === 'config' && (
        <div>
          <button 
            onClick={() => setCurrentScreen('dashboard')}
            className="fixed top-4 left-4 z-10 bg-[#1B1B1B] border border-[#2C2C2C] text-white px-3 py-2 rounded hover:bg-[#2C2C2C] transition-colors"
          >
            ‚Üê Voltar ao Dashboard
          </button>
          <ConfigurationScreen />
        </div>
      )}
      
      <Toaster 
        theme="dark"
        toastOptions={{
          style: {
            background: '#1B1B1B',
            border: '1px solid #2C2C2C',
            color: '#FFFFFF',
          },
        }}
      />
    </div>
  )
}
</file>

<file path="src/src/components/AutoFixBadge.tsx">
import React from "react";

export function AutoFixBadge({ fix }: { fix: string }) {
  return (
    <span className="inline-flex items-center px-2 py-0.5 text-xs font-medium rounded border border-amber-400/20 bg-amber-400/10 text-amber-300">
      {fix}
    </span>
  );
}
</file>

<file path="src/src/components/ConfigurationScreen.tsx">
import { useState } from "react"
import { Button } from "./ui/button"
import { Input } from "./ui/input"
import { Label } from "./ui/label"
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "./ui/card"
import { Separator } from "./ui/separator"
import { Badge } from "./ui/badge"
import { 
  Settings, 
  FolderOpen, 
  Save, 
  RefreshCw, 
  CheckCircle, 
  XCircle,
  Info,
  AlertTriangle
} from "lucide-react"
import { toast } from "sonner"

export function ConfigurationScreen() {
  const [paths, setPaths] = useState({
    entrada: "\\\\server\\ENTRADA_XML",
    working: "\\\\server\\WORKING",
    destino: "\\\\server\\XML_FINAL",
    logs: "\\\\server\\LOGS"
  })

  const [pathStatus, setPathStatus] = useState<Record<string, 'checking' | 'valid' | 'invalid'>>({})

  const handlePathChange = (key: string, value: string) => {
    setPaths(prev => ({ ...prev, [key]: value }))
    // Reset status quando path muda
    setPathStatus(prev => ({ ...prev, [key]: 'checking' }))
  }

  const validatePath = async (key: string, path: string) => {
    setPathStatus(prev => ({ ...prev, [key]: 'checking' }))
    
    // Simular valida√ß√£o de path (em produ√ß√£o seria via IPC)
    setTimeout(() => {
      const isValid = path.includes('\\\\server\\') && path.length > 10
      setPathStatus(prev => ({ 
        ...prev, 
        [key]: isValid ? 'valid' : 'invalid' 
      }))
    }, 1000)
  }

  const saveConfiguration = () => {
    // Aqui seria chamada a API do Electron para salvar configura√ß√µes
    toast("Configura√ß√µes salvas", {
      description: "As altera√ß√µes foram aplicadas com sucesso."
    })
  }

  const testConnection = () => {
    toast("Testando conex√£o...", {
      description: "Verificando acesso aos caminhos UNC..."
    })
    
    // Simular teste de conex√£o
    setTimeout(() => {
      toast("Conex√£o bem-sucedida", {
        description: "Todos os caminhos est√£o acess√≠veis."
      })
    }, 2000)
  }

  const getStatusIcon = (status: string) => {
    switch (status) {
      case 'checking':
        return <RefreshCw className="h-4 w-4 animate-spin text-[#F39C12]" />
      case 'valid':
        return <CheckCircle className="h-4 w-4 text-[#27AE60]" />
      case 'invalid':
        return <XCircle className="h-4 w-4 text-[#E74C3C]" />
      default:
        return null
    }
  }

  return (
    <div className="min-h-screen bg-[#111111] text-white p-6">
      <div className="max-w-4xl mx-auto space-y-6">
        {/* Header */}
        <div className="flex items-center gap-4 mb-8">
          <div className="h-8 w-8 bg-[#F1C40F] rounded flex items-center justify-center text-black font-bold">
            <Settings className="h-4 w-4" />
          </div>
          <div>
            <h1 className="text-2xl font-medium">Configura√ß√µes</h1>
            <p className="text-[#A7A7A7]">Configure os caminhos UNC e par√¢metros do sistema</p>
          </div>
        </div>

        {/* Paths Configuration */}
        <Card className="bg-[#1B1B1B] border-[#2C2C2C]">
          <CardHeader>
            <CardTitle className="text-white flex items-center gap-2">
              <FolderOpen className="h-5 w-5 text-[#F1C40F]" />
              Caminhos UNC
            </CardTitle>
            <CardDescription className="text-[#A7A7A7]">
              Configure os caminhos de rede para processamento dos arquivos XML
            </CardDescription>
          </CardHeader>
          <CardContent className="space-y-6">
            {Object.entries(paths).map(([key, path]) => (
              <div key={key} className="space-y-2">
                <Label className="text-white capitalize">{key.replace('_', ' ')}</Label>
                <div className="flex gap-2">
                  <div className="flex-1">
                    <Input
                      value={path}
                      onChange={(e) => handlePathChange(key, e.target.value)}
                      placeholder={`\\\\server\\${key.toUpperCase()}`}
                      className="bg-[#111111] border-[#2C2C2C] text-white font-mono"
                    />
                  </div>
                  <Button
                    variant="outline"
                    size="sm"
                    onClick={() => validatePath(key, path)}
                    className="border-[#2C2C2C] hover:bg-[#2C2C2C] min-w-[100px]"
                  >
                    {getStatusIcon(pathStatus[key])}
                    <span className="ml-2">Validar</span>
                  </Button>
                </div>
                {pathStatus[key] === 'invalid' && (
                  <p className="text-[#E74C3C] text-sm flex items-center gap-2">
                    <AlertTriangle className="h-3 w-3" />
                    Caminho inv√°lido ou inacess√≠vel
                  </p>
                )}
                {pathStatus[key] === 'valid' && (
                  <p className="text-[#27AE60] text-sm flex items-center gap-2">
                    <CheckCircle className="h-3 w-3" />
                    Caminho v√°lido e acess√≠vel
                  </p>
                )}
              </div>
            ))}
          </CardContent>
        </Card>

        {/* Processing Rules */}
        <Card className="bg-[#1B1B1B] border-[#2C2C2C]">
          <CardHeader>
            <CardTitle className="text-white">Regras de Processamento</CardTitle>
            <CardDescription className="text-[#A7A7A7]">
              Configura√ß√µes de valida√ß√£o e auto-fix
            </CardDescription>
          </CardHeader>
          <CardContent className="space-y-4">
            <div className="grid grid-cols-2 gap-6">
              <div className="space-y-3">
                <h4 className="font-medium text-white">Plugins Obrigat√≥rios</h4>
                <div className="flex gap-2 flex-wrap">
                  {['2530', '2534', '2341', '2525'].map(plugin => (
                    <Badge key={plugin} variant="outline" className="text-[#F1C40F] border-[#F1C40F]/20 bg-[#F1C40F]/10">
                      {plugin}
                    </Badge>
                  ))}
                </div>
              </div>
              
              <div className="space-y-3">
                <h4 className="font-medium text-white">Auto-fix Habilitado</h4>
                <div className="space-y-2 text-sm text-[#A7A7A7]">
                  <div className="flex items-center gap-2">
                    <CheckCircle className="h-3 w-3 text-[#27AE60]" />
                    <span>Quantidade zerada ‚Üí 1</span>
                  </div>
                  <div className="flex items-center gap-2">
                    <CheckCircle className="h-3 w-3 text-[#27AE60]" />
                    <span>Pre√ßo zerado ‚Üí 0.10</span>
                  </div>
                </div>
              </div>
            </div>
          </CardContent>
        </Card>

        {/* System Status */}
        <Card className="bg-[#1B1B1B] border-[#2C2C2C]">
          <CardHeader>
            <CardTitle className="text-white">Status do Sistema</CardTitle>
            <CardDescription className="text-[#A7A7A7]">
              Informa√ß√µes sobre a conex√£o e estado atual
            </CardDescription>
          </CardHeader>
          <CardContent>
            <div className="grid grid-cols-3 gap-6">
              <div className="text-center">
                <div className="h-12 w-12 bg-[#27AE60]/20 rounded-full flex items-center justify-center mx-auto mb-2">
                  <CheckCircle className="h-6 w-6 text-[#27AE60]" />
                </div>
                <p className="text-sm text-white font-medium">Conectado</p>
                <p className="text-xs text-[#A7A7A7]">Sistema operacional</p>
              </div>
              
              <div className="text-center">
                <div className="h-12 w-12 bg-[#F39C12]/20 rounded-full flex items-center justify-center mx-auto mb-2">
                  <RefreshCw className="h-6 w-6 text-[#F39C12]" />
                </div>
                <p className="text-sm text-white font-medium">Aguardando</p>
                <p className="text-xs text-[#A7A7A7]">Monitoramento parado</p>
              </div>
              
              <div className="text-center">
                <div className="h-12 w-12 bg-[#3498DB]/20 rounded-full flex items-center justify-center mx-auto mb-2">
                  <Info className="h-6 w-6 text-[#3498DB]" />
                </div>
                <p className="text-sm text-white font-medium">v1.0.0</p>
                <p className="text-xs text-[#A7A7A7]">Vers√£o atual</p>
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Actions */}
        <div className="flex justify-between pt-6">
          <Button
            variant="outline"
            onClick={testConnection}
            className="gap-2 border-[#2C2C2C] hover:bg-[#2C2C2C]"
          >
            <RefreshCw className="h-4 w-4" />
            Testar Conex√£o
          </Button>
          
          <Button
            onClick={saveConfiguration}
            className="gap-2 bg-[#F1C40F] hover:bg-[#E8B907] text-black"
          >
            <Save className="h-4 w-4" />
            Salvar Configura√ß√µes
          </Button>
        </div>
      </div>
    </div>
  )
}
</file>

<file path="src/src/components/Dashboard.tsx">
// src/pages/Dashboard.tsx (exemplo)
import React from "react";
import { FiltersBar, FilterKey } from "@/components/FiltersBar";

type Row = {
  arquivo: string;
  status: "ok"|"erro";
  erros: { descricao: string; referencia?: string }[];
  tags: string[]; // ["ferragens","muxarabi","cor_coringa",...]
  date: number;
};

export default function Dashboard(){
  const [rows, setRows] = React.useState<Row[]>([]);
  const [filter, setFilter] = React.useState<FilterKey>("all");

  React.useEffect(()=>{
    window.electron.analyzer?.onEvent((msg)=>{
      if(msg.evt === "file-validated"){
        const {arquivo, erros} = msg.payload as {arquivo:string; erros:any[]};
        const tags:string[] = [];
        if (erros.some(e=>e.descricao==="CADASTRO DE COR CORINGA")) tags.push("cor_coringa");
        // heur√≠sticas simples (ajuste como quiser):
        if (arquivo.toLowerCase().includes("ferragem")) tags.push("ferragens");
        if (arquivo.toLowerCase().includes("muxarabi")) tags.push("muxarabi");

        setRows(prev => {
          const rest = prev.filter(r=>r.arquivo!==arquivo);
          return [
            ...rest,
            { arquivo, status: erros.length? "erro":"ok", erros, tags, date: Date.now() }
          ];
        });
      }
    });
  },[]);

  // contadores
  const counts = {
    all: rows.length,
    ok: rows.filter(r=>r.status==="ok").length,
    errors: rows.filter(r=>r.status==="erro").length,
    ferragens: rows.filter(r=>r.tags.includes("ferragens")).length,
    muxarabi: rows.filter(r=>r.tags.includes("muxarabi")).length,
    cor_coringa: rows.filter(r=>r.tags.includes("cor_coringa")).length,
    auto_fixed: rows.filter(r=>r.tags.includes("auto_fixed")).length,
  };

  // filtro aplicado
  const filtered = rows.filter(r=>{
    if (filter==="all") return true;
    if (filter==="ok") return r.status==="ok";
    if (filter==="errors") return r.status==="erro";
    return r.tags.includes(filter);
  });

  return (
    <div className="p-6 space-y-4">
      <FiltersBar active={filter} counts={counts} onChange={setFilter} />
      {/* tabela simples */}
      <div className="mt-4 border border-zinc-800 rounded-lg overflow-hidden">
        <div className="grid grid-cols-[1.5fr_.7fr_2fr_1fr] bg-zinc-900 text-zinc-200 px-4 py-2">
          <div>Arquivo</div><div>Status</div><div>Erros</div><div>Data/Hora</div>
        </div>
        {filtered.map(r=>(
          <div key={r.arquivo} className="grid grid-cols-[1.5fr_.7fr_2fr_1fr] px-4 py-2 border-t border-zinc-800">
            <div className="truncate">{r.arquivo}</div>
            <div className={r.status==="ok"?"text-green-400":"text-red-400"}>{r.status}</div>
            <div className="text-sm">
              {r.erros.length? r.erros.map(e=>e.descricao).join("; ") : "‚Äî"}
            </div>
            <div>{new Date(r.date).toLocaleString()}</div>
          </div>
        ))}
      </div>
    </div>
  );
}
</file>

<file path="src/src/components/ErrorBadge.tsx">
import React from "react";

export function ErrorBadge({ error }: { error: string }) {
  return (
    <span className="inline-flex items-center px-2 py-0.5 text-xs font-medium rounded border border-rose-500/20 bg-rose-500/10 text-rose-300">
      {error}
    </span>
  );
}
</file>

<file path="src/src/components/FileDetailDrawer.tsx">
import { Sheet, SheetContent, SheetHeader, SheetTitle, SheetDescription } from "./ui/sheet"
import { StatusChip } from "./StatusChip"
import { ErrorBadge } from "./ErrorBadge"
import { AutoFixBadge } from "./AutoFixBadge"
import { Button } from "./ui/button"
import { Badge } from "./ui/badge"
import { Tabs, TabsContent, TabsList, TabsTrigger } from "./ui/tabs"
import { ScrollArea } from "./ui/scroll-area"
import { Separator } from "./ui/separator"
import { 
  ExternalLink, 
  FileText, 
  FolderOpen, 
  Clock, 
  CheckCircle2, 
  AlertTriangle, 
  XCircle, 
  Zap,
  Eye,
  Copy,
  Download
} from "lucide-react"
import { toast } from "sonner"

interface FileData {
  filename: string
  status: 'OK' | 'ERRO' | 'FERRAGENS-ONLY'
  errors: string[]
  autoFixes: string[]
  warnings: string[]
  timestamp: string
  tags: string[]
  paths: {
    origem: string
    working: string
    destino: string
    logs: string
  }
  logPreview: {
    status: string
    processedAt: string
    fase: string
    errors?: string[]
    autoFixes?: string[]
    warnings?: string[]
    tags: string[]
  }
}

interface FileDetailDrawerProps {
  isOpen: boolean
  onClose: () => void
  fileData?: FileData
}

// Fun√ß√£o para formatar tags
const formatTag = (tag: string): string => {
  const tagMap: Record<string, string> = {
    'ferragens': 'FERRAGENS',
    'qtdZero': 'QTD ZERO',
    'precoZero': 'PRE√áO ZERO',
    'muxarabi': 'MUXARABI',
    'coringa': 'COR CORINGA'
  }
  return tagMap[tag] || tag.toUpperCase()
}

// Fun√ß√£o para copiar texto
const copyToClipboard = (text: string, description: string) => {
  navigator.clipboard.writeText(text).then(() => {
    toast("Copiado para √°rea de transfer√™ncia", {
      description: description
    })
  }).catch(() => {
    toast("Erro ao copiar", {
      description: "N√£o foi poss√≠vel copiar o texto"
    })
  })
}

export function FileDetailDrawer({ isOpen, onClose, fileData }: FileDetailDrawerProps) {
  if (!fileData) return null

  // Simular log detalhado mais completo
  const detailedLog = {
    ...fileData.logPreview,
    metadata: {
      originalSize: "156.8 KB",
      processedSize: "158.2 KB",
      processingTime: "1.2s",
      xmlVersion: "1.0",
      encoding: "UTF-8",
      builderVersion: "v2.1.5"
    },
    validation: {
      itemsTotal: 12,
      itemsProcessed: 12,
      itemsWithErrors: fileData.errors.length,
      itemsAutoFixed: fileData.autoFixes.length
    },
    plugins: {
      required: ["2530", "2534", "2341", "2525"],
      found: fileData.status === "FERRAGENS-ONLY" ? [] : ["2530", "2534"],
      missing: fileData.status === "FERRAGENS-ONLY" ? [] : ["2341", "2525"]
    },
    analysis: {
      hasFerragens: fileData.tags.includes("ferragens"),
      hasMuxarabi: fileData.tags.includes("muxarabi"),
      hasCoringa: fileData.tags.includes("coringa"),
      hasQuantityIssues: fileData.tags.includes("qtdZero"),
      hasPriceIssues: fileData.tags.includes("precoZero")
    }
  }

  return (
    <Sheet open={isOpen} onOpenChange={onClose}>
      <SheetContent className="bg-[#1B1B1B] border-[#2C2C2C] text-white w-[700px] max-w-[90vw] p-0">
        <div className="flex flex-col h-full">
          {/* Header fixo */}
          <div className="p-6 border-b border-[#2C2C2C]">
            <SheetHeader>
              <SheetTitle className="text-white flex items-center gap-3">
                <FileText className="h-5 w-5 text-[#F1C40F]" />
                <span className="font-mono text-sm">{fileData.filename}</span>
                <StatusChip status={fileData.status} />
              </SheetTitle>
              <SheetDescription className="text-[#A7A7A7] mt-2">
                Detalhes completos do processamento XML ‚Ä¢ {fileData.timestamp}
              </SheetDescription>
              
              {/* Tags */}
              {fileData.tags.length > 0 && (
                <div className="flex flex-wrap gap-2 mt-3">
                  {fileData.tags.map((tag, idx) => (
                    <Badge key={idx} variant="outline" className="text-[#3498DB] border-[#3498DB]/20 bg-[#3498DB]/10 text-xs">
                      {formatTag(tag)}
                    </Badge>
                  ))}
                </div>
              )}
            </SheetHeader>
          </div>

          {/* Conte√∫do com scroll */}
          <div className="flex-1 overflow-hidden">
            <Tabs defaultValue="overview" className="h-full flex flex-col">
              <div className="border-b border-[#2C2C2C] px-6">
                <TabsList className="bg-transparent h-12 p-0 gap-6">
                  <TabsTrigger 
                    value="overview" 
                    className="bg-transparent data-[state=active]:bg-transparent data-[state=active]:text-[#F1C40F] data-[state=active]:border-b-2 data-[state=active]:border-[#F1C40F] rounded-none"
                  >
                    <Eye className="h-4 w-4 mr-2" />
                    Vis√£o Geral
                  </TabsTrigger>
                  <TabsTrigger 
                    value="paths" 
                    className="bg-transparent data-[state=active]:bg-transparent data-[state=active]:text-[#F1C40F] data-[state=active]:border-b-2 data-[state=active]:border-[#F1C40F] rounded-none"
                  >
                    <FolderOpen className="h-4 w-4 mr-2" />
                    Paths
                  </TabsTrigger>
                  <TabsTrigger 
                    value="log" 
                    className="bg-transparent data-[state=active]:bg-transparent data-[state=active]:text-[#F1C40F] data-[state=active]:border-b-2 data-[state=active]:border-[#F1C40F] rounded-none"
                  >
                    <FileText className="h-4 w-4 mr-2" />
                    Log JSON
                  </TabsTrigger>
                </TabsList>
              </div>

              <div className="flex-1 overflow-hidden">
                <TabsContent value="overview" className="h-full mt-0">
                  <ScrollArea className="h-full px-6 py-4">
                    <div className="space-y-6">
                      {/* Status Summary */}
                      <div className="grid grid-cols-2 gap-4">
                        <div className="bg-[#111111] p-4 rounded-lg">
                          <div className="flex items-center gap-2 mb-2">
                            <Clock className="h-4 w-4 text-[#A7A7A7]" />
                            <span className="text-sm text-[#A7A7A7]">Processamento</span>
                          </div>
                          <div className="text-lg font-medium">{detailedLog.metadata.processingTime}</div>
                        </div>
                        
                        <div className="bg-[#111111] p-4 rounded-lg">
                          <div className="flex items-center gap-2 mb-2">
                            <FileText className="h-4 w-4 text-[#A7A7A7]" />
                            <span className="text-sm text-[#A7A7A7]">Tamanho</span>
                          </div>
                          <div className="text-lg font-medium">{detailedLog.metadata.originalSize}</div>
                        </div>
                      </div>

                      {/* Valida√ß√£o */}
                      <div>
                        <h3 className="text-lg font-medium mb-3 flex items-center gap-2">
                          <CheckCircle2 className="h-5 w-5 text-[#27AE60]" />
                          Valida√ß√£o
                        </h3>
                        <div className="bg-[#111111] p-4 rounded-lg space-y-3">
                          <div className="flex justify-between text-sm">
                            <span className="text-[#A7A7A7]">Itens processados:</span>
                            <span>{detailedLog.validation.itemsProcessed}/{detailedLog.validation.itemsTotal}</span>
                          </div>
                          <div className="flex justify-between text-sm">
                            <span className="text-[#A7A7A7]">Itens com erro:</span>
                            <span className={fileData.errors.length > 0 ? "text-[#E74C3C]" : "text-[#27AE60]"}>
                              {detailedLog.validation.itemsWithErrors}
                            </span>
                          </div>
                          <div className="flex justify-between text-sm">
                            <span className="text-[#A7A7A7]">Auto-fix aplicados:</span>
                            <span className={fileData.autoFixes.length > 0 ? "text-[#F1C40F]" : "text-[#A7A7A7]"}>
                              {detailedLog.validation.itemsAutoFixed}
                            </span>
                          </div>
                        </div>
                      </div>

                      {/* Erros */}
                      {fileData.errors.length > 0 && (
                        <div>
                          <h3 className="text-lg font-medium mb-3 flex items-center gap-2">
                            <XCircle className="h-5 w-5 text-[#E74C3C]" />
                            Erros Encontrados ({fileData.errors.length})
                          </h3>
                          <div className="space-y-2">
                            {fileData.errors.map((error, index) => (
                              <div key={index} className="flex items-center gap-3 p-3 bg-[#E74C3C]/10 border border-[#E74C3C]/20 rounded">
                                <XCircle className="h-4 w-4 text-[#E74C3C] flex-shrink-0" />
                                <span className="text-[#E74C3C] text-sm">{error}</span>
                              </div>
                            ))}
                          </div>
                        </div>
                      )}

                      {/* Auto-fix */}
                      {fileData.autoFixes.length > 0 && (
                        <div>
                          <h3 className="text-lg font-medium mb-3 flex items-center gap-2">
                            <Zap className="h-5 w-5 text-[#F1C40F]" />
                            Corre√ß√µes Autom√°ticas ({fileData.autoFixes.length})
                          </h3>
                          <div className="space-y-2">
                            {fileData.autoFixes.map((fix, index) => (
                              <div key={index} className="flex items-center gap-3 p-3 bg-[#F1C40F]/10 border border-[#F1C40F]/20 rounded">
                                <Zap className="h-4 w-4 text-[#F1C40F] flex-shrink-0" />
                                <span className="text-[#F1C40F] text-sm font-mono">{fix}</span>
                              </div>
                            ))}
                          </div>
                        </div>
                      )}

                      {/* Avisos */}
                      {fileData.warnings.length > 0 && (
                        <div>
                          <h3 className="text-lg font-medium mb-3 flex items-center gap-2">
                            <AlertTriangle className="h-5 w-5 text-[#F39C12]" />
                            Avisos ({fileData.warnings.length})
                          </h3>
                          <div className="space-y-2">
                            {fileData.warnings.map((warning, index) => (
                              <div key={index} className="p-3 bg-[#F39C12]/10 border border-[#F39C12]/20 rounded">
                                <div className="flex items-start gap-3">
                                  <AlertTriangle className="h-4 w-4 text-[#F39C12] flex-shrink-0 mt-0.5" />
                                  <span className="text-[#F39C12] text-sm">{warning}</span>
                                </div>
                              </div>
                            ))}
                          </div>
                        </div>
                      )}

                      {/* Plugins */}
                      {fileData.status !== "FERRAGENS-ONLY" && (
                        <div>
                          <h3 className="text-lg font-medium mb-3">Plugins de M√°quina</h3>
                          <div className="bg-[#111111] p-4 rounded-lg space-y-3">
                            <div>
                              <span className="text-[#A7A7A7] text-sm">Requeridos:</span>
                              <div className="flex gap-2 mt-1">
                                {detailedLog.plugins.required.map(plugin => (
                                  <Badge key={plugin} variant="outline" className="text-[#A7A7A7] border-[#A7A7A7]/20">
                                    {plugin}
                                  </Badge>
                                ))}
                              </div>
                            </div>
                            <div>
                              <span className="text-[#A7A7A7] text-sm">Encontrados:</span>
                              <div className="flex gap-2 mt-1">
                                {detailedLog.plugins.found.map(plugin => (
                                  <Badge key={plugin} variant="outline" className="text-[#27AE60] border-[#27AE60]/20 bg-[#27AE60]/10">
                                    {plugin}
                                  </Badge>
                                ))}
                              </div>
                            </div>
                            {detailedLog.plugins.missing.length > 0 && (
                              <div>
                                <span className="text-[#A7A7A7] text-sm">Ausentes:</span>
                                <div className="flex gap-2 mt-1">
                                  {detailedLog.plugins.missing.map(plugin => (
                                    <Badge key={plugin} variant="outline" className="text-[#E74C3C] border-[#E74C3C]/20 bg-[#E74C3C]/10">
                                      {plugin}
                                    </Badge>
                                  ))}
                                </div>
                              </div>
                            )}
                          </div>
                        </div>
                      )}
                    </div>
                  </ScrollArea>
                </TabsContent>

                <TabsContent value="paths" className="h-full mt-0">
                  <ScrollArea className="h-full px-6 py-4">
                    <div className="space-y-4">
                      <h3 className="text-lg font-medium">Localiza√ß√£o dos Arquivos</h3>
                      
                      {Object.entries(fileData.paths).map(([key, path]) => (
                        <div key={key} className="space-y-2">
                          <div className="flex items-center justify-between">
                            <span className="text-[#A7A7A7] capitalize font-medium">{key}</span>
                            <div className="flex gap-2">
                              <Button 
                                size="sm" 
                                variant="ghost" 
                                className="h-8 w-8 p-0"
                                onClick={() => copyToClipboard(path, `Path ${key} copiado`)}
                              >
                                <Copy className="h-4 w-4" />
                              </Button>
                              <Button size="sm" variant="ghost" className="h-8 w-8 p-0">
                                <ExternalLink className="h-4 w-4" />
                              </Button>
                            </div>
                          </div>
                          <code className="block bg-[#111111] p-3 rounded text-sm font-mono break-all border border-[#2C2C2C]">
                            {path}
                          </code>
                        </div>
                      ))}
                    </div>
                  </ScrollArea>
                </TabsContent>

                <TabsContent value="log" className="h-full mt-0">
                  <ScrollArea className="h-full px-6 py-4">
                    <div className="space-y-4">
                      <div className="flex items-center justify-between">
                        <h3 className="text-lg font-medium">Log de Processamento</h3>
                        <div className="flex gap-2">
                          <Button 
                            size="sm" 
                            variant="outline" 
                            className="gap-2"
                            onClick={() => copyToClipboard(JSON.stringify(detailedLog, null, 2), "Log JSON copiado")}
                          >
                            <Copy className="h-4 w-4" />
                            Copiar
                          </Button>
                          <Button size="sm" variant="outline" className="gap-2">
                            <Download className="h-4 w-4" />
                            Download
                          </Button>
                        </div>
                      </div>
                      
                      <div className="bg-[#111111] rounded-lg border border-[#2C2C2C] overflow-hidden">
                        <div className="p-3 border-b border-[#2C2C2C] bg-[#1B1B1B]">
                          <span className="text-sm text-[#A7A7A7] font-mono">JSON</span>
                        </div>
                        <pre className="p-4 text-xs font-mono overflow-x-auto max-h-96 text-[#A7A7A7]">
                          {JSON.stringify(detailedLog, null, 2)}
                        </pre>
                      </div>
                    </div>
                  </ScrollArea>
                </TabsContent>
              </div>
            </Tabs>
          </div>
        </div>
      </SheetContent>
    </Sheet>
  )
}
</file>

<file path="src/src/components/hooks/useElectronAPI.tsx">
import { useState, useEffect, useCallback } from 'react'
import { toast } from "sonner"

// Definir tipos para APIs do Electron
declare global {
  interface Window {
    electronAPI?: {
      startWatching: () => void
      onFileProcessed: (callback: (event: any, result: ProcessResult) => void) => void
      reanalyzeAll: () => Promise<{ success: boolean; message: string }>
      reanalyzeErrors: () => Promise<{ success: boolean; message: string }>
    }
  }
}

interface ProcessResult {
  arquivo: string
  status: 'ok' | 'erro' | 'FERRAGENS-ONLY'
  erros: string[]
  avisos: string[]
  autoFix: string[]
  tags: string[]
  paths?: {
    origem: string
    working: string
    destino: string
    logs: string
  }
  timestamp?: string
  logPreview?: any
}

interface ElectronState {
  isMonitoring: boolean
  processedFiles: ProcessResult[]
  isConnected: boolean
}

export function useElectronAPI() {
  const [state, setState] = useState<ElectronState>({
    isMonitoring: false,
    processedFiles: [],
    isConnected: false
  })

  // Verificar se estamos no Electron
  useEffect(() => {
    const isElectron = window.electronAPI !== undefined
    setState(prev => ({ ...prev, isConnected: isElectron }))
    
    if (!isElectron) {
      console.warn('Electron APIs n√£o dispon√≠veis - rodando em modo web')
      return
    }

    // Configurar listener para arquivos processados
    const handleFileProcessed = (event: any, result: ProcessResult) => {
      // Adicionar timestamp se n√£o existir
      const processedResult = {
        ...result,
        timestamp: result.timestamp || new Date().toLocaleString('pt-BR'),
        paths: result.paths || {
          origem: `\\\\server\\entrada\\${result.arquivo}`,
          working: `\\\\server\\working\\${result.arquivo}`,
          destino: `\\\\server\\XML_FINAL\\${result.status === 'ok' ? 'ok' : result.status === 'FERRAGENS-ONLY' ? 'ferragens' : 'erro'}\\${result.arquivo}`,
          logs: `\\\\server\\LOGS\\${result.status === 'erro' ? 'errors' : 'processed'}\\${result.arquivo.replace('.xml', '.json')}`
        },
        logPreview: result.logPreview || {
          status: result.status,
          processedAt: new Date().toISOString(),
          fase: "p√≥s-fix",
          errors: result.erros,
          autoFixes: result.autoFix,
          warnings: result.avisos,
          tags: result.tags
        }
      }

      setState(prev => ({
        ...prev,
        processedFiles: [processedResult, ...prev.processedFiles].slice(0, 100) // Manter √∫ltimos 100
      }))

      // Toast baseado no resultado real
      if (result.status === 'ok') {
        if (result.autoFix.length > 0) {
          toast("Arquivo corrigido automaticamente", {
            description: `${result.arquivo} - ${result.autoFix.join(', ')}`
          })
        } else {
          toast("Arquivo processado com sucesso", {
            description: `${result.arquivo} movido para pasta final.`
          })
        }
      } else if (result.status === 'FERRAGENS-ONLY') {
        toast("Pedido apenas de ferragens", {
          description: `${result.arquivo} - plugins ignorados.`
        })
      } else {
        toast("Arquivo com inconformidades", {
          description: `${result.arquivo} - ${result.erros.length} erro(s) encontrado(s).`
        })
      }
    }

    window.electronAPI.onFileProcessed(handleFileProcessed)

    return () => {
      // Cleanup se necess√°rio
    }
  }, [])

  const startMonitoring = useCallback(() => {
    if (!window.electronAPI) {
      toast("Erro", {
        description: "APIs do Electron n√£o dispon√≠veis"
      })
      return
    }

    try {
      window.electronAPI.startWatching()
      setState(prev => ({ ...prev, isMonitoring: true }))
      toast("Monitoramento iniciado", {
        description: "Aguardando novos XMLs na pasta de entrada..."
      })
    } catch (error) {
      toast("Erro ao iniciar monitoramento", {
        description: "Falha na comunica√ß√£o com o sistema"
      })
    }
  }, [])

  const stopMonitoring = useCallback(() => {
    setState(prev => ({ ...prev, isMonitoring: false }))
    toast("Monitoramento pausado", {
      description: "Processamento interrompido temporariamente."
    })
  }, [])

  const reanalyzeAll = useCallback(async () => {
    if (!window.electronAPI) {
      toast("Erro", { description: "APIs do Electron n√£o dispon√≠veis" })
      return
    }

    try {
      const result = await window.electronAPI.reanalyzeAll()
      if (result.success) {
        toast("Rean√°lise conclu√≠da", {
          description: result.message
        })
      } else {
        toast("Erro na rean√°lise", {
          description: result.message
        })
      }
    } catch (error) {
      toast("Erro na rean√°lise", {
        description: "Falha na comunica√ß√£o com o backend"
      })
    }
  }, [])

  const reanalyzeErrors = useCallback(async () => {
    if (!window.electronAPI) {
      toast("Erro", { description: "APIs do Electron n√£o dispon√≠veis" })
      return
    }

    try {
      const result = await window.electronAPI.reanalyzeErrors()
      if (result.success) {
        toast("Rean√°lise de erros conclu√≠da", {
          description: result.message
        })
      } else {
        toast("Erro na rean√°lise", {
          description: result.message
        })
      }
    } catch (error) {
      toast("Erro na rean√°lise", {
        description: "Falha na comunica√ß√£o com o backend"
      })
    }
  }, [])

  const clearHistory = useCallback(() => {
    setState(prev => ({
      ...prev,
      processedFiles: []
    }))
    toast("Hist√≥rico limpo")
  }, [])

  // Utilit√°rios para an√°lise dos dados
  const getStats = useCallback(() => {
    const files = state.processedFiles
    return {
      total: files.length,
      ok: files.filter(f => f.status === 'ok').length,
      erro: files.filter(f => f.status === 'erro').length,
      ferragens: files.filter(f => f.status === 'FERRAGENS-ONLY').length,
      muxarabi: files.filter(f => f.tags.includes('muxarabi')).length,
      coringa: files.filter(f => f.tags.includes('coringa')).length,
      autoFixed: files.filter(f => f.autoFix.length > 0).length
    }
  }, [state.processedFiles])

  const getFilesByFilter = useCallback((filter: string) => {
    const files = state.processedFiles
    switch (filter) {
      case 'ok': return files.filter(f => f.status === 'ok')
      case 'erro': return files.filter(f => f.status === 'erro')
      case 'ferragens-only': return files.filter(f => f.status === 'FERRAGENS-ONLY')
      case 'muxarabi': return files.filter(f => f.tags.includes('muxarabi'))
      case 'cor-coringa': return files.filter(f => f.tags.includes('coringa'))
      case 'auto-fixed': return files.filter(f => f.autoFix.length > 0)
      default: return files
    }
  }, [state.processedFiles])

  return {
    ...state,
    startMonitoring,
    stopMonitoring,
    reanalyzeAll,
    reanalyzeErrors,
    clearHistory,
    getStats,
    getFilesByFilter
  }
}
</file>

<file path="src/src/components/KPICard.tsx">
import { ReactNode } from "react"

interface KPICardProps {
  title: string
  value: number
  icon: ReactNode
  color: string
  selected?: boolean
  onClick?: () => void
}

export function KPICard({ title, value, icon, color, selected = false, onClick }: KPICardProps) {
  return (
    <div 
      onClick={onClick}
      className={`
        cursor-pointer transition-all duration-200 p-4 rounded-lg border
        ${selected 
          ? 'bg-[#1B1B1B] border-[#F1C40F] shadow-lg' 
          : 'bg-[#1B1B1B] border-[#2C2C2C] hover:border-[#404040]'
        }
      `}
    >
      <div className="flex items-center justify-between">
        <div className="flex items-center gap-3">
          <div 
            className="p-2 rounded-lg"
            style={{ backgroundColor: `${color}20`, color: color }}
          >
            {icon}
          </div>
          <div>
            <p className="text-sm text-[#A7A7A7]">{title}</p>
            <p className="text-2xl font-semibold text-white">{value}</p>
          </div>
        </div>
      </div>
    </div>
  )
}
</file>

<file path="src/src/components/StatusChip.tsx">
import React from "react";

type Status = "OK" | "ERRO" | "FERRAGENS-ONLY" | undefined;

export function StatusChip({ status }: { status: Status }) {
  if (!status) return <span className="text-xs opacity-60">-</span>;

  const styles: Record<string, string> = {
    "OK": "bg-emerald-600/15 text-emerald-400 border-emerald-600/30",
    "ERRO": "bg-rose-600/15 text-rose-400 border-rose-600/30",
    "FERRAGENS-ONLY": "bg-amber-500/15 text-amber-400 border-amber-500/30",
  };

  return (
    <span
      className={`inline-flex items-center px-2.5 py-0.5 text-xs font-medium border rounded ${styles[status] || "border-zinc-700 text-zinc-300"}`}
    >
      {status}
    </span>
  );
}
</file>

<file path="src/src/components/ui/badge.tsx">
import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"
import { cn } from "./utils"

const badgeVariants = cva(
  "inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground hover:bg-primary/80",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive:
          "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",
        outline: "text-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    <div className={cn(badgeVariants({ variant }), className)} {...props} />
  )
}

export { Badge, badgeVariants }
</file>

<file path="src/src/components/ui/button.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"
import { cn } from "./utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline:
          "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button"
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }
</file>

<file path="src/src/components/ui/input.tsx">
import * as React from "react"
import { cn } from "./utils"

export interface InputProps
  extends React.InputHTMLAttributes<HTMLInputElement> {}

const Input = React.forwardRef<HTMLInputElement, InputProps>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Input.displayName = "Input"

export { Input }
</file>

<file path="src/src/components/ui/table.tsx">
import * as React from "react"
import { cn } from "./utils"

const Table = React.forwardRef<
  HTMLTableElement,
  React.HTMLAttributes<HTMLTableElement>
>(({ className, ...props }, ref) => (
  <div className="relative w-full overflow-auto">
    <table
      ref={ref}
      className={cn("w-full caption-bottom text-sm", className)}
      {...props}
    />
  </div>
))
Table.displayName = "Table"

const TableHeader = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <thead ref={ref} className={cn("[&_tr]:border-b", className)} {...props} />
))
TableHeader.displayName = "TableHeader"

const TableBody = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tbody
    ref={ref}
    className={cn("[&_tr:last-child]:border-0", className)}
    {...props}
  />
))
TableBody.displayName = "TableBody"

const TableFooter = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tfoot
    ref={ref}
    className={cn(
      "border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",
      className
    )}
    {...props}
  />
))
TableFooter.displayName = "TableFooter"

const TableRow = React.forwardRef<
  HTMLTableRowElement,
  React.HTMLAttributes<HTMLTableRowElement>
>(({ className, ...props }, ref) => (
  <tr
    ref={ref}
    className={cn(
      "border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",
      className
    )}
    {...props}
  />
))
TableRow.displayName = "TableRow"

const TableHead = React.forwardRef<
  HTMLTableCellElement,
  React.ThHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <th
    ref={ref}
    className={cn(
      "h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",
      className
    )}
    {...props}
  />
))
TableHead.displayName = "TableHead"

const TableCell = React.forwardRef<
  HTMLTableCellElement,
  React.TdHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <td
    ref={ref}
    className={cn("p-4 align-middle [&:has([role=checkbox])]:pr-0", className)}
    {...props}
  />
))
TableCell.displayName = "TableCell"

const TableCaption = React.forwardRef<
  HTMLTableCaptionElement,
  React.HTMLAttributes<HTMLTableCaptionElement>
>(({ className, ...props }, ref) => (
  <caption
    ref={ref}
    className={cn("mt-4 text-sm text-muted-foreground", className)}
    {...props}
  />
))
TableCaption.displayName = "TableCaption"

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}
</file>

<file path="src/src/components/ui/utils.ts">
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) { 
  return twMerge(clsx(inputs)) 
}
</file>

<file path="src/src/main.tsx">
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.tsx'
import './styles/globals.css'

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
</file>

<file path="src/styles/globals.css">
@custom-variant dark (&:is(.dark *));

:root {
  --font-size: 14px;
  --background: #ffffff;
  --foreground: oklch(0.145 0 0);
  --card: #ffffff;
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: #030213;
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.95 0.0058 264.53);
  --secondary-foreground: #030213;
  --muted: #ececf0;
  --muted-foreground: #717182;
  --accent: #e9ebef;
  --accent-foreground: #030213;
  --destructive: #d4183d;
  --destructive-foreground: #ffffff;
  --border: rgba(0, 0, 0, 0.1);
  --input: transparent;
  --input-background: #f3f3f5;
  --switch-background: #cbced4;
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --radius: 0.625rem;
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: #030213;
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  /* Bartz Analyzer Dark Theme */
  --background: #111111;
  --foreground: #FFFFFF;
  --card: #1B1B1B;
  --card-foreground: #FFFFFF;
  --popover: #1B1B1B;
  --popover-foreground: #FFFFFF;
  --primary: #F1C40F;
  --primary-foreground: #111111;
  --secondary: #2C2C2C;
  --secondary-foreground: #FFFFFF;
  --muted: #2C2C2C;
  --muted-foreground: #A7A7A7;
  --accent: #2C2C2C;
  --accent-foreground: #FFFFFF;
  --destructive: #E74C3C;
  --destructive-foreground: #FFFFFF;
  --border: #2C2C2C;
  --input: #2C2C2C;
  --ring: #F1C40F;
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --chart-1: #F1C40F;
  --chart-2: #27AE60;
  --chart-3: #E74C3C;
  --chart-4: #3498DB;
  --chart-5: #F39C12;
  --sidebar: #1B1B1B;
  --sidebar-foreground: #FFFFFF;
  --sidebar-primary: #F1C40F;
  --sidebar-primary-foreground: #111111;
  --sidebar-accent: #2C2C2C;
  --sidebar-accent-foreground: #FFFFFF;
  --sidebar-border: #2C2C2C;
  --sidebar-ring: #F1C40F;
  
  /* Bartz specific colors */
  --bartz-accent: #F1C40F;
  --bartz-accent-alt: #FF8A00;
  --status-success: #27AE60;
  --status-error: #E74C3C;
  --status-warning: #F39C12;
  --status-info: #3498DB;
  --text-primary: #FFFFFF;
  --text-secondary: #A7A7A7;
  --bg-base: #111111;
  --bg-surface: #1B1B1B;
  --border-color: #2C2C2C;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-input-background: var(--input-background);
  --color-switch-background: var(--switch-background);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }
}

/**
 * Base typography. This is not applied to elements which have an ancestor with a Tailwind text class.
 */
@layer base {
  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) {
    h1 {
      font-size: var(--text-2xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h2 {
      font-size: var(--text-xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h3 {
      font-size: var(--text-lg);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h4 {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    p {
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }

    label {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    button {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    input {
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }

    /* Chips e badges */
    .chip, .badge {
      font-size: 12px;
      font-weight: var(--font-weight-medium);
    }
  }
}

html {
  font-size: var(--font-size);
}

/* Scrollbar customization for dark theme */
.dark ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dark ::-webkit-scrollbar-track {
  background: #111111;
}

.dark ::-webkit-scrollbar-thumb {
  background: #2C2C2C;
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #404040;
}
</file>

<file path="src/tsconfig.json">
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "ESNext",
    "moduleResolution": "Bundler",
    "jsx": "react-jsx",
    "strict": true,
    "baseUrl": ".",
    "types": ["vite/client", "node"]
  }
}
</file>

<file path="src/vite.config.ts">
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react-swc'
import path from 'path'

export default defineConfig({
  plugins: [react()],
  resolve: { 
    alias: [
      { find: /^@\//, replacement: path.resolve(__dirname, 'src') + '/' }
    ] 
  },
  build: { 
    target: 'esnext', 
    outDir: 'build' 
  },
  server: { 
    port: 5173, 
    open: false 
  },
})
</file>

<file path="tailwind.config.cjs">
// tailwind.config.cjs
module.exports = {
  content: ['./index.html', './src/**/*.{ts,tsx,js,jsx}'],
  theme: { extend: {} },
  plugins: [],
};
</file>

<file path="vite.config.mts">
// vite.config.mts
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  build: {
    target: 'es2020',
    minify: 'esbuild',
    cssMinify: true,
    rollupOptions: {
      output: {
        manualChunks(id) {
          if (id.includes('node_modules')) {
            if (id.includes('react')) return 'vendor-react'
            return 'vendor'
          }
        },
      },
    },
  },
})
</file>

<file path="watcher.js">
// main.js
const { app, BrowserWindow, ipcMain, dialog } = require('electron');
const path = require('path');
const watcher = require('./watcher');

let win;
let currentFolder = null;
let isWatching = false;
let cachedFiles = [];

function createWindow() {
  win = new BrowserWindow({
    width: 1200,
    height: 800,
    webPreferences: {
      preload: path.join(__dirname, 'preload.js'),
      contextIsolation: true
    }
  });

  const isDev = process.env.VITE_DEV === '1'; // ‚Üê chave!

  if (isDev) {
    // DEV: usar Vite
    win.loadURL('http://localhost:5174');
    win.webContents.openDevTools({ mode: 'detach' });
  } else {
    // PROD: apontar para o build do Vite
    const indexPath = path.join(__dirname, 'build', 'index.html');
    win.loadFile(indexPath);
  }
}

app.whenReady().then(createWindow);

// ===== Handlers IPC 'watch:*' =====
// (mant√©m exatamente como te mandei antes; deixei s√≥ um resumo aqui)
ipcMain.handle('watch:pickFolder', async () => {
  const res = await dialog.showOpenDialog(win, { properties: ['openDirectory'] });
  if (res.canceled || !res.filePaths?.[0]) return { folder: null };
  currentFolder = res.filePaths[0];
  if (typeof watcher.setFolder === 'function') await watcher.setFolder(currentFolder);
  return { folder: currentFolder };
});

ipcMain.handle('watch:getState', async () => ({ folder: currentFolder, isWatching }));
ipcMain.handle('watch:start', async () => {
  if (!currentFolder && typeof watcher.getFolder !== 'function') throw new Error('Selecione uma pasta antes de iniciar.');
  if (isWatching) return { started: true };
  await watcher.startWatch((result) => {
    cachedFiles.unshift(result);
    win?.webContents.send('watch:file-processed', result);
  });
  isWatching = true;
  return { started: true };
});

ipcMain.handle('watch:stop', async () => {
  if (typeof watcher.stopWatch === 'function') await watcher.stopWatch();
  isWatching = false;
  return { started: false };
});

ipcMain.handle('watch:reanalyzeAll', async () => {
  const results = await watcher.reanalyzeAll?.();
  if (Array.isArray(results)) results.forEach(r => {
    cachedFiles.unshift(r);
    win?.webContents.send('watch:file-processed', r);
  });
  return { ok: true, count: Array.isArray(results) ? results.length : 0 };
});

ipcMain.handle('watch:reanalyzeErrors', async () => {
  const results = await watcher.reanalyzeErrors?.();
  if (Array.isArray(results)) results.forEach(r => {
    cachedFiles.unshift(r);
    win?.webContents.send('watch:file-processed', r);
  });
  return { ok: true, count: Array.isArray(results) ? results.length : 0 };
});

ipcMain.handle('watch:listFiles', async () => {
  if (typeof watcher.listFiles === 'function') {
    const list = await watcher.listFiles();
    cachedFiles = list;
    return list;
  }
  return cachedFiles;
});
</file>

<file path="src/components/ConfigurationScreen.tsx">
// src/components/ConfigurationScreen.tsx
import { useEffect, useState } from "react";
import { Button } from "./ui/button";
import { Input } from "./ui/input";

declare global {
  interface Window {
    api?: {
      testAccess: (form: Paths) => Promise<Record<string, { ok: boolean; exists: boolean; write: boolean }>>;
    };
    electron?: {
      settings?: {
        load: () => Promise<Paths>;
        save: (form: Paths) => Promise<void>;
      };
    };
  }
}

type Paths = {
  entrada?: string;
  working?: string;
  finalOk?: string;
  finalErro?: string;
  logsErrors?: string;
  logsProcessed?: string;
  drawings?: string;
};

export default function ConfigurationScreen({ onBack }: { onBack: () => void }) {
  const [form, setForm] = useState<Paths>({
    entrada: "",
    working: "",
    finalOk: "",
    finalErro: "",
    logsErrors: "",
    logsProcessed: "",
    drawings: "",
  });

  const [test, setTest] = useState<Record<string, { ok: boolean; exists: boolean; write: boolean }>>({});

  useEffect(() => {
    (async () => {
      const cur = await window.electron?.settings?.load();
      if (cur) setForm((prev) => ({ ...prev, ...cur }));
    })();
  }, []);

  function setVal(key: keyof Paths, v: string) {
    setForm((p) => ({ ...p, [key]: v }));
  }

  async function handleSalvar() {
    await window.electron?.settings?.save(form);
    alert("Configura√ß√µes salvas!");
  }

  async function handleTestar() {
    const r = await window.api?.testAccess(form);
    setTest(r || {});
  }

  const Badge = ({ ok, exists, write }: { ok?: boolean; exists?: boolean; write?: boolean }) => (
    <div className="text-xs opacity-80">
      <span className={`px-2 py-0.5 rounded ${ok ? 'bg-emerald-900 text-emerald-200' : 'bg-red-900 text-red-200'}`}>
        {ok ? 'OK' : 'ERRO'}
      </span>{" "}
      <span className="ml-2">exist: {exists ? '‚úì' : '√ó'}</span>
      <span className="ml-2">write: {write ? '‚úì' : '√ó'}</span>
    </div>
  );

  const Row = (props: { label: string; field: keyof Paths; placeholder?: string }) => (
    <div className="space-y-1">
      <label className="text-sm opacity-80">{props.label}</label>
      <div className="flex items-center gap-3">
        <Input
          value={form[props.field] || ""}
          onChange={(e) => setVal(props.field, e.target.value)}
          placeholder={props.placeholder}
          className="bg-[#151515] border-[#2C2C2C] w-[680px]"
        />
        <Badge {...(test[props.field] || {})} />
      </div>
    </div>
  );

  return (
    <div className="p-6 text-white">
      <div className="mb-4">
        <Button variant="outline" onClick={onBack}>{'‚Üê Voltar ao Dashboard'}</Button>
      </div>

      <h2 className="text-2xl font-semibold mb-6">Configura√ß√µes ‚Ä¢ Caminhos UNC</h2>

      <div className="space-y-5 bg-[#111] border border-[#2C2C2C] rounded-xl p-6 max-w-[920px]">
        <Row label="Pasta de Entrada" field="entrada" placeholder="\\servidor\orcamentos\entrada" />
        <Row label="Pasta Working" field="working" placeholder="\\servidor\orcamentos\working" />
        <Row label="Pasta Final - OK" field="finalOk" placeholder="\\servidor\orcamentos\XML_FINAL\ok" />
        <Row label="Pasta Final - Erro" field="finalErro" placeholder="\\servidor\orcamentos\XML_FINAL\erro" />
        <Row label="Pasta de Desenhos" field="drawings" placeholder="\\servidor\desenhos" />
        <Row label="Logs - Errors" field="logsErrors" placeholder="\\servidor\orcamentos\LOGS\errors" />
        <Row label="Logs - Processed" field="logsProcessed" placeholder="\\servidor\orcamentos\LOGS\processed" />

        <div className="flex gap-3 pt-2">
          <Button onClick={handleSalvar} className="bg-yellow-600 hover:bg-yellow-500">Salvar</Button>
          <Button variant="outline" onClick={handleTestar}>Testar acesso</Button>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="src/Settings.ts">
// src/main/settings.ts
import { dialog } from "electron";
import Store from "electron-store";
import fs from "fs/promises";

export type AppSettings = {
  entrada: string;
  working: string;
  ok: string;
  erro: string;
  logsErrors: string;
  logsProcessed: string;
  drawings: string;
};

const store = new Store<AppSettings>({
  name: "bartz-settings",
  defaults: {
    entrada: "",
    working: "",
    ok: "",
    erro: "",
    logsErrors: "",
    logsProcessed: "",
    drawings: "",
  },
});

export const Settings = {
  load(): AppSettings {
    return {
      entrada: store.get("entrada") ?? "",
      working: store.get("working") ?? "",
      ok: store.get("ok") ?? "",
      erro: store.get("erro") ?? "",
      logsErrors: store.get("logsErrors") ?? "",
      logsProcessed: store.get("logsProcessed") ?? "",
      drawings: store.get("drawings") ?? "",
    };
  },
  save(data: Partial<AppSettings>) {
    const current = Settings.load();
    const merged = { ...current, ...data };
    Object.entries(merged).forEach(([k, v]) => {
      // @ts-ignore
      store.set(k, v ?? "");
    });
    return Settings.load();
  },
  async testPaths(data: Partial<AppSettings>) {
    const payload = { ...(Settings.load()), ...(data || {}) };
    const chk = {
      entrada: false, working: false, ok: false, erro: false, logsErrors: false, logsProcessed: false, drawings: false,
    };
    async function canWrite(p?: string) {
      if (!p) return false;
      try {
        await fs.access(p);
        await fs.mkdir(p, { recursive: true });
        await fs.access(p);
        return true;
      } catch {
        return false;
      }
    }
    chk.entrada = await canWrite(payload.entrada);
    chk.working = await canWrite(payload.working);
    chk.ok = await canWrite(payload.ok);
    chk.erro = await canWrite(payload.erro);
    chk.logsErrors = await canWrite(payload.logsErrors);
    chk.logsProcessed = await canWrite(payload.logsProcessed);
    chk.drawings = await canWrite(payload.drawings);
    return chk;
  },
  async pickFolder(initial = "") {
    const res = await dialog.showOpenDialog({
      defaultPath: initial || undefined,
      properties: ["openDirectory", "createDirectory"],
    });
    if (res.canceled || res.filePaths.length === 0) return null;
    return res.filePaths[0];
  },
};
</file>

<file path="electron/main.js">
// main.js  (CommonJS)
const { app, BrowserWindow, ipcMain, dialog } = require('electron');
const path = require('path');
const fs = require('fs');
const fsp = fs.promises;
const fse = require('fs-extra');   // npm i fs-extra


let win = null;
let watcher = null;
let currentCfg = null;

const CFG_FILE = path.join(app.getPath('userData'), 'settings.json');

function createWindow() {
  win = new BrowserWindow({
    width: 1280,
    height: 800,
    webPreferences: {
      preload: path.join(__dirname, 'preload.js'),
      nodeIntegration: false,
      contextIsolation: true
    }
  });

  if (process.env.VITE_DEV) {
    win.loadURL('http://localhost:5174/');
    win.webContents.openDevTools({ mode: 'detach' });
  } else {
    win.loadFile(path.join(__dirname, 'dist/index.html'));
  }
}

/* ---------------- utils --------------- */
function send(evt, payload) {
  try { win && win.webContents.send('analyzer:event', { evt, payload }); } catch {}
}
async function loadCfg() {
  try { return JSON.parse(await fsp.readFile(CFG_FILE, 'utf8')); } catch { return {}; }
}
async function saveCfg(obj) {
  await fse.ensureFile(CFG_FILE);
  await fsp.writeFile(CFG_FILE, JSON.stringify(obj || {}, null, 2), 'utf8');
}
function isUNC(p) { return typeof p === 'string' && p.startsWith('\\\\'); }
function normalizeWin(p) {
  if (!p) return '';
  return isUNC(p) ? p.replace(/\//g, '\\') : path.normalize(p);
}
async function checkWrite(dir) {
  try {
    if (!dir) return { exist:false, write:false, error:'vazio' };
    const p = normalizeWin(dir);
    await fse.ensureDir(p);
    const probe = path.join(p, `.probe_${Date.now()}.tmp`);
    await fsp.writeFile(probe, 'ok');
    await fsp.unlink(probe);
    return { exist:true, write:true };
  } catch (e) {
    const exist = await fse.pathExists(dir).catch(()=>false);
    return { exist, write:false, error:String(e && e.message || e) };
  }
}
async function testPaths(cfg) {
  const keys = ['entrada','working','ok','erro','logsErrors','logsProcessed','drawings'];
  const out = {};
  for (const k of keys) out[k] = await checkWrite(cfg[k]);
  return out;
}

/* ------ valida√ß√£o (stub) ------ */
async function validateXml(fileFullPath) {
  const payload = { arquivo: fileFullPath, erros: [], tags: [], autoFixes: [] };
  try {
    const base = path.basename(fileFullPath).toLowerCase();
    if (!base.includes('ok')) payload.erros.push({ descricao: 'Arquivo fora do padr√£o' });
    if (base.includes('mux')) payload.tags.push('muxarabi');
    if (base.includes('ferr')) payload.tags.push('ferragens');
  } catch (e) {
    payload.erros.push({ descricao: `Falha ao ler: ${String(e && e.message || e)}` });
  }
  return payload;
}

/* ---------------- pipeline --------------- */
async function processOne(fileFullPath, cfg) {
  try {
    const payload = await validateXml(fileFullPath);
    send('file-validated', payload);

    const isOK = (payload.erros || []).length === 0;
    const base = path.basename(fileFullPath);
    const dest = isOK ? (cfg.ok || cfg.working) : (cfg.erro || cfg.working);
    if (dest) {
      await fse.ensureDir(dest);
      await fse.move(fileFullPath, path.join(dest, base), { overwrite: true }).catch(()=>{});
    }

    const logDir = isOK ? cfg.logsProcessed : cfg.logsErrors;
    if (logDir) {
      await fse.ensureDir(logDir);
      const logName = base.replace(/\.xml$/i, '') + `_${isOK ? 'ok' : 'erro'}.json`;
      await fsp.writeFile(path.join(logDir, logName), JSON.stringify(payload, null, 2), 'utf8');
    }
  } catch (e) {
    send('error', { where: 'processOne', message: String(e && e.message || e) });
  }
}

/* ---------------- IPC: Settings --------------- */
ipcMain.handle('settings:load', async () => (await loadCfg()));
ipcMain.handle('settings:save', async (_e, obj) => {
  const next = {
    entrada: normalizeWin(obj?.entrada || ''),
    working: normalizeWin(obj?.working || ''),
    ok:      normalizeWin(obj?.ok || ''),
    erro:    normalizeWin(obj?.erro || ''),
    logsErrors:    normalizeWin(obj?.logsErrors || ''),
    logsProcessed: normalizeWin(obj?.logsProcessed || ''),
    drawings:      normalizeWin(obj?.drawings || ''),
  };
  await saveCfg(next);
  currentCfg = next;
  return { ok:true, saved: next };
});
ipcMain.handle('settings:testPaths', async (_e, obj) => {
  const cfg = {
    entrada: normalizeWin(obj?.entrada || ''),
    working: normalizeWin(obj?.working || ''),
    ok:      normalizeWin(obj?.ok || ''),
    erro:    normalizeWin(obj?.erro || ''),
    logsErrors:    normalizeWin(obj?.logsErrors || ''),
    logsProcessed: normalizeWin(obj?.logsProcessed || ''),
    drawings:      normalizeWin(obj?.drawings || ''),
  };
  return await testPaths(cfg);
});
ipcMain.handle('settings:pickFolder', async (_e, initial) => {
  const res = await dialog.showOpenDialog(win, {
    defaultPath: initial || undefined,
    properties: ['openDirectory', 'createDirectory']
  });
  if (res.canceled || !res.filePaths?.length) return null;
  return res.filePaths[0];
});

/* ---------------- IPC: Analyzer --------------- */
ipcMain.handle('analyzer:start', async (_e, overrideCfg) => {
  try {
    const saved = currentCfg && Object.keys(currentCfg).length ? currentCfg : (await loadCfg());
    const raw = (overrideCfg && Object.keys(overrideCfg).length) ? overrideCfg : saved;

    const cfg = {
      entrada: normalizeWin(raw.entrada),
      working: normalizeWin(raw.working),
      ok:      normalizeWin(raw.ok),
      erro:    normalizeWin(raw.erro),
      logsErrors:    normalizeWin(raw.logsErrors),
      logsProcessed: normalizeWin(raw.logsProcessed),
      drawings:      normalizeWin(raw.drawings),
    };

    for (const k of ['entrada','working','ok','erro']) {
      if (!cfg[k]) { send('error', { where:'start', message:`Config inv√°lida: '${k}' vazio.` }); return false; }
      await fse.ensureDir(cfg[k]);
    }
    currentCfg = cfg;

    if (watcher) { send('started', { watching: cfg.entrada }); return true; }

    const isUncEntrada = isUNC(cfg.entrada);
    watcher = chokidar.watch(cfg.entrada, {
      ignoreInitial: false,
      depth: 0,
      awaitWriteFinish: { stabilityThreshold: 600, pollInterval: 120 },
      usePolling: isUncEntrada,
      interval: isUncEntrada ? 800 : 100
    });

    watcher.on('add',    (p) => p.toLowerCase().endsWith('.xml') && processOne(p, cfg));
    watcher.on('change', (p) => p.toLowerCase().endsWith('.xml') && processOne(p, cfg));
    watcher.on('error',  (err) => send('error', { where:'watch', message:String(err) }));

    send('started', { watching: cfg.entrada });
    return true;
  } catch (e) {
    send('error', { where:'start', message:String(e && e.message || e) });
    return false;
  }
});

ipcMain.handle('analyzer:stop', async () => {
  try {
    if (watcher) { await watcher.close(); watcher = null; }
    send('stopped', {});
    return true;
  } catch (e) {
    send('error', { where:'stop', message:String(e && e.message || e) });
    return false;
  }
});

ipcMain.handle('analyzer:scanOnce', async () => {
  try {
    const cfg = currentCfg || await loadCfg();
    if (!cfg?.entrada) { send('error', { where:'scanOnce', message:'Entrada n√£o configurada.' }); return false; }
    const files = await fsp.readdir(cfg.entrada);
    for (const f of files) {
      if (f.toLowerCase().endsWith('.xml')) {
        await processOne(path.join(cfg.entrada, f), cfg);
      }
    }
    send('scan-finished', {});
    return true;
  } catch (e) {
    send('error', { where:'scanOnce', message:String(e && e.message || e) });
    return false;
  }
});

ipcMain.handle('analyzer:findDrawingFile', async (_e, drawingCode) => {
  try {
    console.log('[DXF Search] ========== INICIANDO BUSCA ==========');
    console.log('[DXF Search] C√≥digo de desenho procurado:', drawingCode);
    
    // Buscar na pasta "desenho_dxf" no Desktop
    const desktopPath = path.join(app.getPath('home'), 'Desktop');
    const dxfFolderPath = path.join(desktopPath, 'desenho_dxf');
    
    console.log('[DXF Search] Desktop path:', desktopPath);
    console.log('[DXF Search] DXF folder path:', dxfFolderPath);
    
    // Verificar se a pasta existe
    const folderExists = await fse.pathExists(dxfFolderPath);
    console.log('[DXF Search] Pasta "desenho_dxf" existe?', folderExists);
    
    if (!folderExists) {
      console.log('[DXF Search] ‚ùå FALHA: Pasta n√£o encontrada');
      return { found: false, path: null, message: `Pasta n√£o encontrada: ${dxfFolderPath}` };
    }
    
    // Buscar o arquivo na pasta
    const files = await fsp.readdir(dxfFolderPath);
    console.log('[DXF Search] Total de arquivos na pasta:', files.length);
    console.log('[DXF Search] Arquivos encontrados:');
    files.forEach((f, i) => {
      console.log(`  [${i + 1}] ${f}`);
    });
    
    // Procurar arquivo que comece com o c√≥digo de desenho (case-insensitive)
    const searchPattern = drawingCode.toLowerCase();
    console.log('[DXF Search] Padr√£o de busca (lowercase):', searchPattern);
    console.log('[DXF Search] Procurando arquivo que comece com:', searchPattern);
    
    const foundFile = files.find(f => {
      const lowerF = f.toLowerCase();
      const matches = lowerF.startsWith(searchPattern);
      console.log(`  Comparando "${f}" (${lowerF}) -> come√ßa com "${searchPattern}"? ${matches}`);
      return matches;
    });
    
    if (foundFile) {
      const fullPath = path.join(dxfFolderPath, foundFile);
      console.log('[DXF Search] ‚úÖ SUCESSO: Arquivo encontrado');
      console.log('[DXF Search] Nome:', foundFile);
      console.log('[DXF Search] Caminho completo:', fullPath);
      return { found: true, path: fullPath, name: foundFile };
    }
    
    console.log('[DXF Search] ‚ùå FALHA: Nenhum arquivo corresponde ao padr√£o');
    return { found: false, path: null, message: `Arquivo "${drawingCode}" n√£o encontrado em desenho_dxf` };
  } catch (e) {
    console.log('[DXF Search] ‚ùå ERRO DURANTE BUSCA:', e.message || e);
    console.error('[DXF Search] Stack:', e.stack);
    return { found: false, path: null, message: `Erro ao buscar: ${String(e && e.message || e)}` };
  }
});

/* --------------- lifecycle --------------- */
app.whenReady().then(createWindow);
app.on('window-all-closed', () => { if (process.platform !== 'darwin') app.quit(); });
app.on('activate', () => { if (BrowserWindow.getAllWindows().length === 0) createWindow(); });
</file>

<file path="README.md">
# Bartz Analyzer - Sistema de Monitoramento XML

Aplicativo Electron + Vite para monitoramento e verifica√ß√£o de arquivos XML (fluxo interno para valida√ß√µes, corre√ß√µes autom√°ticas e ajustes manuais).

O design original est√° dispon√≠vel em Figma: https://www.figma.com/design/cyPiS70Dbr7of4AXm6VSH8/Bartz-Analyzer---Sistema-de-Monitoramento-XML

## ‚ú® Principais Funcionalidades

- **Monitoramento em tempo real** de arquivos XML em pasta configurada
- **Valida√ß√£o autom√°tica** com detec√ß√£o de erros e avisos
- **Corre√ß√£o autom√°tica** de quantidade zero e pre√ßo zero
- **Detec√ß√£o de Duplado 37MM** - alertas para itens com ITEM_BASE="ES08"
- **Gerenciamento de Cor Coringa** (detec√ß√£o e substitui√ß√£o manual)
- **Preenchimento autom√°tico de REFERENCIA** por IDs espec√≠ficas
- **Di√°logos de confirma√ß√£o** para opera√ß√µes cr√≠ticas (evita erros por clique acidental)
- **Sistema de backup e hist√≥rico** para opera√ß√µes de substitui√ß√£o
- **Desfazer (Undo)** para reverter altera√ß√µes
- **Organiza√ß√£o autom√°tica** de arquivos em pastas OK/ERRO com limpeza de duplicatas

## Pr√©-requisitos

- Node.js (>=16) e npm
- Windows / macOS / Linux (o app foi desenvolvido com foco em Windows; caminhos UNC e explorer s√£o suportados)

## Instala√ß√£o e execu√ß√£o em desenvolvimento

No diret√≥rio do projeto:

```powershell
npm install
npm run dev
```

Isto inicia a build do frontend e a aplica√ß√£o Electron em modo de desenvolvimento. Em dev o app tenta carregar `http://localhost:5174/`.

## Build/Distribui√ß√£o

O projeto cont√©m as configura√ß√µes padr√£o para empacotamento com Electron + Vite ‚Äî confira os scripts em `package.json` para comandos de build/electron-builder (se houver). Se preferir, rode os scripts que tiverem sido adicionados pelo mantenedor, por exemplo:

```powershell
npm run build
npm run dist
```

(Aten√ß√£o: os nomes exatos dos scripts podem variar; verifique `package.json`.)

  ## Como usar ‚Äî fluxo b√°sico

1. Configure as pastas em *Caminhos de Rede* (Entrada, Pasta Final - OK, Pasta Final - Erro, Logs). Use o bot√£o de pasta para ajudar.
2. Clique em *Iniciar* para come√ßar a monitorar a pasta de entrada.
3. Quando o app detectar arquivos .xml, ele processa e exibe uma linha na tabela com status, erros, avisos e tags.

### Status do Arquivo

- **‚úÖ OK** - Arquivo sem erros, movido automaticamente para a pasta OK
- **‚ùå ERRO** - Arquivo com erros detectados, movido automaticamente para a pasta ERRO
- **‚ö†Ô∏è AVISO** - Arquivo processado com avisos (pode ser OK ou ERRO conforme o tipo de aviso)

### Tags e Filtros

O sistema categoriza arquivos com as seguintes tags para f√°cil filtro:

- **FERRAGENS** ‚Äî arquivo cont√©m apenas m√°quinas de ferragens (BUILDER="N")
- **MUXARABI** ‚Äî arquivo cont√©m refer√™ncia a MX008001 ou MX008002
- **COR CORINGA** ‚Äî arquivo cont√©m itens de cor coringa que precisam substitui√ß√£o
- **CURVO** ‚Äî arquivo cont√©m m√≥dulos curvos (LR00xx)
- **DUPLADO 37MM** ‚Äî arquivo cont√©m itens com ITEM_BASE="ES08"
- Auto-fixed ‚Äî arquivo teve corre√ß√µes autom√°ticas aplicadas

### Valida√ß√£o e Corre√ß√£o Autom√°tica

O sistema valida automaticamente:
- **REFERENCIA vazia** (REFERENCIA="") ‚Äî detectada como erro
- **QUANTIDADE = 0** ‚Äî corrigida automaticamente para 1
- **PRECO_TOTAL = 0** ‚Äî corrigida automaticamente para 0.10
- **M√°quina faltante** ‚Äî detectada conforme configura√ß√£o de tipo
- **C√≥digo de cor inv√°lido** ‚Äî detectado durante valida√ß√£o
- **Duplado 37MM** ‚Äî detectado quando ITEM_BASE="ES08" est√° presente no arquivo

### Detec√ß√£o de Duplado 37MM

- O validador procura automaticamente por itens com atributo `ITEM_BASE="ES08"`
- Quando encontrado, o arquivo recebe a tag `DUPLADO 37MM` e √© classificado como erro
- Um card de KPI exibe a quantidade de arquivos com esta condi√ß√£o
- √â poss√≠vel filtrar arquivos por esta categoria na tabela principal
- O drawer de detalhes mostra claramente quais itens cont√™m o duplado 37MM

**Como verificar:**
- Abra o drawer de um arquivo com esta tag
- Na se√ß√£o de "Erros", ver√° "ITEM DUPLADO 37MM"
- Os IDs dos itens afetados est√£o dispon√≠veis nos metadados do arquivo

### Cor Coringa (detec√ß√£o e ajuste manual)

- Quando o validador detectar tokens de "cor coringa" (ex.: `PAINEL_CG1_06`, etc.) o arquivo receber√° a tag `COR CORINGA` e o drawer de detalhes mostrar√° um painel "Cor Coringa detectada".
- O select nessa √°rea mostra somente as cores coringa que foram realmente encontradas no XML (a lista √© extra√≠da do pr√≥prio arquivo durante a valida√ß√£o).
- Para trocar:
  1. Selecione a cor coringa no select (apenas itens detectados aparecem).
  2. Informe o valor desejado em "Substituir por".
  3. Clique em "Trocar" ‚Äî um **di√°logo de confirma√ß√£o** aparecer√° mostrando a substitui√ß√£o que ser√° feita
  4. Confirme a opera√ß√£o ‚Äî o app faz um backup autom√°tico do arquivo, aplica a substitui√ß√£o no arquivo f√≠sico e reprocessa o arquivo.
  5. Depois da troca, clique em "Atualizar arquivo" se necess√°rio para for√ßar reprocessamento; o painel ser√° atualizado com os novos dados (o select deixar√° de listar as cores que j√° foram substitu√≠das).

### Preenchimento de REFERENCIA por IDs

Nova funcionalidade para preencher automaticamente REFERENCIA vazia em itens espec√≠ficos:

1. Abra o drawer de detalhes do arquivo
2. Navegue at√© a se√ß√£o "Preencher REFERENCIA"
3. Para cada ID que deseja preencher:
   - Selecione o ID no dropdown (apenas IDs vazios aparecem)
   - Informe o valor de REFERENCIA a atribuir (ex.: "REF001")
   - Clique em "Preencher REFERENCIA"
4. Um **di√°logo de confirma√ß√£o** aparecer√° mostrando:
   - O ID que ser√° preenchido
   - O valor que ser√° atribu√≠do
   - Aviso de que um backup ser√° criado
5. Confirme a opera√ß√£o
6. O sistema cria um backup autom√°tico, aplica as altera√ß√µes e reprocessa o arquivo

**Importante**: Ap√≥s preencher, o arquivo √© reprocessado automaticamente. Se estava na pasta ERRO, ser√° movido para OK se n√£o houver mais erros.

### Desfazer (Undo)

- Ap√≥s uma substitui√ß√£o bem-sucedida (Cor Coringa ou REFERENCIA) o app cria um backup em uma pasta de backups dentro do diret√≥rio de dados do usu√°rio do app (valor retornado por `app.getPath('userData')`).
- √â poss√≠vel desfazer a √∫ltima opera√ß√£o (por arquivo) clicando em "Desfazer √∫ltima troca" no drawer ‚Äî isso restaura o backup e reprocessa o arquivo.

### Di√°logos de Confirma√ß√£o

Para evitar erros por cliques acidentais, todas as opera√ß√µes cr√≠ticas requerem confirma√ß√£o:

- **Trocar Cor Coringa** ‚Äî mostra claramente qual cor ser√° substitu√≠da e por qual valor
- **Trocar CG1/CG2** ‚Äî lista as substitui√ß√µes em lote que ser√£o aplicadas
- **Preencher REFERENCIA** ‚Äî confirma o ID e o valor que ser√° preenchido

Cada di√°logo de confirma√ß√£o:
- Mostra os valores em **negrito e colorido** para f√°cil identifica√ß√£o
- Informa que um backup autom√°tico ser√° criado
- Oferece bot√µes "Cancelar" e "Confirmar"
- Impede execu√ß√£o acidental da opera√ß√£o

### Local dos backups e hist√≥rico

- **Backups**: `<userData>/backups/` ‚Äî ex.: `%APPDATA%\<appname>\backups\` no Windows.
- **Hist√≥rico**: `<userData>/replace-history.json` ‚Äî registra cada opera√ß√£o (timestamp, token trocado, backupPath, undo flag).

### Organiza√ß√£o Autom√°tica de Arquivos

O sistema organiza automaticamente os arquivos:
- Arquivos **v√°lidos** (sem erros) ‚Üí pasta **OK**
- Arquivos **inv√°lidos** (com erros) ‚Üí pasta **ERRO**
- **Arquivos duplicados s√£o automaticamente removidos** da pasta ERRO quando o arquivo √© movido para OK

## Dicas e solu√ß√£o de problemas

- Se o select ainda mostrar a cor antiga depois de trocar, use o bot√£o "Atualizar arquivo" no drawer ‚Äî isso for√ßa reprocessamento e atualiza√ß√£o dos dados exibidos.
- Se o arquivo tiver sido movido automaticamente para a pasta OK/Erro, o sistema de desfazer tenta casar o hist√≥rico por basename (nome do arquivo) como fallback.
- Logs de erro do processo de valida√ß√£o s√£o gravados nas pastas configuradas em *Logs - Errors* e *Logs - Processed* (se configuradas).
- **Importante**: Quando voc√™ faz altera√ß√µes (Cor Coringa ou Preencher REFERENCIA), sempre ser√° criado um backup autom√°tico do arquivo original. Use "Desfazer √∫ltima troca" para reverter.

## Contribui√ß√µes

Sinta-se √† vontade para abrir PRs. Mantenha as mudan√ßas pequenas e compat√≠veis com o estilo do projeto.

## Licen√ßa

MIT
</file>

<file path="package.json">
{
  "name": "bartz-analyzer",
  "version": "1.0.0",
  "private": true,
  "main": "cjs-main.js",
  "type": "commonjs",
  "scripts": {
    "dev": "concurrently -k \"npm:dev:renderer\" \"npm:dev:main\"",
    "dev:renderer": "vite --port 5174 --strictPort",
    "dev:main": "wait-on http://localhost:5174 && cross-env VITE_DEV=1 electron .",
    "build": "vite build",
    "start": "electron ."
  },
  "devDependencies": {
    "@types/node": "^20.12.12",
    "@types/react": "^18.3.24",
    "@types/react-dom": "^18.3.7",
    "@vitejs/plugin-react": "^5.0.2",
    "@vitejs/plugin-react-swc": "^3",
    "autoprefixer": "^10.4.21",
    "concurrently": "^9.2.1",
    "cross-env": "^10.0.0",
    "electron": "^37.3.1",
    "electron-builder": "^26.7.0",
    "postcss": "^8.5.6",
    "tailwindcss": "^3.4.17",
    "typescript": "^5.9.2",
    "vite": "^7.3.1",
    "wait-on": "^8.0.4"
  },
  "dependencies": {
    "@radix-ui/react-alert-dialog": "^1.1.15",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-dropdown-menu": "^2.1.16",
    "@radix-ui/react-hover-card": "^1.1.15",
    "@radix-ui/react-label": "^2.1.7",
    "@radix-ui/react-menubar": "^1.1.16",
    "@radix-ui/react-popover": "^1.1.15",
    "@radix-ui/react-progress": "^1.1.7",
    "@radix-ui/react-radio-group": "^1.3.8",
    "@radix-ui/react-scroll-area": "^1.2.10",
    "@radix-ui/react-select": "^2.2.6",
    "@radix-ui/react-separator": "^1.1.7",
    "@radix-ui/react-slider": "^1.3.6",
    "@radix-ui/react-slot": "^1.2.3",
    "@radix-ui/react-tabs": "^1.1.13",
    "@radix-ui/react-toggle": "^1.1.10",
    "@radix-ui/react-toggle-group": "^1.1.11",
    "@radix-ui/react-tooltip": "^1.2.8",
    "chokidar": "^4.0.3",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "electron-store": "^11.0.2",
    "fast-xml-parser": "^5.2.5",
    "fs-extra": "^11.3.1",
    "lucide-react": "^0.542.0",
    "react": "^18",
    "react-dom": "^18",
    "react-router-dom": "^6",
    "sonner": "^2.0.7",
    "tailwind-merge": "^3.3.1",
    "vaul": "^1.1.2"
  }
}
</file>

<file path="preload.js">
// preload.js  (CJS)
const { contextBridge, ipcRenderer } = require('electron');

contextBridge.exposeInMainWorld('electron', {
  analyzer: {
    start:    (cfg) => ipcRenderer.invoke('analyzer:start', cfg || {}),
    stop:     () => ipcRenderer.invoke('analyzer:stop'),
    scanOnce: () => ipcRenderer.invoke('analyzer:scanOnce'),
    onEvent:  (cb) => {
      ipcRenderer.removeAllListeners('analyzer:event');
      ipcRenderer.on('analyzer:event', (_e, msg) => cb && cb(msg));
    },
    openInFolder: (p) => ipcRenderer.invoke('analyzer:openInFolder', p),
    reprocessOne: (p) => ipcRenderer.invoke('analyzer:reprocessOne', p),
    replaceCoringa: (filePath, from, to) => ipcRenderer.invoke('analyzer:replaceCoringa', { filePath, from, to }),
    undoReplace: (filePath) => ipcRenderer.invoke('analyzer:undoReplace', { filePath }),
    replaceCgGroups: (filePath, map) => ipcRenderer.invoke('analyzer:replaceCgGroups', { filePath, map }),
    fillReferencia: (filePath, value) => ipcRenderer.invoke('analyzer:fillReferencia', { filePath, value }),
    fillReferenciaByIds: (filePath, replacements) => ipcRenderer.invoke('analyzer:fillReferenciaByIds', { filePath, replacements }),
    findDrawingFile: (drawingCode, xmlFilePath) => ipcRenderer.invoke('analyzer:findDrawingFile', { drawingCode, xmlFilePath }),
    fixFresa37to18: (dxfFilePath) => ipcRenderer.invoke('analyzer:fixFresa37to18', dxfFilePath),
    exportReport: (reportData) => ipcRenderer.invoke('analyzer:exportReport', reportData),
  },

  settings: {
    load:      () => ipcRenderer.invoke('settings:load'),
    save:      (data) => ipcRenderer.invoke('settings:save', data),
    testPaths: (data) => ipcRenderer.invoke('settings:testPaths', data),
    pickFolder:(initial) => ipcRenderer.invoke('settings:pickFolder', initial || ''),
  },
});
</file>

<file path="src/components/Dashboard.tsx">
// src/components/Dashboard.tsx
import React, { useEffect, useMemo, useRef, useState } from "react";
import { Button } from "./ui/button";
import { Input } from "./ui/input";
import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from "./ui/table";
import { Badge } from "./ui/badge";
import { Label } from "./ui/label";
import { StatusChip, type Status } from "./StatusChip";
import { ErrorBadge } from "./ErrorBadge";
import {
  CheckCircle, XCircle, Package, Grid3X3, Zap, Filter,
  Play, Pause, RefreshCw, Calendar, Save,
  AlertTriangle, Eye, FolderOpen, BarChart3, AlertCircle, Download,
} from "lucide-react";
import { Toaster, toast } from "sonner";
import FileDetailDrawer from "./FileDetailDrawer";

// tipos
type Row = {
  filename: string;
  fullpath: string;
  status?: Status;
  errors?: string[];
  autoFixes?: string[];
  warnings?: string[];
  tags?: string[];
  timestamp?: string;
  meta?: {
    ferragensOnly?: boolean;
    machines?: { id: string; name?: string }[];
    [k: string]: any;
  };
};

// ...
function toRow(p: any): Row | null {
  const full = typeof p?.arquivo === "string" ? p.arquivo.trim() : "";
  if (!full) return null;
  const filename = full.split(/[\\/]/).pop() || "desconhecido.xml";

  const erros: string[] = Array.isArray(p?.erros)
    ? p.erros.map((e: any) => e?.descricao ?? String(e))
    : [];

  const autoFixes: string[] = Array.isArray(p?.autoFixes)
    ? p.autoFixes.map((a: any) => String(a))
    : [];

  const warnings: string[] = Array.isArray(p?.warnings)
    ? p.warnings.map((w: any) => String(w))
    : [];

  let status: Status;
  if (p?.meta?.ferragensOnly) status = "FERRAGENS-ONLY";
  else status = erros.length === 0 ? "OK" : "ERRO";

  const tags: string[] = Array.isArray(p?.tags) ? p.tags : [];

  return {
    filename,
    fullpath: full,
    status,
    errors: erros,
    autoFixes,
    warnings,
    tags,
    timestamp: new Date().toLocaleString(),
    meta: p?.meta || {}, // <<< importante
  };
}
function formatTag(tag: string) {
  const t = (tag || "").trim().toLowerCase();
  if (t === "ferragens" || t === "ferragens-only") return "FERRAGENS";
  if (t === "muxarabi") return "MUXARABI";
  if (t === "coringa" || t === "cor coringa") return "COR CORINGA";
  if (t === "qtd-zero" || t === "qtd zero") return "QTD ZERO";
  if (t === "preco-zero" || t === "pre√ßo zero") return "PRE√áO ZERO";
  if (t === "curvo") return "CURVO";
  if (t === "duplado37mm" || t === "duplado 37mm") return "DUPLADO 37MM";
  return t.toUpperCase();
}
// helper para ‚ÄúCurvo‚Äù (fora do toRow!)
const hasCurvo = (r: Row) =>
  (r.tags || []).includes("curvo") ||
  (r.warnings || []).some(w => /curvo/i.test(String(w)));

export default function Dashboard() {
  // tabela / filtros
  const [rows, setRows] = useState<Row[]>([]);
  const [search, setSearch] = useState("");
  const [filter, setFilter] =
    useState<"all" | "ok" | "erro" | "ferragens" | "muxarabi" | "coringa" | "curvo" | "duplado37mm" | "autofix">("all");

  // controle do watcher
  const [monitoring, setMonitoring] = useState(false);
  const [watchRoot, setWatchRoot] = useState<string | null>(null);

  // caminhos (+ flag do Auto-fix)
  const [cfg, setCfg] = useState({
    entrada: "",
    working: "",
    ok: "",
    erro: "",
    logsErrors: "",
    logsProcessed: "",
    drawings: "",
    enableAutoFix: false,
  });
  const pickFolderOptions = ["entrada", "working", "ok", "erro", "logsErrors", "logsProcessed", "drawings"] as const;
  const [probe, setProbe] = useState<any>({});

  // resultado de teste (todos)
  const [testResults, setTestResults] = useState<Record<string, boolean | null>>({});

  // drawer de detalhes
  const [detailOpen, setDetailOpen] = useState(false);
  const [detailData, setDetailData] = useState<Row | null>(null);

  const mounted = useRef(true);
  const isConnected = !!(window as any).electron?.analyzer;

  function notifyFromPayload(p: any) {
    try {
      const base = (p?.arquivo || "").split(/[\\/]/).pop() || "arquivo";
      const isOK = !(p?.erros || []).length;
      if (isOK) toast.success(`${base} ‚úì OK`);
      else toast.warning(`${base} com inconformidades (${(p?.erros || []).length})`);
      if (p?.movedTo) toast.info(`Movido para: ${p.movedTo}`);
    } catch {}
  }

  // listeners + cfg
  useEffect(() => {
    mounted.current = true;

    (window as any).electron?.settings?.load?.()
      .then((sv: any) => sv && setCfg((c) => ({ ...c, ...sv })));

    (window as any).electron?.analyzer?.onEvent?.((msg: any) => {
      if (!mounted.current) return;
      const { evt, payload } = msg || {};

      if (evt === "started") {
        setMonitoring(true);
        setWatchRoot(payload?.watching ?? null);
        toast.success("Monitoramento iniciado");
        return;
      }
      if (evt === "stopped") {
        setMonitoring(false);
        setWatchRoot(null);
        toast.info("Monitoramento parado");
        return;
      }
      if (evt === "file-validated") {
        const row = toRow(payload);
        if (!row) return;

        setRows((prev: Row[]) => {
          const i = prev.findIndex((r) => r.fullpath === row.fullpath);
          if (i >= 0) {
            const copy = prev.slice();
            copy[i] = row;
            return copy;
          }
          // When file moves from ERRO to OK, remove the old ERRO entry
          // by checking if we have the same filename in ERRO folder
          const baseName = row.filename;
          const filtered = prev.filter((r) => {
            const sameFile = r.filename === baseName;
            const isInErroFolder = r.fullpath.toLowerCase().includes('\\erro\\') || r.fullpath.toLowerCase().includes('/erro/');
            // If this is OK status and we find same file in ERRO folder, remove it
            if (row.status === 'OK' && sameFile && isInErroFolder) {
              console.log(`[Dashboard] Removing old ERRO entry: ${r.fullpath}`);
              return false;
            }
            return true;
          });
          return [row, ...filtered];
        });

        // if the detail drawer currently shows this file, refresh its data so the UI (coringa select) updates
        setDetailData((prev) => (prev && prev.fullpath === row.fullpath ? row : prev));

        notifyFromPayload(payload);
        return;
      }
      if (evt === "error") {
        toast.error(payload?.message || "Erro no verificador");
      }
    });

    return () => { mounted.current = false; };
  }, []);

  // KPIs
  const resumo = useMemo(() => {
    const ok = rows.filter((r) => r.status === "OK").length;
    const erro = rows.filter((r) => r.status === "ERRO").length;
    const onlyFerr = rows.filter((r) => r.status === "FERRAGENS-ONLY").length;
    const mux = rows.filter((r) => (r.tags || []).includes("muxarabi")).length;
    const auto = rows.filter((r) => (r.autoFixes || []).length > 0).length;
    const cor = rows.filter((r) => (r.tags || []).includes("coringa")).length;
    const curvo = rows.filter(hasCurvo).length;
    const dup37 = rows.filter((r) => (r.tags || []).includes("duplado37mm")).length;
    return { ok, erro, onlyFerr, mux, auto, cor, curvo, dup37 };
  }, [rows]);

  const kpis = [
    { key: "all", title: "Todos", value: rows.length, icon: <Filter className="h-5 w-5" />, color: "#3498DB" },
    { key: "ok", title: "Corretos", value: resumo.ok, icon: <CheckCircle className="h-5 w-5" />, color: "#27AE60" },
    { key: "erro", title: "Inconformidades", value: resumo.erro, icon: <XCircle className="h-5 w-5" />, color: "#E74C3C" },
    { key: "ferragens", title: "Ferragens-only", value: resumo.onlyFerr, icon: <Package className="h-5 w-5" />, color: "#F39C12" },
    { key: "muxarabi", title: "Muxarabi", value: resumo.mux, icon: <Grid3X3 className="h-5 w-5" />, color: "#9B59B6" },
    { key: "coringa", title: "Cor Coringa", value: resumo.cor, icon: <Grid3X3 className="h-5 w-5" />, color: "#E67E22" },
    { key: "duplado37mm", title: "Duplado 37MM", value: resumo.dup37, icon: <AlertTriangle className="h-5 w-5" />, color: "#C0392B" },
    { key: "autofix", title: "Auto-fixed", value: resumo.auto, icon: <Zap className="h-5 w-5" />, color: "#1ABC9C" },
    { key: "curvo", title: "Curvo", value: resumo.curvo, icon: <Grid3X3 className="h-5 w-5" />, color: "#ee5700ff" },
  ] as const;

  const filtered = rows
    .filter((r) => r.filename.toLowerCase().includes(search.toLowerCase()))
    .filter((r) => {
      if (filter === "all") return true;
      if (filter === "ok") return r.status === "OK";
      if (filter === "erro") return r.status === "ERRO";
      if (filter === "ferragens") return r.status === "FERRAGENS-ONLY" || (r.tags || []).includes("ferragens");
      if (filter === "muxarabi") return (r.tags || []).includes("muxarabi");
      if (filter === "coringa") return (r.tags || []).includes("coringa");
      if (filter === "duplado37mm") return (r.tags || []).includes("duplado37mm");
      if (filter === "autofix") return (r.autoFixes || []).length > 0;
      if (filter === "curvo") return hasCurvo(r);
      return true;
    });

  // ===== helpers/a√ß√µes =====
  function setPaths(patch: Partial<typeof cfg>) { setCfg(prev => ({ ...prev, ...patch })); }

  // abrir seletor de pasta e preencher o campo
  async function pickFolder(
    key: "entrada" | "working" | "ok" | "erro" | "logsErrors" | "logsProcessed" | "drawings"
  ) {
    try {
      const current = (cfg as any)[key] || "";
      const chosen = await (window as any).electron?.settings?.pickFolder?.(current);
      if (chosen) setPaths({ [key]: chosen } as any);
    } catch {}
  }

  // testar acesso de TODOS os paths
  async function testAllAccess() {
    try {
      setTestResults({ entrada: null, working: null, ok: null, erro: null, logsErrors: null, logsProcessed: null, drawings: null });

      const res = await (window as any).electron?.settings?.testPaths?.(cfg);
      setProbe(res || {});
      setTestResults({
        entrada: !!res?.entrada?.write,
        working: !!res?.working?.write,
        ok: !!res?.ok?.write,
        erro: !!res?.erro?.write,
        logsErrors: !!res?.logsErrors?.write,
        logsProcessed: !!res?.logsProcessed?.write,
        drawings: !!res?.drawings?.write,
      });
    } catch {
      setTestResults({ entrada: false, working: false, ok: false, erro: false, logsErrors: false, logsProcessed: false, drawings: false });
    }
  }

  async function savePaths() { await (window as any).electron?.settings?.save?.(cfg); await testAllAccess(); }
  async function start() {
    const ok = await (window as any).electron?.analyzer?.start?.(cfg);
    if (!ok) toast.error("Confira os caminhos e permiss√µes.");
  }
  async function stop() { await (window as any).electron?.analyzer?.stop?.(); }
  async function scan() { await (window as any).electron?.analyzer?.scanOnce?.(); }

  async function clearReport() {
    const confirmed = await new Promise<boolean>((resolve) => {
      const id = toast.custom((t) => (
        <div className="bg-amber-900/90 border border-amber-700 rounded-lg p-4 text-white">
          <div className="font-semibold mb-3">Tem certeza que deseja limpar o Relat√≥rio de Atividade?</div>
          <div className="flex gap-2">
            <button
              onClick={() => {
                toast.dismiss(t);
                resolve(true);
              }}
              className="px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm font-medium"
            >
              Sim, limpar
            </button>
            <button
              onClick={() => {
                toast.dismiss(t);
                resolve(false);
              }}
              className="px-3 py-1 bg-gray-600 hover:bg-gray-700 rounded text-sm font-medium"
            >
              Cancelar
            </button>
          </div>
        </div>
      ), { duration: Infinity });
    });

    if (confirmed) {
      setRows([]);
      setSearch("");
      setFilter("all");
      setDetailOpen(false);
      setDetailData(null);
      toast.success("Relat√≥rio de Atividade limpo com sucesso!");
    }
  }

  async function exportReport() {
    const toastId = toast.loading("Exportando relat√≥rio...");
    try {
      const okFiles = rows.filter(r => r.status === "OK").length;
      const errorFiles = rows.filter(r => r.status === "ERRO").length;
      
      const reportData = {
        rows,
        totalFiles: rows.length,
        okFiles,
        errorFiles
      };
      
      const result = await (window as any).electron?.analyzer?.exportReport?.(reportData);
      
      if (result?.ok) {
        toast.dismiss(toastId);
        toast.success(`Relat√≥rio exportado com sucesso!\n${result.filesCount} arquivo(s) processado(s)`, {
          duration: 5000,
          description: `Arquivo: Relatorio_${new Date().toLocaleDateString('pt-BR').replace(/\//g, '-')}`
        });
      } else {
        toast.dismiss(toastId);
        toast.error(result?.message || "Erro ao exportar relat√≥rio");
      }
    } catch (e: any) {
      toast.dismiss(toastId);
      toast.error(`Erro ao exportar: ${String(e?.message || e)}`);
    }
  }

  async function handleOpenFolder(fullPath: string) {
    try {
      const ok = await (window as any).electron?.analyzer?.openInFolder?.(fullPath);
      if (ok) toast.info("Abrindo pasta do arquivo‚Ä¶");
      else toast.warning("N√£o consegui abrir a pasta desse arquivo.");
    } catch (e: any) {
      toast.error(`Falha ao abrir pasta: ${String(e?.message || e)}`);
    }
  }

  async function reprocessOne(fullPath: string) {
    const id = toast.loading("Processando arquivo‚Ä¶");
    try {
      const ok = await (window as any).electron?.analyzer?.reprocessOne?.(fullPath);
      if (ok) toast.success("Arquivo processado ‚Äî reavaliado e movido se necess√°rio.");
      else toast.warning("Tentei reprocessar, mas n√£o houve altera√ß√£o.");
    } catch (e: any) {
      toast.error(`Erro ao reprocessar: ${String(e?.message || e)}`);
    } finally {
      toast.dismiss(id);
    }
  }

  function handleFileDetail(file: Row) {
    setDetailData(file);
    setDetailOpen(true);
  }

  // m√©tricas p/ card lateral
  const totalFiles     = rows.length;
  const okFiles        = rows.filter(r => r.status === "OK").length;
  const errorFiles     = rows.filter(r => r.status === "ERRO").length;
  const ferragensFiles = rows.filter(r => r.status === "FERRAGENS-ONLY" || (r.tags||[]).includes("ferragens")).length;
  const autoFixedFiles = rows.filter(r => (r.autoFixes||[]).length > 0).length;
  const lastActivity   = rows[0]?.timestamp ?? "--:--";

  // ---- UI ----
  return (
    <div className="min-h-screen bg-[#111] text-white">
      {/* Header */}
      <div className="border-b border-[#2C2C2C] bg-[#1B1B1B] px-6 py-4 flex items-center justify-between">
        <div className="flex items-center gap-3">
          <div className="h-8 w-8 bg-[#F1C40F] rounded flex items-center justify-center text-black font-bold">B</div>
          <div>
            <div className="text-lg font-semibold">Bartz Verificador XML</div>
            {watchRoot && <div className="text-xs opacity-70">Monitorando: {watchRoot}</div>}
          </div>
        </div>
        <div className="flex items-center gap-2">
          {!monitoring ? (
            <Button onClick={start} className="gap-2 bg-[#27AE60] hover:bg-[#27AE60]/90"><Play className="h-4 w-4" /> Iniciar</Button>
          ) : (
            <Button onClick={stop} className="gap-2 bg-[#E74C3C] hover:bg-[#E74C3C]/90"><Pause className="h-4 w-4" /> Parar</Button>
          )}
          <Button variant="outline" onClick={scan} className="gap-2 border-[#2C2C2C] hover:bg-[#2C2C2C]"><RefreshCw className="h-4 w-4" /> Reanalisar tudo</Button>
          <Button variant="outline" onClick={exportReport} className="gap-2 border-blue-700 hover:bg-blue-900/20 text-blue-400"><Download className="h-4 w-4" /> Exportar</Button>
          <Button variant="outline" onClick={clearReport} className="gap-2 border-amber-700 hover:bg-amber-900/20 text-amber-400"><AlertCircle className="h-4 w-4" /> Limpar</Button>
        </div>
      </div>

      {/* Caminhos + Relat√≥rio (2 colunas) */}
      <div className="px-6 mt-4">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
          {/* Coluna 1 - Caminhos de Rede */}
          <div className="space-y-4">
            <h3 className="text-sm font-medium text-[#A7A7A7] mb-1">Caminhos de Rede</h3>

            <div className="grid grid-cols-2 gap-4">
              {/* ENTRADA */}
              <div className="col-span-2 space-y-2">
                <Label htmlFor="entrada" className="text-white text-sm">Pasta de Entrada</Label>
                <div className="flex gap-2">
                  <Input
                    id="entrada"
                    value={cfg.entrada}
                    onChange={(e)=>setPaths({ entrada: e.target.value })}
                    className="bg-[#111111] border-[#2C2C2C] text-white text-sm flex-1"
                    placeholder="\\\\servidor\\share\\pasta"
                  />
                  <Button
                    variant="outline" size="sm" title="Escolher pasta"
                    onClick={()=>pickFolder("entrada")}
                    className="border-[#2C2C2C] hover:bg-[#2C2C2C] shrink-0"
                  >
                    <FolderOpen className="h-4 w-4" />
                  </Button>
                </div>
                {testResults["entrada"]===true && (
                  <p className="text-[#27AE60] text-xs">acesso confirmado</p>
                )}
                {testResults["entrada"]===false && (
                  <p className="text-[#E74C3C] text-xs">erro / sem acesso</p>
                )}
              </div>

              {/* WORKING */}
              <div className="col-span-2 space-y-2">
                <Label htmlFor="working" className="text-white text-sm">Pasta de Trabalho (Working)</Label>
                <div className="flex gap-2">
                  <Input
                    id="working"
                    value={cfg.working}
                    onChange={(e)=>setPaths({ working: e.target.value })}
                    className="bg-[#111111] border-[#2C2C2C] text-white text-sm flex-1"
                    placeholder="\\\\servidor\\share\\pasta"
                  />
                  <Button
                    variant="outline" size="sm" title="Escolher pasta"
                    onClick={()=>pickFolder("working")}
                    className="border-[#2C2C2C] hover:bg-[#2C2C2C] shrink-0"
                  >
                    <FolderOpen className="h-4 w-4" />
                  </Button>
                </div>
                {testResults["working"]===true && (
                  <p className="text-[#27AE60] text-xs">acesso confirmado</p>
                )}
                {testResults["working"]===false && (
                  <p className="text-[#E74C3C] text-xs">erro / sem acesso</p>
                )}
              </div>

              {/* OK */}
              <div className="space-y-2">
                <Label htmlFor="ok" className="text-white text-sm">Pasta Final - OK</Label>
                <div className="flex gap-2">
                  <Input
                    id="ok"
                    value={cfg.ok}
                    onChange={(e)=>setPaths({ ok: e.target.value })}
                    className="bg-[#111111] border-[#2C2C2C] text-white text-sm flex-1"
                    placeholder="\\\\servidor\\share\\pasta"
                  />
                  <Button variant="outline" size="sm" title="Escolher pasta"
                    onClick={()=>pickFolder("ok")}
                    className="border-[#2C2C2C] hover:bg-[#2C2C2C] shrink-0"
                  >
                    <FolderOpen className="h-4 w-4" />
                  </Button>
                </div>
              </div>

              {/* ERRO */}
              <div className="space-y-2">
                <Label htmlFor="erro" className="text-white text-sm">Pasta Final - Erro</Label>
                <div className="flex gap-2">
                  <Input
                    id="erro"
                    value={cfg.erro}
                    onChange={(e)=>setPaths({ erro: e.target.value })}
                    className="bg-[#111111] border-[#2C2C2C] text-white text-sm flex-1"
                    placeholder="\\\\servidor\\share\\pasta"
                  />
                  <Button variant="outline" size="sm" title="Escolher pasta"
                    onClick={()=>pickFolder("erro")}
                    className="border-[#2C2C2C] hover:bg-[#2C2C2C] shrink-0"
                  >
                    <FolderOpen className="h-4 w-4" />
                  </Button>
                </div>
              </div>

              {/* DRAWINGS */}
              <div className="space-y-2">
                <Label htmlFor="drawings" className="text-white text-sm">Pasta de Desenhos</Label>
                <div className="flex gap-2">
                  <Input
                    id="drawings"
                    value={cfg.drawings}
                    onChange={(e)=>setPaths({ drawings: e.target.value })}
                    className="bg-[#111111] border-[#2C2C2C] text-white text-sm flex-1"
                    placeholder="\\\\servidor\\share\\pasta"
                  />
                  <Button variant="outline" size="sm" title="Escolher pasta"
                    onClick={()=>pickFolder("drawings")}
                    className="border-[#2C2C2C] hover:bg-[#2C2C2C] shrink-0"
                  >
                    <FolderOpen className="h-4 w-4" />
                  </Button>
                </div>
              </div>

              {/* LOGS ERRORS */}
              <div className="space-y-2">
                <Label htmlFor="logsErrors" className="text-white text-sm">Logs - Errors</Label>
                <div className="flex gap-2">
                  <Input
                    id="logsErrors"
                    value={cfg.logsErrors}
                    onChange={(e)=>setPaths({ logsErrors: e.target.value })}
                    className="bg-[#111111] border-[#2C2C2C] text-white text-sm flex-1"
                    placeholder="\\\\servidor\\share\\pasta"
                  />
                  <Button variant="outline" size="sm" title="Escolher pasta"
                    onClick={()=>pickFolder("logsErrors")}
                    className="border-[#2C2C2C] hover:bg-[#2C2C2C] shrink-0"
                  >
                    <FolderOpen className="h-4 w-4" />
                  </Button>
                </div>
              </div>

              {/* LOGS PROCESSED */}
              <div className="space-y-2">
                <Label htmlFor="logsProcessed" className="text-white text-sm">Logs - Processed</Label>
                <div className="flex gap-2">
                  <Input
                    id="logsProcessed"
                    value={cfg.logsProcessed}
                    onChange={(e)=>setPaths({ logsProcessed: e.target.value })}
                    className="bg-[#111111] border-[#2C2C2C] text-white text-sm flex-1"
                    placeholder="\\\\servidor\\share\\pasta"
                  />
                  <Button variant="outline" size="sm" title="Escolher pasta"
                    onClick={()=>pickFolder("logsProcessed")}
                    className="border-[#2C2C2C] hover:bg-[#2C2C2C] shrink-0"
                  >
                    <FolderOpen className="h-4 w-4" />
                  </Button>
                </div>
              </div>
            </div>

            <div className="flex flex-wrap gap-2">
              <Button variant="outline" onClick={testAllAccess} className="gap-2 border-[#2C2C2C]">
                Testar acesso (todos)
              </Button>
              <Button variant="outline" onClick={savePaths} className="gap-2 border-[#2C2C2C]">
                <Save className="h-4 w-4" /> Salvar como padr√£o
              </Button>
              {!monitoring ? (
                <Button onClick={start} className="gap-2 bg-[#27AE60] hover:bg-[#27AE60]/90">
                  <Play className="h-4 w-4" /> Iniciar com esses paths
                </Button>
              ) : (
                <Button onClick={stop} className="gap-2 bg-[#E74C3C] hover:bg-[#E74C3C]/90">
                  <Pause className="h-4 w-4" /> Parar
                </Button>
              )}
            </div>

            {/* Toggle Auto-fix */}
            <div className="flex items-center gap-3 mt-2">
              <label className="text-sm text-[#A7A7A7] flex items-center gap-2 cursor-pointer select-none">
                <input
                  type="checkbox"
                  checked={!!(cfg as any).enableAutoFix}
                  onChange={(e) => setCfg(prev => ({ ...prev, enableAutoFix: e.target.checked }))}
                />
                <span className="text-white">
                  Auto-fix (trocar pre√ßo 0‚Üí0.10 ‚Ä¢ quantidade 0‚Üí1)
                </span>
              </label>
            </div>
          </div>

          {/* Coluna 2 - Relat√≥rio de Atividade */}
          <div className="space-y-4">
            <h3 className="text-sm font-medium text-[#A7A7A7] mb-1">Relat√≥rio de Atividade</h3>

            <div className="bg-[#111111] rounded-lg border border-[#2C2C2C] p-4 space-y-4">
              <div className="flex items-center gap-2 mb-2">
                <BarChart3 className="h-4 w-4 text-[#F1C40F]" />
                <span className="text-sm font-medium text-white">Arquivos Processados Hoje</span>
              </div>

              <div className="grid grid-cols-2 gap-4">
                <div className="text-center">
                  <div className="text-2xl font-medium text-[#27AE60]">{okFiles}</div>
                  <div className="text-xs text-[#A7A7A7]">Corretos</div>
                </div>
                <div className="text-center">
                  <div className="text-2xl font-medium text-[#E74C3C]">{errorFiles}</div>
                  <div className="text-xs text-[#A7A7A7]">Com Erro</div>
                </div>
                <div className="text-center">
                  <div className="text-2xl font-medium text-[#F39C12]">{ferragensFiles}</div>
                  <div className="text-xs text-[#A7A7A7]">Ferragens</div>
                </div>
                <div className="text-center">
                  <div className="text-2xl font-medium text-[#3498DB]">{autoFixedFiles}</div>
                  <div className="text-xs text-[#A7A7A7]">Auto-fix</div>
                </div>
              </div>

              <hr className="border-[#2C2C2C]" />

              <div className="space-y-2">
                <div className="flex justify-between items-center">
                  <span className="text-xs text-[#A7A7A7]">Total processado</span>
                  <span className="text-sm font-medium text-white">{totalFiles} arquivos</span>
                </div>
                <div className="flex justify-between items-center">
                  <span className="text-xs text-[#A7A7A7]">Taxa de sucesso</span>
                  <span className="text-sm font-medium text-[#27AE60]">
                    {totalFiles>0 ? Math.round(((okFiles+ferragensFiles)/totalFiles)*100) : 0}%
                  </span>
                </div>
                <div className="flex justify-between items-center">
                  <span className="text-xs text-[#A7A7A7]">√öltima atividade</span>
                  <span className="text-sm font-medium text-white">{lastActivity}</span>
                </div>
              </div>
            </div>

            <div className="bg-[#111111] rounded-lg border border-[#2C2C2C] p-4">
              <div className="flex items-center gap-2 mb-2">
                <AlertCircle className="h-4 w-4 text-[#F39C12]" />
                <span className="text-sm font-medium text-white">Status do Sistema</span>
              </div>
              <div className="space-y-2">
                <div className="flex justify-between items-center">
                  <span className="text-xs text-[#A7A7A7]">Monitoramento</span>
                  <div className="flex items-center gap-1">
                    <div className={`w-2 h-2 rounded-full ${monitoring ? "bg-[#27AE60]" : "bg-[#E74C3C]"}`} />
                    <span className="text-sm font-medium text-white">{monitoring ? "Ativo" : "Parado"}</span>
                  </div>
                </div>
                <div className="flex justify-between items-center">
                  <span className="text-xs text-[#A7A7A7]">Conex√£o</span>
                  <div className="flex items-center gap-1">
                    <div className={`w-2 h-2 rounded-full ${isConnected ? "bg-[#27AE60]" : "bg-[#F39C12]"}`} />
                    <span className="text-sm font-medium text-white">{isConnected ? "Electron" : "Dev Mode"}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* KPIs + Tabela */}
      <div className="p-6 space-y-6">
        <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-7 gap-4">
          {kpis.map((k: any) => (
            <button
              key={k.key}
              onClick={() => setFilter(k.key)}
              className={`text-left bg-[#1B1B1B] border rounded-xl p-4 transition ${filter === k.key ? "border-[#F1C40F] shadow-[0_0_0_2px_rgba(241,196,15,0.2)]" : "border-[#2C2C2C]"}`}
            >
              <div className="flex items-center justify-between">
                <div className="opacity-80 text-sm">{k.title}</div>
                <div style={{ color: k.color }}>{k.icon}</div>
              </div>
              <div className="text-2xl font-semibold mt-1">{k.value}</div>
            </button>
          ))}
        </div>

        <div className="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
          <div className="flex items-center gap-3">
            <Input
              placeholder="Buscar arquivo..."
              value={search}
              onChange={(e) => setSearch(e.target.value)}
              className="pl-3 w-80 bg-[#1B1B1B] border-[#2C2C2C]"
            />
            <div className="flex items-center gap-2 text-[#A7A7A7]">
              <Calendar className="h-4 w-4" /> <span className="text-sm">√öltimas 24h</span>
            </div>
          </div>
          <div className="text-sm text-[#A7A7A7]">Mostrando {filtered.length} de {rows.length} arquivos</div>
        </div>

        <div className="bg-[#1B1B1B] border border-[#2C2C2C] rounded-lg overflow-hidden">
          <Table>
            <TableHeader>
              <TableRow className="border-[#2C2C2C] hover:bg-[#2C2C2C]/50">
                <TableHead className="text-[#A7A7A7]">Arquivo</TableHead>
                <TableHead className="text-[#A7A7A7]">Status</TableHead>
                <TableHead className="text-[#A7A7A7]">Erros</TableHead>
                <TableHead className="text-[#A7A7A7] text-center">Auto-fix</TableHead>
                <TableHead className="text-[#A7A7A7]">Avisos</TableHead>
                <TableHead className="text-[#A7A7A7]">Tags</TableHead>
                <TableHead className="text-[#A7A7A7] whitespace-nowrap">Data/Hora</TableHead>
                <TableHead className="text-[#A7A7A7] text-center">A√ß√µes</TableHead>
              </TableRow>
            </TableHeader>

            <TableBody>
              {filtered.map((file) => {
                const autoFixed = (file.autoFixes || []).length > 0;
                return (
                  <TableRow key={file.fullpath} className="border-[#2C2C2C] hover:bg-[#2C2C2C]/30">
                    <TableCell className="font-mono text-sm max-w-60 truncate">
                      {file.filename}
                    </TableCell>

                    <TableCell>
                      <StatusChip status={file.status} />
                    </TableCell>

                    <TableCell>
                      <div className="flex flex-wrap gap-1 max-w-60">
                        {(file.errors || []).map((e, i) => <ErrorBadge key={i} error={e} />)}
                      </div>
                    </TableCell>

                    <TableCell className="text-center">
                      {autoFixed ? "‚úì" : "‚Äî"}
                    </TableCell>

                    <TableCell>
                      <div className="flex flex-wrap gap-1">
                        {(file.warnings || []).map((w, i) => (
                          <Badge
                            key={i}
                            variant="outline"
                            className="text-[#F39C12] border-[#F39C12]/20 bg-[#F39C12]/10 text-[10px]"
                          >
                            {typeof w === "string" ? w.toUpperCase() : "AVISO"}
                          </Badge>
                        ))}
                      </div>
                    </TableCell>

                    <TableCell>
                      <div className="flex flex-wrap gap-1 max-w-32">
                        {(file.tags || []).map((t, i) => (
                          <Badge
                            key={i}
                            variant="outline"
                            className="text-[#3498DB] border-[#3498DB]/20 bg-[#3498DB]/10 text-[10px]"
                          >
                            {formatTag(t)}
                          </Badge>
                        ))}
                      </div>
                    </TableCell>

                    <TableCell className="text-[#A7A7A7] text-sm whitespace-nowrap">
                      {file.timestamp || "-"}
                    </TableCell>

                    <TableCell className="text-center">
                      <div className="inline-flex gap-1">
                        <button
                          title="Ver detalhes"
                          onClick={() => handleFileDetail(file)}
                          className="h-8 w-8 p-0 inline-flex items-center justify-center rounded hover:bg-white/5"
                        >
                          <Eye className="h-4 w-4" />
                        </button>
                        <button
                          title="Abrir na pasta"
                          onClick={() => handleOpenFolder(file.fullpath)}
                          className="h-8 w-8 p-0 inline-flex items-center justify-center rounded hover:bg-white/5"
                        >
                          <FolderOpen className="h-4 w-4" />
                        </button>
                        <button
                          title="Reprocessar"
                          onClick={() => reprocessOne(file.fullpath)}
                          className="h-8 w-8 p-0 inline-flex items-center justify-center rounded hover:bg-white/5"
                        >
                          <RefreshCw className="h-4 w-4" />
                        </button>
                      </div>
                    </TableCell>
                  </TableRow>
                );
              })}
            </TableBody>
          </Table>
        </div>
      </div>

      {/* Drawer de detalhes */}
      <FileDetailDrawer
        open={detailOpen}
        onOpenChange={setDetailOpen}
        data={detailData}
      />

      {/* toasts */}
      <Toaster richColors position="bottom-left" closeButton />
    </div>
  );
}
</file>

<file path="cjs-main.js">
// main.js (CJS)
const { app, BrowserWindow, ipcMain, dialog, shell } = require("electron");
const path = require("path");
const { exec } = require("child_process");
const fs = require("fs");
const fsp = fs.promises;
const chokidar = require("chokidar");
const fse = require("fs-extra");

let win = null;
let watcher = null;
let currentCfg = null;

const CFG_FILE = path.join(app.getPath("userData"), "settings.json");

function isUNC(p) { return typeof p === "string" && p.startsWith("\\\\"); }
function normalizeWin(p) { if (!p) return ""; return isUNC(p) ? p.replace(/\//g, "\\") : path.normalize(p); }

async function loadCfg() { try { return JSON.parse(await fsp.readFile(CFG_FILE, "utf8")); } catch { return {}; } }
async function saveCfg(obj) { await fse.ensureFile(CFG_FILE); await fsp.writeFile(CFG_FILE, JSON.stringify(obj || {}, null, 2), "utf8"); }

async function checkWrite(dir) {
  try {
    if (!dir) return { exist: false, write: false, error: "vazio" };
    const p = normalizeWin(dir);
    await fse.ensureDir(p);
    const probe = path.join(p, `.probe_${Date.now()}.tmp`);
    await fsp.writeFile(probe, "ok");
    await fsp.unlink(probe);
    return { exist: true, write: true };
  } catch (e) {
    const exist = await fse.pathExists(dir).catch(() => false);
    return { exist, write: false, error: String((e && e.message) || e) };
  }
}

async function testPathsAll(cfg) {
  const keys = ["entrada", "working", "ok", "erro", "logsErrors", "logsProcessed", "drawings"];
  const out = {};
  for (const k of keys) out[k] = await checkWrite(cfg[k]);
  return out;
}

function send(evt, payload) {
  try { win && win.webContents.send("analyzer:event", { evt, payload }); } catch {}
}

function createWindow() {
  win = new BrowserWindow({
    width: 1280,
    height: 800,
    webPreferences: {
      preload: path.join(__dirname, "preload.js"),
      nodeIntegration: false,
      contextIsolation: true,
    },
  });

  if (process.env.VITE_DEV) {
    win.loadURL("http://localhost:5174/");
    win.webContents.openDevTools({ mode: "detach" });
  } else {
    win.loadFile(path.join(__dirname, "dist/index.html"));
  }
}

// --- VALIDATION lendo conte√∫do do XML e usando cfg.enableAutoFix ---
async function validateXml(fileFullPath, cfg = {}) {
  const raw = await fsp.readFile(fileFullPath, "utf8");
  let txt = raw;

  const payload = {
    arquivo: path.resolve(fileFullPath),
    erros: [],
    warnings: [],
    tags: [],
    autoFixes: [],
    meta: {},
  };

  // ===== BUILDER flags =====
  const hasBldrS = /\bBUILDER\s*=\s*"S"/i.test(txt);
  const hasBldrN = /\bBUILDER\s*=\s*"N"/i.test(txt);
  const isFerragensOnly = hasBldrN && !hasBldrS;
  if (isFerragensOnly) {
    payload.tags.push("ferragens");
    payload.meta.ferragensOnly = true; // usado no renderer p/ status
  }

  // ===== Regras fixas =====
  // ITEM SEM C√ìDIGO: REFERENCIA="" E ITEM_BASE="" (ambas vazias)
  let hasMissingCode = false;
  // Procurar por tags ITEM, considerando que podem estar em m√∫ltiplas linhas
  const itemMatches = Array.from(txt.matchAll(/<ITEM\b[\s\S]*?>/gi));
  for (const m of itemMatches) {
    const itemTag = m[0];
    const hasEmptyRef = /\bREFERENCIA\s*=\s*""/i.test(itemTag);
    const hasEmptyBase = /\bITEM_BASE\s*=\s*""/i.test(itemTag);
    const hasNoRef = !/\bREFERENCIA\s*=\s*"/i.test(itemTag);
    const hasNoBase = !/\bITEM_BASE\s*=\s*"/i.test(itemTag);
    
    // Apenas marca erro se:
    // 1. REFERENCIA="" E ITEM_BASE="" (ambas explicitamente vazias)
    // 2. Ou REFERENCIA est√° vazia E ITEM_BASE n√£o existe
    // 3. Ou REFERENCIA n√£o existe E ITEM_BASE est√° vazio
    const refIsMissing = hasEmptyRef || hasNoRef;
    const baseIsMissing = hasEmptyBase || hasNoBase;
    
    if (refIsMissing && baseIsMissing) {
      hasMissingCode = true;
      break;
    }
  }
  if (hasMissingCode) payload.erros.push({ descricao: "ITEM SEM C√ìDIGO" });
  
  if (/\bQUANTIDADE\s*=\s*"0(?:\.0+)?"/i.test(txt)) payload.erros.push({ descricao: "ITEM SEM QUANTIDADE" });
  if (/\bPRECO_TOTAL\s*=\s*"0(?:\.0+)?"/i.test(txt)) payload.erros.push({ descricao: "ITEM SEM PRE√áO" });

  // coletar ocorr√™ncias de REFERENCIA="" E ITEM_BASE="" (ambas vazias/ausentes) para permitir preenchimento manual
  try {
    const refEmptyMatches = [];
    const itemMatches = Array.from(txt.matchAll(/<ITEM\b[\s\S]*?>/gi));
    for (const m of itemMatches) {
      const itemTag = m[0];
      const hasEmptyRef = /\bREFERENCIA\s*=\s*""/i.test(itemTag);
      const hasEmptyBase = /\bITEM_BASE\s*=\s*""/i.test(itemTag);
      const hasNoRef = !/\bREFERENCIA\s*=\s*"/i.test(itemTag);
      const hasNoBase = !/\bITEM_BASE\s*=\s*"/i.test(itemTag);
      
      // Coleta apenas se ambas forem vazias ou ausentes
      const refIsMissing = hasEmptyRef || hasNoRef;
      const baseIsMissing = hasEmptyBase || hasNoBase;
      
      if (refIsMissing && baseIsMissing) {
        const snippet = ((itemTag || '').trim()).slice(0, 400);
        const idMatch = snippet.match(/\bID\s*=\s*"([^"]+)"/i);
        const id = idMatch ? idMatch[1] : null;
        refEmptyMatches.push({ id, snippet });
      }
    }
    if (refEmptyMatches.length) {
      payload.meta = payload.meta || {};
      // dedupe by id or snippet
      const map = new Map();
      for (const r of refEmptyMatches) {
        const key = r.id ? `id:${r.id}` : `sn:${r.snippet}`;
        if (!map.has(key)) map.set(key, r);
      }
      payload.meta.referenciaEmpty = Array.from(map.values());
    }
  } catch (e) { /* ignore */ }

  // ===== ITEM_BASE="ES08" (DUPLADO 37MM) =====
  try {
    const es08Matches = [];
    for (const m of txt.matchAll(/<ITEM\b[^>]*\bITEM_BASE\s*=\s*"ES08"[^>]*>/gi)) {
      const snippet = ((m[0] || '').trim()).slice(0, 400);
      const idMatch = snippet.match(/\bID\s*=\s*"([^"]+)"/i);
      const id = idMatch ? idMatch[1] : null;
      const refMatch = snippet.match(/\bREFERENCIA\s*=\s*"([^"]*)"/i);
      const referencia = refMatch ? refMatch[1] : null;
      const desenhoMatch = snippet.match(/\bDESENHO\s*=\s*"([^"]*)"/i);
      const desenho = desenhoMatch ? desenhoMatch[1] : null;
      es08Matches.push({ id, referencia, desenho, snippet });
    }
    if (es08Matches.length) {
      payload.erros.push({ descricao: "ITEM DUPLADO 37MM" });
      payload.tags.push("duplado37mm");
      payload.meta = payload.meta || {};
      // dedupe by id or snippet
      const map = new Map();
      for (const r of es08Matches) {
        const key = r.id ? `id:${r.id}` : `sn:${r.snippet}`;
        if (!map.has(key)) map.set(key, r);
      }
      payload.meta.es08Matches = Array.from(map.values());
    }
  } catch (e) { /* ignore */ }

  // Cor coringa
  const COR_CORINGA_LIST = [
    "PAINEL_CG1_06","PAINEL_CG1_18","PAINEL_CG1_37","PAINEL_CG1_15","PAINEL_CG1_25",
    "PAINEL_CG2_06","PAINEL_CG2_18","PAINEL_CG2_37","PAINEL_CG2_15","PAINEL_CG2_25",
    "FITA_CG1_22","FITA_CG1_35","FITA_CG1_42","FITA_CG1_50",
    "FITA_CG2_22","FITA_CG2_35","FITA_CG2_42","FITA_CG2_50",
    "CHAPA_CG1_06","CHAPA_CG1_18","CHAPA_CG1_37","CHAPA_CG1_15","CHAPA_CG1_25",
    "CHAPA_CG2_06","CHAPA_CG2_18","CHAPA_CG2_37","CHAPA_CG2_15","CHAPA_CG2_25",
    "TAPAFURO_CG1_06","TAPAFURO_CG1_18","TAPAFURO_CG1_37","TAPAFURO_CG1_15","TAPAFURO_CG1_25",
    "TAPAFURO_CG2_06","TAPAFURO_CG2_18","TAPAFURO_CG2_37","TAPAFURO_CG2_15","TAPAFURO_CG2_25",
    "CAPA_CG1","CAPA_CG1", "FITA_CG1_19", "FITA_CG2_19", "TAPAFURO_CG1", "TAPAFURO_CG2", "CAPA_CG1", "CAPA_CG2",
  ];
  // detectar e registrar todos os tokens "cor coringa" correspondidos (√∫nicos, mai√∫sculos)
  try {
    const corRegex = new RegExp(`\\b(${COR_CORINGA_LIST.join("|")})\\b`, "gi");
    const corMatches = Array.from(new Set(Array.from(txt.matchAll(corRegex)).map(m => (m[1] || m[0] || '').toString().toUpperCase()))).filter(Boolean);
    if (corMatches.length) {
      payload.erros.push({ descricao: "CADASTRO DE COR CORINGA" });
      payload.tags.push("coringa");
      payload.meta = payload.meta || {};
      payload.meta.coringaMatches = corMatches;
    }
  } catch (e) { /* ignore regex problems */ }

  // Avisos (n√£o erro) + flags
  const hasMuxarabi = /\bMX008001\b/i.test(txt) || /\bMX008002\b/i.test(txt);
  if (hasMuxarabi) {
    payload.warnings.push("MUXARABI NO PED");
    payload.tags.push("muxarabi");
  }
  if (/\bLR00(0[1-9]|1[01])\b/i.test(txt)) {
    payload.warnings.push("M√ìD.CURVO  NO PED");
    payload.tags.push("curvo");
  }

  // ===== M√°quinas detectadas (ID + Nome) =====
  // Ex.: <MAQUINA ... ID_PLUGIN="2341" NOME_PLUGIN="Cyflex 900" ... />
  const machines = [];
  for (const m of txt.matchAll(/<MAQUINA\b([^>]*\bID_PLUGIN\s*=\s*"([^"]+)"[^>]*\bNOME_PLUGIN\s*=\s*"([^"]+)")/gi)) {
    const id = (m[2] || "").trim();
    const name = (m[3] || "").trim();
    if (id) machines.push({ id, name });
  }
  // salva no meta p/ o Drawer
  payload.meta.machines = machines;

  // M√°quinas obrigat√≥rias quando N√ÉO for s√≥ ferragens
if (!isFerragensOnly) {
  const REQUIRED_PLUGINS = ["2530","2534","2341","2525"]; // Aspan, NCB612, Cyflex 900, MSZ600

  // coleta todos IDs de plugin presentes no XML
  const seen = new Set();
  for (const m of txt.matchAll(/<MAQUINA\b[^>]*\bID_PLUGIN\s*=\s*"([^"]+)"/gi)) {
    seen.add((m[1] || "").trim());
  }

  // erro apenas se faltar alguma obrigat√≥ria (quando aplic√°vel)
  const allPresent = REQUIRED_PLUGINS.every(id => seen.has(id));
  if (!allPresent) payload.erros.push({ descricao: "PROBLEMA NA GERA√á√ÉO DE M√ÅQUINAS" });

  // mapeia nomes e j√° envia UMA de cada no payload.meta.machines
  const PLUGIN_NAMES = {
    "2341": "Cyflex 900",
    "2530": "Aspan",
    "2534": "NCB612",
    "2525": "MSZ600",
  };
  payload.meta.machines = Array.from(seen).map(id => ({
    id,
    name: PLUGIN_NAMES[id] || undefined,
  }));
}

  // ===== AUTO-FIX =====
if (cfg.enableAutoFix) {
  let changed = false;
  let priceFixCount = 0;
  let qtyFixCount = 0;

  // Passo por cada TAG <ITEM ...> e ajusto atributos dentro dela
  txt = txt.replace(/<ITEM\b([^>]*)>/gi, (full, attrs) => {
    let updated = attrs; // string s√≥ com os atributos
    const refMatch = updated.match(/\bREFERENCIA\s*=\s*"([^"]*)"/i);
    const ref = (refMatch?.[1] || "").trim();

    // 1) QUANTIDADE = 0 -> 1 (se tiver REFERENCIA preenchida no mesmo ITEM)
    const qtyMatch = updated.match(/\bQUANTIDADE\s*=\s*"([^"]*)"/i);
    if (qtyMatch) {
      const qtyVal = (qtyMatch[1] || "").trim();
      if (ref && /^0(?:\.0+)?$/.test(qtyVal)) {
        updated = updated.replace(
          /(\bQUANTIDADE\s*=\s*")0(?:\.0+)?(")/i,
          `$11$2`
        );
        qtyFixCount++;
        changed = true;
      }
    }

    // 2) PRECO_TOTAL 0 / 0.00 -> 0.10 (sempre que for zero)
    const priceMatch = updated.match(/\bPRECO_TOTAL\s*=\s*"([^"]*)"/i);
    if (priceMatch) {
      const pVal = (priceMatch[1] || "").trim();
      if (/^0(?:\.0+)?$/.test(pVal)) {
        updated = updated.replace(
          /(\bPRECO_TOTAL\s*=\s*")0(?:\.0+)?(")/i,
          `$10.10$2`
        );
        priceFixCount++;
        changed = true;
      }
    }

    // remonta a tag <ITEM ...>
    // (attrs capturado N√ÉO inclui o ">" final, ent√£o devolvemos igual ao original)
    return `<ITEM${updated}>`;
  });

  // se houve qualquer ajuste, limpamos os erros correspondentes e gravamos de volta
  if (qtyFixCount > 0) {
    payload.autoFixes.push(`Ajustes de QUANTIDADE aplicados em ${qtyFixCount} item(ns)`);
    // remove o erro de quantidade se existir
    payload.erros = (payload.erros || []).filter(
      (e) => (e.descricao || e).toUpperCase() !== "ITEM SEM QUANTIDADE"
    );
  }
  if (priceFixCount > 0) {
    payload.autoFixes.push(`Ajustes de PRE√áO aplicados em ${priceFixCount} item(ns)`);
    // remove o erro de pre√ßo se existir
    payload.erros = (payload.erros || []).filter(
      (e) => (e.descricao || e).toUpperCase() !== "ITEM SEM PRE√áO"
    );
  }

  if (changed) {
    await fsp.writeFile(fileFullPath, txt, "utf8");
  }
}

  // Dedup
  payload.tags = Array.from(new Set(payload.tags));
  const dedup = (arr) => {
    const s = new Set();
    return (arr || []).filter(x => {
      const k = (typeof x === "string" ? x : x?.descricao || String(x)).toLowerCase();
      if (s.has(k)) return false; s.add(k); return true;
    });
  };
  payload.erros = dedup(payload.erros);
  payload.warnings = dedup(payload.warnings);

  return payload;
}

async function processOne(fileFullPath, cfg) {
  try {
    const analysis = await validateXml(fileFullPath, cfg);
    const isOK = (analysis.erros || []).length === 0;

    const baseName = path.basename(fileFullPath);
    const destDir  = isOK ? (cfg.ok || cfg.working) : (cfg.erro || cfg.working);

    let finalPath = path.resolve(fileFullPath);
    const originalPath = path.resolve(fileFullPath); // Guardar caminho original
    let movedTo = null;

    if (destDir) {
      await fse.ensureDir(destDir);
      const target = path.join(destDir, baseName);
      if (path.resolve(target).toLowerCase() !== finalPath.toLowerCase()) {
        try { 
          await fse.move(finalPath, target, { overwrite: true }); 
          finalPath = path.resolve(target); 
          movedTo = path.resolve(destDir);
          
          // ‚úÖ DELETAR arquivo antigo de ERRO se foi movido para OK
          if (isOK && originalPath.toLowerCase() !== finalPath.toLowerCase()) {
            try {
              await fse.remove(originalPath);
            } catch (delErr) {
              // Falha ao deletar √© aceit√°vel
            }
          }
        } catch {}
      }
    }

    const logDir = isOK ? cfg.logsProcessed : cfg.logsErrors;
    if (logDir) {
      await fse.ensureDir(logDir);
      const logName = baseName.replace(/\.xml$/i, '') + `_${isOK ? 'ok' : 'erro'}.json`;
      await fsp.writeFile(path.join(logDir, logName), JSON.stringify(analysis, null, 2), 'utf8');
    }

    send('file-validated', { ...analysis, arquivo: finalPath, movedTo });
  } catch (e) {
    send('error', { where: 'processOne', message: String(e?.message || e) });
  }
}


/** ================== IPC: SETTINGS (com enableAutoFix) ================== **/
ipcMain.handle("settings:load", async () => {
  const saved = await loadCfg();
  return {
    entrada: normalizeWin(saved.entrada || ""),
    working: normalizeWin(saved.working || ""),
    ok: normalizeWin(saved.ok || ""),
    erro: normalizeWin(saved.erro || ""),
    logsErrors: normalizeWin(saved.logsErrors || ""),
    logsProcessed: normalizeWin(saved.logsProcessed || ""),
    drawings: normalizeWin(saved.drawings || ""),
    enableAutoFix: !!saved.enableAutoFix,
  };
});

ipcMain.handle("settings:save", async (_e, obj) => {
  const next = {
    entrada: normalizeWin(obj?.entrada || ""),
    working: normalizeWin(obj?.working || ""),
    ok: normalizeWin(obj?.ok || ""),
    erro: normalizeWin(obj?.erro || ""),
    logsErrors: normalizeWin(obj?.logsErrors || ""),
    logsProcessed: normalizeWin(obj?.logsProcessed || ""),
    drawings: normalizeWin(obj?.drawings || ""),
    enableAutoFix: !!obj?.enableAutoFix,
  };
  await saveCfg(next);
  currentCfg = next;
  return { ok: true, saved: next };
});
ipcMain.handle("settings:testPaths", async (_e, obj) => {
  const cfg = {
    entrada: normalizeWin(obj?.entrada || ""),
    working: normalizeWin(obj?.working || ""),
    ok: normalizeWin(obj?.ok || ""),
    erro: normalizeWin(obj?.erro || ""),
    logsErrors: normalizeWin(obj?.logsErrors || ""),
    logsProcessed: normalizeWin(obj?.logsProcessed || ""),
    enableAutoFix: !!obj?.enableAutoFix,
  };
  return await testPathsAll(cfg);
});

ipcMain.handle("settings:pickFolder", async (_e, initial) => {
  const res = await dialog.showOpenDialog(win, {
    defaultPath: initial || undefined,
    properties: ["openDirectory", "createDirectory"],
  });
  if (res.canceled || !res.filePaths?.length) return null;
  return res.filePaths[0];
});

/** ================== IPC: ANALYZER ================== **/
ipcMain.handle("analyzer:start", async (_e, overrideCfg) => {
  try {
    const saved = currentCfg && Object.keys(currentCfg).length ? currentCfg : await loadCfg();
    const raw = overrideCfg && Object.keys(overrideCfg).length ? overrideCfg : saved;

    const cfg = {
      entrada: normalizeWin(raw.entrada),
      working: normalizeWin(raw.working),
      ok: normalizeWin(raw.ok),
      erro: normalizeWin(raw.erro),
      logsErrors: normalizeWin(raw.logsErrors),
      logsProcessed: normalizeWin(raw.logsProcessed),
      enableAutoFix: !!raw.enableAutoFix,
    };

    for (const k of ["entrada", "working", "ok", "erro"]) {
      if (!cfg[k]) { send("error", { where: "start", message: `Config inv√°lida: '${k}' vazio.` }); return false; }
      await fse.ensureDir(cfg[k]);
    }
    currentCfg = cfg;

    if (watcher) { send("started", { watching: cfg.entrada }); return true; }

    const isUncEntrada = isUNC(cfg.entrada);
    watcher = chokidar.watch(cfg.entrada, {
      ignoreInitial: false,
      depth: 0,
      awaitWriteFinish: { stabilityThreshold: 600, pollInterval: 120 },
      usePolling: isUncEntrada,
      interval: isUncEntrada ? 800 : 100,
    });

    watcher.on("add",    (p) => p.toLowerCase().endsWith(".xml") && processOne(p, cfg));
    watcher.on("change", (p) => p.toLowerCase().endsWith(".xml") && processOne(p, cfg));
    watcher.on("error",  (err) => send("error", { where: "watch", message: String(err) }));

    send("started", { watching: cfg.entrada });
    return true;
  } catch (e) {
    send("error", { where: "start", message: String((e && e.message) || e) });
    return false;
  }
});

ipcMain.handle("analyzer:stop", async () => {
  try {
    if (watcher) { await watcher.close(); watcher = null; }
    send("stopped", {});
    return true;
  } catch (e) {
    send("error", { where: "stop", message: String((e && e.message) || e) });
    return false;
  }
});

ipcMain.handle("analyzer:scanOnce", async () => {
  try {
    const cfg = currentCfg || (await loadCfg());
    if (!cfg?.entrada) { send("error", { where: "scanOnce", message: "Entrada n√£o configurada." }); return false; }
    const files = await fsp.readdir(cfg.entrada);
    for (const f of files) if (f.toLowerCase().endsWith(".xml")) await processOne(path.join(cfg.entrada, f), cfg);
    send("scan-finished", {});
    return true;
  } catch (e) {
    send("error", { where: "scanOnce", message: String((e && e.message) || e) });
    return false;
  }
});

/** -------- helpers para openInFolder / reprocessOne -------- **/
function dirname(p) { try { return path.dirname(p); } catch { return ""; } }
async function resolveFilePathMaybeBase(input, cfg) {
  if (!input) return null;
  if (await fse.pathExists(input)) return input;
  const base = path.basename(input);
  const candidates = [cfg?.entrada, cfg?.ok, cfg?.erro, cfg?.working].filter(Boolean);
  for (const dir of candidates) {
    const full = path.join(dir, base);
    if (await fse.pathExists(full)) return full;
  }
  return null;
}

/** --- abrir na pasta --- */
ipcMain.handle("analyzer:openInFolder", async (_e, fileFullPath) => {
  try {
    const cfg  = currentCfg || (await loadCfg());
    const real = await resolveFilePathMaybeBase(fileFullPath, cfg);
    if (!real) {
      send("error", { where: "openInFolder", message: "Arquivo n√£o encontrado." });
      return false;
    }

    const p = path.resolve(real);

    if (process.platform === "win32") {
      exec(`explorer.exe /select,"${p.replace(/\//g, "\\")}"`);
    } else if (process.platform === "darwin") {
      exec(`open -R "${p}"`);
    } else {
      const dir = path.dirname(p);
      try { await shell.openPath(dir); } catch {}
    }

    return true;
  } catch (e) {
    send("error", { where: "openInFolder", message: String((e && e.message) || e) });
    return false;
  }
});

/** --- reprocessar --- */
ipcMain.handle("analyzer:reprocessOne", async (_e, fileFullPath) => {
  try {
    const cfg = currentCfg || (await loadCfg());
    if (!cfg?.working) { send("error", { where: "reprocessOne", message: "Config faltando (working)." }); return false; }

    const real = await resolveFilePathMaybeBase(fileFullPath, cfg);
    if (!real) { send("error", { where: "reprocessOne", message: "Arquivo n√£o encontrado." }); return false; }

    await fse.ensureDir(cfg.working);
    const base = path.basename(real);
    const staging = path.join(cfg.working, base);

    await fse.copy(real, staging, { overwrite: true });
    await processOne(staging, cfg);
    return true;
  } catch (e) {
    send("error", { where: "reprocessOne", message: String((e && e.message) || e) });
    return false;
  }
});

// fun√ß√£o auxiliar para escapar caracteres especiais de regex
function escapeRegExp(s) {
  return s.replace(/[.*+?^${}()|[\\]\\\\]/g, "\\$&");
}
// arquivos de backup/hist√≥rico para replace/desfazer
const REPLACE_BACKUP_DIR = path.join(app.getPath('userData'), 'backups');
const REPLACE_HISTORY_FILE = path.join(app.getPath('userData'), 'replace-history.json');

async function readReplaceHistory() {
  try { return JSON.parse(await fsp.readFile(REPLACE_HISTORY_FILE, 'utf8')); } catch { return []; }
}
async function writeReplaceHistory(arr) {
  try { await fse.ensureFile(REPLACE_HISTORY_FILE); await fsp.writeFile(REPLACE_HISTORY_FILE, JSON.stringify(arr || [], null, 2), 'utf8'); } catch {}
}
async function appendReplaceHistory(entry) {
  const h = await readReplaceHistory();
  h.push(entry);
  await writeReplaceHistory(h);
}

/** --- replace a detected cor coringa in the given file (creates backup + history) --- **/
ipcMain.handle("analyzer:replaceCoringa", async (_e, obj) => {
  try {
    const { filePath, from, to } = obj || {};
    if (!filePath || !from || typeof to === 'undefined') { send('error', { where: 'replaceCoringa', message: 'Par√¢metros inv√°lidos.' }); return { ok: false, message: 'invalid-params' }; }

    const cfg = currentCfg || (await loadCfg());
    const real = await resolveFilePathMaybeBase(filePath, cfg);
    if (!real) { send('error', { where: 'replaceCoringa', message: 'Arquivo n√£o encontrado.' }); return { ok: false, message: 'not-found' }; }

    // read original
    const raw = await fsp.readFile(real, 'utf8');

    const re = new RegExp(`\\b${escapeRegExp(String(from))}\\b`, 'gi');
    let count = 0;
    const replaced = raw.replace(re, (m) => { count++; return String(to); });
    if (count === 0) return { ok: false, message: 'no-match' };

    // garantir diret√≥rio de backup e escrever c√≥pia de backup
    await fse.ensureDir(REPLACE_BACKUP_DIR);
    const base = path.basename(real);
    const backupName = `${base.replace(/\.xml$/i,'')}_backup_${Date.now()}.xml`;
    const backupPath = path.join(REPLACE_BACKUP_DIR, backupName);
    try { await fse.copy(real, backupPath, { overwrite: true }); } catch (e) { /* continuar mesmo se backup falhar */ }

    // escrever conte√∫do substitu√≠do
    await fsp.writeFile(real, replaced, 'utf8');

    // adicionar entrada ao hist√≥rico
    const entry = {
      id: Date.now(),
      file: path.resolve(real),
      backupPath: backupPath,
      timestamp: new Date().toISOString(),
      from: String(from),
      to: String(to),
      replaced: count,
      undone: false,
    };
    try { await appendReplaceHistory(entry); } catch (e) { /* ignorar */ }

    // reprocessar arquivo atualizado (vai revalidar e mover se necess√°rio)
    try { await processOne(real, cfg); } catch (e) { /* ignorar */ }

    return { ok: true, replaced: count, backupPath };
  } catch (e) {
    send('error', { where: 'replaceCoringa', message: String((e && e.message) || e) });
    return { ok: false, message: String((e && e.message) || e) };
  }
});

/** --- undo last replace for a given file --- **/
ipcMain.handle('analyzer:undoReplace', async (_e, obj) => {
  try {
    const { filePath } = obj || {};
    if (!filePath) return { ok: false, message: 'invalid-params' };
    const real = path.resolve(filePath);
    const hist = await readReplaceHistory();
    // encontrar √∫ltima entrada correspondente para este arquivo que n√£o foi desfeita
    for (let i = hist.length - 1; i >= 0; i--) {
      const en = hist[i];
      if (!en || en.undone) continue;
      // corresponder caminho exato ou mesmo nome base (caso arquivo foi movido ap√≥s processamento)
      if (path.resolve(en.file) === real || path.basename(en.file) === path.basename(real)) {
        const backup = en.backupPath;
        if (!backup || !(await fse.pathExists(backup))) return { ok: false, message: 'backup-not-found' };
        // restaurar
        try { await fse.copy(backup, real, { overwrite: true }); } catch (e) { return { ok: false, message: 'restore-failed' }; }
        // marcar desfeito
        hist[i].undone = true;
        await writeReplaceHistory(hist);
        // reprocessar
        try { await processOne(real, currentCfg || await loadCfg()); } catch (e) { /* ignorar */ }
        return { ok: true, restored: true, entry: hist[i] };
      }
    }
    return { ok: false, message: 'no-history' };
  } catch (e) {
    send('error', { where: 'undoReplace', message: String((e && e.message) || e) });
    return { ok: false, message: String((e && e.message) || e) };
  }
});

/** --- replace all CG1/CG2 occurrences in a file according to provided map --- **/
ipcMain.handle('analyzer:replaceCgGroups', async (_e, obj) => {
  try {
    const { filePath, map } = obj || {};
    if (!filePath || !map || (typeof map !== 'object')) { return { ok: false, message: 'invalid-params' }; }

    const cfg = currentCfg || (await loadCfg());
    const real = await resolveFilePathMaybeBase(filePath, cfg);
    if (!real) return { ok: false, message: 'not-found' };

    const raw = await fsp.readFile(real, 'utf8');
    let replacedText = raw;
    const counts = {};
    // aplicar substitui√ß√µes para chaves conhecidas (cg1, cg2) -- case-insensitive
    for (const key of Object.keys(map)) {
      const val = map[key];
      if (!val) { counts[key] = 0; continue; }
      const re = new RegExp(escapeRegExp(key.toString()), 'gi');
      let c = 0;
      replacedText = replacedText.replace(re, (m) => { c++; return String(val); });
      counts[key] = c;
    }

    const total = Object.values(counts).reduce((s, n) => s + (n || 0), 0);
    if (total === 0) return { ok: false, message: 'no-match' };

    // backup
    await fse.ensureDir(REPLACE_BACKUP_DIR);
    const base = path.basename(real);
    const backupName = `${base.replace(/\.xml$/i,'')}_backup_cg_${Date.now()}.xml`;
    const backupPath = path.join(REPLACE_BACKUP_DIR, backupName);
    try { await fse.copy(real, backupPath, { overwrite: true }); } catch (e) { /* continuar */ }

    // escrever substitu√≠do
    await fsp.writeFile(real, replacedText, 'utf8');

    // entrada do hist√≥rico
    const entry = {
      id: Date.now(),
      file: path.resolve(real),
      backupPath,
      timestamp: new Date().toISOString(),
      type: 'cg-groups',
      map,
      counts,
      undone: false,
    };
    try { await appendReplaceHistory(entry); } catch (e) { /* ignorar */ }

    // reprocessar
    try { await processOne(real, cfg); } catch (e) { /* ignorar */ }

    return { ok: true, counts, backupPath };
  } catch (e) {
    send('error', { where: 'replaceCgGroups', message: String((e && e.message) || e) });
    return { ok: false, message: String((e && e.message) || e) };
  }
});

/** --- fill empty REFERENCIA attributes (REFERENCIA="" -> REFERENCIA="<value>") --- **/
ipcMain.handle('analyzer:fillReferencia', async (_e, obj) => {
  try {
    const { filePath, value } = obj || {};
    if (!filePath || typeof value === 'undefined') return { ok: false, message: 'invalid-params' };

    const cfg = currentCfg || (await loadCfg());
    const real = await resolveFilePathMaybeBase(filePath, cfg);
    if (!real) return { ok: false, message: 'not-found' };

    const raw = await fsp.readFile(real, 'utf8');
    const re = /\bREFERENCIA\s*=\s*""/gi;
    let count = 0;
    const replaced = raw.replace(re, (m) => { count++; return `REFERENCIA="${String(value)}"`; });
    if (count === 0) return { ok: false, message: 'no-match' };

    // backup
    await fse.ensureDir(REPLACE_BACKUP_DIR);
    const base = path.basename(real);
    const backupName = `${base.replace(/\.xml$/i,'')}_backup_ref_${Date.now()}.xml`;
    const backupPath = path.join(REPLACE_BACKUP_DIR, backupName);
    try { await fse.copy(real, backupPath, { overwrite: true }); } catch (e) { /* continue */ }

    await fsp.writeFile(real, replaced, 'utf8');

    const entry = {
      id: Date.now(),
      file: path.resolve(real),
      backupPath,
      timestamp: new Date().toISOString(),
      type: 'fill-referencia',
      value: String(value),
      replaced: count,
      undone: false,
    };
    try { await appendReplaceHistory(entry); } catch (e) { /* ignore */ }

    try { await processOne(real, cfg); } catch (e) { /* ignore */ }

    return { ok: true, replaced: count, backupPath };
  } catch (e) {
    send('error', { where: 'fillReferencia', message: String((e && e.message) || e) });
    return { ok: false, message: String((e && e.message) || e) };
  }
});

/** --- preencher REFERENCIA apenas para IDs espec√≠ficas de ITEM --- **/
ipcMain.handle('analyzer:fillReferenciaByIds', async (_e, obj) => {
  try {
    const { filePath, replacements } = obj || {};
    // replacements: [{ id: string, value: string }, ...]
    if (!filePath || !Array.isArray(replacements) || replacements.length === 0) return { ok: false, message: 'invalid-params' };

    const cfg = currentCfg || (await loadCfg());
    const real = await resolveFilePathMaybeBase(filePath, cfg);
    if (!real) return { ok: false, message: 'not-found' };

    let raw = await fsp.readFile(real, 'utf8');
    const counts = {};

    for (const rep of replacements) {
      const id = rep?.id;
      const value = rep?.value;
      if (!id || typeof value === 'undefined') { counts[id] = 0; continue; }
      
      // Encontrar a tag ITEM com ID correspondente e substituir REFERENCIA dentro dela
      // FIX CR√çTICO: N√£o usar [\s\S]*? sem termina√ß√£o apropriada
      // Em vez disso, corresponder apenas at√© /> ou fechamento > 
      const escapedId = escapeRegExp(String(id));
      
      // Este regex lida adequadamente com tags multi-linha ao:
      // 1. Come√ßar com <ITEM
      // 2. Usar [^<]* para corresponder atributos (qualquer coisa exceto outra tag)
      // 3. Permitir quebras de linha nos atributos com \s expl√≠cito
      // 4. Corresponder atributo ID
      // 5. Corresponder resto dos atributos at√© > ou />
      const itemRegex = new RegExp(`<ITEM(?:[^<]|\\n)*?ID\\s*=\\s*"${escapedId}"(?:[^<]|\\n)*?(?:>|/>)`, 'gi');
      
      let c = 0;
      const originalRaw = raw; // Guardar para debug
      raw = raw.replace(itemRegex, (itemMatch) => {
        // Passo 2: Substituir REFERENCIA dentro dessa tag ITEM espec√≠fica
        // Lidar com casos onde REFERENCIA talvez n√£o exista ainda (adicionar se necess√°rio)
        let updated = itemMatch;
        // Procurar atributo REFERENCIA - usar [\s\S] para lidar com quebras de linha
        if (/REFERENCIA\s*=\s*"[^"]*"/i.test(updated)) {
          updated = updated.replace(
            /REFERENCIA\s*=\s*"[^"]*"/i,
            `REFERENCIA="${String(value)}"`
          );
        } else {
          // Atributo REFERENCIA n√£o existe, adiciona antes do fechamento
          // Encontrar o > no final, tratando poss√≠vel espa√ßamento/quebras de linha antes dele
          updated = updated.replace(/[\s\S]*?>/, (match) => {
            return match.replace(/[\s\n]*>/, ` REFERENCIA="${String(value)}"`);
          });
        }
        c++;
        return updated;
      });
      
      counts[id] = c;
      
      if (c === 0) {
        // Nenhuma correspond√™ncia encontrada
      }
    }

    const total = Object.values(counts).reduce((s, n) => s + (n || 0), 0);
    if (total === 0) return { ok: false, message: 'no-match' };

    // backup
    await fse.ensureDir(REPLACE_BACKUP_DIR);
    const base = path.basename(real);
    const backupName = `${base.replace(/\.xml$/i,'')}_backup_refids_${Date.now()}.xml`;
    const backupPath = path.join(REPLACE_BACKUP_DIR, backupName);
    try { await fse.copy(real, backupPath, { overwrite: true }); } catch (e) { /* continue */ }

    // escrever arquivo
    await fsp.writeFile(real, raw, 'utf8');
    
    // Verificar se foi escrito
    const writtenContent = await fsp.readFile(real, 'utf8');

    // history
    const entry = {
      id: Date.now(),
      file: path.resolve(real),
      backupPath,
      timestamp: new Date().toISOString(),
      type: 'fill-referencia-ids',
      replacements,
      counts,
      undone: false,
    };
    try { await appendReplaceHistory(entry); } catch (e) { /* ignorar */ }

    // Reprocessar arquivo (isso tamb√©m o mover√° se necess√°rio)
    // Mas precisamos rastrear o novo caminho se ele se mover
    let finalPath = path.resolve(real);
    const originalPath = finalPath; // Guardar caminho original para limpeza
    try { 
      const analysis = await validateXml(real, cfg);
      const isOK = (analysis.erros || []).length === 0;
      const baseName = path.basename(real);
      const destDir  = isOK ? (cfg.ok || cfg.working) : (cfg.erro || cfg.working);

      if (destDir) {
        await fse.ensureDir(destDir);
        const target = path.join(destDir, baseName);
        if (path.resolve(target).toLowerCase() !== finalPath.toLowerCase()) {
          try { 
            await fse.move(finalPath, target, { overwrite: true }); 
            finalPath = path.resolve(target);
            
            // DELETAR arquivo antigo de ERRO se foi movido para OK
            if (isOK && originalPath.toLowerCase() !== finalPath.toLowerCase()) {
              try {
                await fse.remove(originalPath);
              } catch (delErr) {
                // Falha ao deletar √© aceit√°vel
              }
            }
          } catch {}
        }
      }

      const logDir = isOK ? cfg.logsProcessed : cfg.logsErrors;
      if (logDir) {
        await fse.ensureDir(logDir);
        const logName = baseName.replace(/\.xml$/i, '') + `_${isOK ? 'ok' : 'erro'}.json`;
        await fsp.writeFile(path.join(logDir, logName), JSON.stringify(analysis, null, 2), 'utf8');
      }

      send('file-validated', { ...analysis, arquivo: finalPath });
    } catch (e) { 
      send('error', { where: 'fillReferenciaByIds-processOne', message: String(e?.message || e) });
    }

    return { ok: true, counts, backupPath, arquivo: finalPath };
  } catch (e) {
    send('error', { where: 'fillReferenciaByIds', message: String((e && e.message) || e) });
    return { ok: false, message: String((e && e.message) || e) };
  }
});

/** ================== IPC: FIND DRAWING FILE ================== **/
ipcMain.handle('analyzer:findDrawingFile', async (_e, obj) => {
  try {
    const { drawingCode, xmlFilePath } = obj || {};
    
    console.log('[DXF Search] ========== INICIANDO BUSCA ==========');
    console.log('[DXF Search] C√≥digo de desenho procurado:', drawingCode);
    console.log('[DXF Search] Arquivo XML:', xmlFilePath);
    
    const cfg = (await loadCfg()) || {};
    const drawingsFolder = cfg?.drawings;
    
    console.log('[DXF Search] Pasta de desenhos configurada:', drawingsFolder);
    
    // Se a pasta n√£o foi configurada, usar Desktop/desenho_dxf como fallback
    let dxfFolderPath = drawingsFolder;
    if (!dxfFolderPath) {
      const desktopPath = path.join(app.getPath('home'), 'Desktop');
      dxfFolderPath = path.join(desktopPath, 'desenho_dxf');
      console.log('[DXF Search] Pasta n√£o configurada, usando fallback:', dxfFolderPath);
    }
    
    console.log('[DXF Search] Caminho final a buscar:', dxfFolderPath);
    
    // Verificar se a pasta existe
    const folderExists = await fse.pathExists(dxfFolderPath);
    console.log('[DXF Search] Pasta existe?', folderExists);
    
    if (!folderExists) {
      console.log('[DXF Search] ‚ùå FALHA: Pasta n√£o encontrada');
      return { found: false, path: null, message: `Pasta n√£o encontrada: ${dxfFolderPath}` };
    }
    
    // Ler arquivos da pasta
    const files = await fsp.readdir(dxfFolderPath);
    console.log('[DXF Search] Total de arquivos na pasta:', files.length);
    console.log('[DXF Search] Arquivos encontrados:');
    files.forEach((f, i) => {
      console.log(`  [${i + 1}] ${f}`);
    });
    
    // Procurar arquivo que comece com o c√≥digo de desenho (case-insensitive)
    const searchPattern = drawingCode.toLowerCase();
    console.log('[DXF Search] Padr√£o de busca (lowercase):', searchPattern);
    console.log('[DXF Search] Procurando arquivo que comece com:', searchPattern);
    
    const foundFile = files.find(f => {
      const lowerF = f.toLowerCase();
      const matches = lowerF.startsWith(searchPattern);
      console.log(`  [Compara√ß√£o] "${f}" (${lowerF}) -> come√ßa com "${searchPattern}"? ${matches}`);
      return matches;
    });
    
    if (!foundFile) {
      console.log('[DXF Search] ‚ùå FALHA: Nenhum arquivo corresponde ao padr√£o');
      return { found: false, path: null, message: `Arquivo "${drawingCode}" n√£o encontrado em ${dxfFolderPath}` };
    }
    
    const fullPath = path.join(dxfFolderPath, foundFile);
    console.log('[DXF Search] ‚úÖ ARQUIVO DXF ENCONTRADO');
    console.log('[DXF Search] Nome do arquivo:', foundFile);
    console.log('[DXF Search] Caminho completo:', fullPath);
    
    // ===== ANALISAR ARQUIVO DXF =====
    let panelInfo = null;
    let fresaInfo = null;
    
    try {
      console.log('[DXF Analysis] Lendo arquivo DXF:', fullPath);
      const dxfContent = await fsp.readFile(fullPath, 'utf8');
      const lines = dxfContent.split(/\r?\n/);
      
      console.log('[DXF Analysis] Total de linhas no DXF:', lines.length);
      
      // 1. PROCURAR PRIMEIRO PANEL e extrair o valor de 39 (dimens√£o)
      let panelFound = false;
      for (let i = 0; i < lines.length - 1; i++) {
        const line = lines[i].trim();
        if (line.toUpperCase() === 'PANEL' && !panelFound) {
          console.log('[DXF Analysis] ‚úì PANEL encontrado na linha', i);
          panelFound = true;
          
          // Procurar o pr√≥ximo "39" para pegar a dimens√£o
          for (let j = i + 1; j < lines.length; j++) {
            const codeLine = lines[j].trim();
            if (codeLine === '39') {
              const dimensionLine = j + 1 < lines.length ? lines[j + 1].trim() : null;
              if (dimensionLine) {
                const dimension = dimensionLine.startsWith('-') ? dimensionLine : '-' + dimensionLine;
                panelInfo = {
                  panelCode: 'PANEL',
                  dimension: dimension
                };
                console.log('[DXF Analysis] ‚úì Dimens√£o do PANEL encontrada:', dimension);
                break;
              }
            }
          }
          break;
        }
      }
      
      if (!panelFound) {
        console.log('[DXF Analysis] ‚úó Nenhum PANEL encontrado no DXF');
      }
      
      // 2. PROCURAR FRESA_12_37 ou FRESA_12_18
      let fresa37Found = false;
      let fresa18Found = false;
      let fresa37Count = 0;
      let fresa18Count = 0;
      let firstFresa37Info = null;
      
      for (let i = 0; i < lines.length; i++) {
        const line = lines[i].trim().toUpperCase();
        if (line === 'FRESA_12_37') {
          fresa37Found = true;
          fresa37Count++;
          
          // Se for a primeira FRESA_12_37, extrair detalhes
          if (fresa37Count === 1) {
            console.log('[DXF Analysis] ‚úì PRIMEIRA FRESA_12_37 encontrada na linha', i);
            
            // Procurar pelos c√≥digos 30 (-37) e 39 (37 ou -37) ap√≥s essa linha
            let hasNegative37 = false;
            let hasPositive37 = false;
            
            for (let j = i + 1; j < Math.min(i + 20, lines.length); j++) {
              const codeLine = lines[j].trim();
              
              if (codeLine === '30') {
                const valueLine = j + 1 < lines.length ? lines[j + 1].trim() : null;
                if (valueLine === '-37') {
                  hasNegative37 = true;
                  console.log('[DXF Analysis]   ‚úì C√≥digo 30 = -37 encontrado na linha', j);
                }
              }
              
              if (codeLine === '39') {
                const valueLine = j + 1 < lines.length ? lines[j + 1].trim() : null;
                if (valueLine === '37' || valueLine === '-37') {
                  hasPositive37 = true;
                  console.log('[DXF Analysis]   ‚úì C√≥digo 39 =', valueLine, 'encontrado na linha', j);
                }
              }
            }
            
            firstFresa37Info = {
              hasNegative37,
              hasPositive37
            };
            
            console.log('[DXF Analysis]   Resumo FRESA_12_37: -37?', hasNegative37, '| 37?', hasPositive37);
          }
          
          console.log('[DXF Analysis] ‚úì FRESA_12_37 encontrada na linha', i);
        } else if (line === 'FRESA_12_18') {
          fresa18Found = true;
          fresa18Count++;
          console.log('[DXF Analysis] ‚úì FRESA_12_18 encontrada na linha', i);
        }
      }
      
      if (fresa37Found && fresa18Found) {
        fresaInfo = {
          fresaCode: `FRESA_12_37 (${fresa37Count}x) e FRESA_12_18 (${fresa18Count}x)`,
          status: 'Estado misto (cont√©m ambas as vers√µes)',
          count37: fresa37Count,
          count18: fresa18Count,
          firstFresa37: firstFresa37Info
        };
        console.log('[DXF Analysis] ‚úì FRESA: Ambas as vers√µes presentes');
      } else if (fresa37Found) {
        fresaInfo = {
          fresaCode: `FRESA_12_37 (${fresa37Count}x)`,
          status: 'Status: ‚ö†Ô∏è Ainda est√° DUPLICADO em 37MM',
          count37: fresa37Count,
          count18: 0,
          firstFresa37: firstFresa37Info
        };
        console.log('[DXF Analysis] ‚úì FRESA: 37MM (DUPLICADO)');
      } else if (fresa18Found) {
        fresaInfo = {
          fresaCode: `FRESA_12_18 (${fresa18Count}x)`,
          status: 'Status: ‚úÖ Corrigido para 18MM',
          count37: 0,
          count18: fresa18Count,
          firstFresa37: null
        };
        console.log('[DXF Analysis] ‚úì FRESA: 18MM (CORRIGIDO)');
      } else {
        console.log('[DXF Analysis] ‚úó Nenhuma FRESA_12_?? encontrada');
      }
      
    } catch (dxfErr) {
      console.log('[DXF Analysis] ‚úó Erro ao ler DXF:', dxfErr.message);
    }
    
    return { 
      found: true, 
      path: fullPath, 
      name: foundFile,
      panelInfo,
      fresaInfo
    };
  } catch (e) {
    console.log('[DXF Search] ‚ùå ERRO DURANTE BUSCA:', e.message || e);
    console.error('[DXF Search] Stack completo:', e.stack);
    return { found: false, path: null, message: `Erro ao buscar: ${String(e && e.message || e)}` };
  }
});

/** ================== IPC: FIX FRESA 37 TO 18 ================== **/
ipcMain.handle('analyzer:fixFresa37to18', async (_e, dxfFilePath) => {
  try {
    console.log('[DXF Fix] ========== INICIANDO CORRE√á√ÉO ==========');
    console.log('[DXF Fix] Arquivo DXF:', dxfFilePath);
    
    if (!dxfFilePath || !(await fse.pathExists(dxfFilePath))) {
      console.log('[DXF Fix] ‚ùå Arquivo n√£o encontrado');
      return { ok: false, message: 'Arquivo n√£o encontrado' };
    }
    
    // Ler arquivo
    const content = await fsp.readFile(dxfFilePath, 'utf8');
    const lines = content.split(/\r?\n/);
    
    console.log('[DXF Fix] Total de linhas:', lines.length);
    
    let modified = false;
    let panelModified = false;
    let fresaModified = false;
    let firstPanelFound = false;
    let firstFresa37Found = false;
    
    // Processar linhas
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i].trim();
      
      // 1. Alterar primeiro PANEL: valor 39 de 37 ou -37 para 18 ou -18
      if (!firstPanelFound && line.toUpperCase() === 'PANEL') {
        console.log('[DXF Fix] ‚úì PANEL encontrado na linha', i);
        firstPanelFound = true;
        
        // Procurar o c√≥digo 39 ap√≥s essa linha
        for (let j = i + 1; j < lines.length && j < i + 20; j++) {
          if (lines[j].trim() === '39') {
            const nextIdx = j + 1;
            if (nextIdx < lines.length) {
              const value = lines[nextIdx].trim();
              // Alterar 37 ‚Üí 18 ou -37 ‚Üí -18
              if (value === '37') {
                lines[nextIdx] = '18';
                console.log('[DXF Fix]   ‚úì C√≥digo 39: 37 ‚Üí 18 na linha', nextIdx);
                panelModified = true;
                modified = true;
              } else if (value === '-37') {
                lines[nextIdx] = '-18';
                console.log('[DXF Fix]   ‚úì C√≥digo 39: -37 ‚Üí -18 na linha', nextIdx);
                panelModified = true;
                modified = true;
              }
            }
            break;
          }
        }
      }
      
      // 2. Alterar primeira FRESA_12_37: valores 30 (-37‚Üí-18 ou 37‚Üí18) e 39 (37‚Üí18 ou -37‚Üí-18)
      if (!firstFresa37Found && line.toUpperCase() === 'FRESA_12_37') {
        console.log('[DXF Fix] ‚úì PRIMEIRA FRESA_12_37 encontrada na linha', i);
        firstFresa37Found = true;
        
        // Procurar c√≥digos 30 e 39 ap√≥s essa linha
        for (let j = i + 1; j < lines.length && j < i + 20; j++) {
          const codeLine = lines[j].trim();
          
          // Alterar c√≥digo 30: -37 ‚Üí -18 ou 37 ‚Üí 18
          if (codeLine === '30') {
            const nextIdx = j + 1;
            if (nextIdx < lines.length) {
              const value = lines[nextIdx].trim();
              if (value === '-37') {
                lines[nextIdx] = '-18';
                console.log('[DXF Fix]   ‚úì C√≥digo 30: -37 ‚Üí -18 na linha', nextIdx);
                fresaModified = true;
                modified = true;
              } else if (value === '37') {
                lines[nextIdx] = '18';
                console.log('[DXF Fix]   ‚úì C√≥digo 30: 37 ‚Üí 18 na linha', nextIdx);
                fresaModified = true;
                modified = true;
              }
            }
          }
          
          // Alterar c√≥digo 39: 37 ‚Üí 18 ou -37 ‚Üí -18
          if (codeLine === '39') {
            const nextIdx = j + 1;
            if (nextIdx < lines.length) {
              const value = lines[nextIdx].trim();
              if (value === '37') {
                lines[nextIdx] = '18';
                console.log('[DXF Fix]   ‚úì C√≥digo 39: 37 ‚Üí 18 na linha', nextIdx);
                fresaModified = true;
                modified = true;
              } else if (value === '-37') {
                lines[nextIdx] = '-18';
                console.log('[DXF Fix]   ‚úì C√≥digo 39: -37 ‚Üí -18 na linha', nextIdx);
                fresaModified = true;
                modified = true;
              }
            }
          }
        }
      }
    }
    
    // 3. Substituir todas as ocorr√™ncias de FRESA_12_37 por FRESA_12_18
    let fresa37Replacements = 0;
    for (let i = 0; i < lines.length; i++) {
      if (lines[i].trim().toUpperCase() === 'FRESA_12_37') {
        lines[i] = lines[i].replace(/FRESA_12_37/i, 'FRESA_12_18');
        fresa37Replacements++;
        console.log('[DXF Fix] ‚úì FRESA_12_37 ‚Üí FRESA_12_18 na linha', i);
      }
    }
    
    if (fresa37Replacements > 0) {
      modified = true;
    }
    
    if (!modified) {
      console.log('[DXF Fix] ‚ö†Ô∏è Nenhuma altera√ß√£o foi feita');
      return { ok: false, message: 'Nenhuma altera√ß√£o foi necess√°ria' };
    }
    
    // Escrever arquivo de volta
    const newContent = lines.join('\n');
    await fsp.writeFile(dxfFilePath, newContent, 'utf8');
    
    console.log('[DXF Fix] ‚úÖ ARQUIVO CORRIGIDO COM SUCESSO');
    console.log('[DXF Fix] Altera√ß√µes:');
    console.log('[DXF Fix]   - PANEL modificado:', panelModified);
    console.log('[DXF Fix]   - Primeira FRESA_12_37 modificada:', fresaModified);
    console.log('[DXF Fix]   - FRESA_12_37 ‚Üí FRESA_12_18:', fresa37Replacements, 'ocorr√™ncias');
    
    return { 
      ok: true, 
      message: 'Arquivo corrigido com sucesso',
      changes: {
        panelModified,
        fresaModified,
        fresa37Replacements
      }
    };
  } catch (e) {
    console.log('[DXF Fix] ‚ùå ERRO NA CORRE√á√ÉO:', e.message || e);
    console.error('[DXF Fix] Stack:', e.stack);
    return { ok: false, message: `Erro ao corrigir: ${String(e && e.message || e)}` };
  }
});

/** ================== IPC: EXPORT REPORT ================== **/
ipcMain.handle('analyzer:exportReport', async (_e, reportData) => {
  try {
    console.log('[Export Report] ========== INICIANDO EXPORTA√á√ÉO ==========');
    
    // Preparar data/hora
    const now = new Date();
    const dateStr = now.toLocaleDateString('pt-BR').replace(/\//g, '-');
    const timeStr = now.toLocaleTimeString('pt-BR').replace(/:/g, '-');
    const timestamp = `${dateStr}_${timeStr}`;
    
    // Obter pasta de logs da config
    let logsFolder = currentCfg?.logsErrors || '';
    if (!logsFolder || !await fse.pathExists(logsFolder)) {
      logsFolder = path.join(app.getPath('desktop'), 'Bartz-Analyzer_Reports');
      await fse.ensureDir(logsFolder);
    }
    
    // ========== CSV ==========
    const csvPath = path.join(logsFolder, `Relatorio_${timestamp}.csv`);
    const csvLines = [];
    
    // Cabe√ßalho
    csvLines.push([
      'DATA/HORA',
      'ARQUIVO',
      'STATUS',
      'ERROS',
      'AVISOS',
      'AUTO-FIX',
      'TAGS'
    ].map(v => `"${v}"`).join(';'));
    
    // Linhas de dados
    if (Array.isArray(reportData.rows)) {
      for (const row of reportData.rows) {
        const errors = (row.errors || []).join(' | ');
        const warnings = (row.warnings || []).join(' | ');
        const autoFixes = (row.autoFixes || []).join(' | ');
        const tags = (row.tags || []).join(', ');
        
        csvLines.push([
          row.timestamp || '',
          row.filename || '',
          row.status || '',
          errors,
          warnings,
          autoFixes,
          tags
        ].map(v => `"${v}"`).join(';'));
      }
    }
    
    // Resumo estat√≠stico
    const totalFiles = reportData.totalFiles || 0;
    const okFiles = reportData.okFiles || 0;
    const errorFiles = reportData.errorFiles || 0;
    
    csvLines.push('');
    csvLines.push(['RESUMO DO RELAT√ìRIO'].map(v => `"${v}"`).join(';'));
    csvLines.push(['Data da Exporta√ß√£o', now.toLocaleString('pt-BR')].map(v => `"${v}"`).join(';'));
    csvLines.push(['Total de Arquivos Processados', totalFiles].map(v => `"${v}"`).join(';'));
    csvLines.push(['Arquivos OK', okFiles].map(v => `"${v}"`).join(';'));
    csvLines.push(['Arquivos com ERRO', errorFiles].map(v => `"${v}"`).join(';'));
    csvLines.push(['Taxa de Sucesso', totalFiles > 0 ? `${((okFiles / totalFiles) * 100).toFixed(2)}%` : 'N/A'].map(v => `"${v}"`).join(';'));
    
    const csvContent = csvLines.join('\n');
    await fsp.writeFile(csvPath, csvContent, 'utf8');
    console.log('[Export Report] ‚úì CSV criado:', csvPath);
    
    // ========== JSON (mais detalhado) ==========
    const jsonPath = path.join(logsFolder, `Relatorio_${timestamp}.json`);
    const jsonData = {
      exportDate: now.toLocaleString('pt-BR'),
      exportTimestamp: now.getTime(),
      summary: {
        totalFiles,
        okFiles,
        errorFiles,
        successRate: totalFiles > 0 ? ((okFiles / totalFiles) * 100).toFixed(2) + '%' : 'N/A'
      },
      files: reportData.rows || [],
      config: {
        entrada: currentCfg?.entrada || '',
        ok: currentCfg?.ok || '',
        erro: currentCfg?.erro || ''
      }
    };
    
    await fsp.writeFile(jsonPath, JSON.stringify(jsonData, null, 2), 'utf8');
    console.log('[Export Report] ‚úì JSON criado:', jsonPath);
    
    return {
      ok: true,
      csvPath,
      jsonPath,
      message: `Relat√≥rio exportado com sucesso (${timestamp})`,
      filesCount: totalFiles
    };
  } catch (e) {
    console.log('[Export Report] ‚ùå ERRO NA EXPORTA√á√ÉO:', e.message || e);
    console.error('[Export Report] Stack:', e.stack);
    return {
      ok: false,
      message: `Erro ao exportar relat√≥rio: ${String(e && e.message || e)}`
    };
  }
});

/** ----------------- lifecycle ----------------- **/
app.whenReady().then(createWindow);
app.on("window-all-closed", () => { if (process.platform !== "darwin") app.quit(); });
app.on("activate", () => { if (BrowserWindow.getAllWindows().length === 0) createWindow(); });
</file>

<file path="src/components/FileDetailDrawer.tsx">
// src/components/FileDetailDrawer.tsx
import * as React from "react";
import {
  Sheet,
  SheetContent,
  SheetHeader,
  SheetTitle,
  SheetDescription,
  SheetClose,
} from "./ui/sheet";
import {
  AlertDialog,
  AlertDialogAction,
  AlertDialogCancel,
  AlertDialogContent,
  AlertDialogDescription,
  AlertDialogTitle,
} from "./ui/alert-dialog";
import { toast } from "sonner";
import { Badge } from "./ui/badge";
import { StatusChip, type Status } from "./StatusChip";
import { X, FileJson, AlertTriangle } from "lucide-react";

type Row = {
  filename: string;
  fullpath: string;
  status?: Status;
  errors?: string[];
  autoFixes?: string[];
  warnings?: string[];
  tags?: string[];
  timestamp?: string;
  meta?: {
    machines?: Array<{ id?: string; name?: string }>;
    [k: string]: any;
  };
};

export default function FileDetailDrawer({
  open,
  onOpenChange,
  data,
}: {
  open: boolean;
  onOpenChange: (v: boolean) => void;
  data: Row | null;
}) {
  const [coringaFrom, setCoringaFrom] = React.useState<string | null>(null);
  const [coringaTo, setCoringaTo] = React.useState<string>("");
  const [isReplacing, setIsReplacing] = React.useState(false);
  const [lastReplace, setLastReplace] = React.useState<any | null>(null);
  const [showFull, setShowFull] = React.useState(false);
  
  // Estados para di√°logos de confirma√ß√£o
  const [confirmCoringaOpen, setConfirmCoringaOpen] = React.useState(false);
  const [confirmCgOpen, setConfirmCgOpen] = React.useState(false);
  const [confirmRefOpen, setConfirmRefOpen] = React.useState(false);

  // --- helpers locais ---
  const truncateText = (s: string, max = 4000) =>
    s && s.length > max ? s.slice(0, max) + "\n‚Ä¶ (resumo ‚Äî clique em ‚ÄúMostrar completo‚Äù)" : s;

  const cap = <T,>(arr: T[] | undefined, max = 20): T[] =>
    Array.isArray(arr) ? arr.slice(0, max) : [];

  // dedupe de m√°quinas (por ID+nome)
  const machines = React.useMemo(() => {
    const raw = (data?.meta?.machines ?? []) as Array<{ id?: string; name?: string }>;
    const map = new Map<string, { id?: string; name?: string }>();
    for (const m of raw) {
      const key = `${m?.id ?? ""}|${m?.name ?? ""}`;
      if (!map.has(key)) map.set(key, { id: m?.id, name: m?.name });
    }
    return Array.from(map.values());
  }, [data]);

  // keep coringaFrom synced when data changes
  React.useEffect(() => {
    const matches = (data?.meta?.coringaMatches || []) as string[];
    setCoringaFrom(matches && matches.length ? String(matches[0]) : null);
    setCoringaTo("");
  }, [data]);

  // detect if any coringa matches contain CG1 or CG2
  const hasCG1 = React.useMemo(() => {
    return !!((data?.meta?.coringaMatches || []) as string[]).find(m => /cg1/i.test(String(m)));
  }, [data]);
  const hasCG2 = React.useMemo(() => {
    return !!((data?.meta?.coringaMatches || []) as string[]).find(m => /cg2/i.test(String(m)));
  }, [data]);
  const [cg1Replace, setCg1Replace] = React.useState('');
  const [cg2Replace, setCg2Replace] = React.useState('');
  const [refFillValue, setRefFillValue] = React.useState('');
  const [selectedRefSingle, setSelectedRefSingle] = React.useState<string | null>(null);
  
  // Estado para busca de arquivo DXF
  const [dxfSearching, setDxfSearching] = React.useState(false);
  const [dxfFound, setDxfFound] = React.useState<{ path: string; name: string; panelInfo?: any; fresaInfo?: any } | false | null>(null);
  const [dxfFixing, setDxfFixing] = React.useState(false);

  // Resetar DXF encontrado quando dados mudam
  React.useEffect(() => {
    setDxfFound(null);
  }, [data?.fullpath]);

  // Fun√ß√£o para buscar arquivo DXF pelo c√≥digo de desenho
  async function searchDrawingDXF() {
    if (!data?.meta?.es08Matches || data.meta.es08Matches.length === 0) {
      toast.warning("Nenhum c√≥digo de desenho encontrado neste arquivo.");
      return;
    }

    const firstDrawing = (data.meta.es08Matches as any[])[0]?.desenho;
    if (!firstDrawing) {
      toast.warning("C√≥digo de desenho n√£o identificado.");
      return;
    }

    setDxfSearching(true);
    const id = toast.loading(`Buscando desenho: ${firstDrawing}...`);

    try {
      const result = await (window as any).electron?.analyzer?.findDrawingFile?.(firstDrawing, data?.fullpath);
      if (result?.found && result?.path) {
        setDxfFound({ 
          path: result.path, 
          name: result.name || firstDrawing,
          panelInfo: result.panelInfo,
          fresaInfo: result.fresaInfo
        });
        
        // Mostrar informa√ß√µes adicionais do XML
        let successMsg = `‚úì Desenho encontrado: ${result.name}`;
        if (result.panelInfo) {
          successMsg += `\nüìã Primeiro PAINEL: ${result.panelInfo.panelCode} (${result.panelInfo.dimension})`;
        }
        if (result.fresaInfo) {
          successMsg += `\nüîß FRESA encontrada: ${result.fresaInfo.fresaCode}`;
          successMsg += `\n   Status: ${result.fresaInfo.status}`;
        }
        
        toast.success(successMsg);
      } else {
        setDxfFound(false);
        toast.error(`Desenho "${firstDrawing}" n√£o encontrado em desenho_dxf.`);
      }
    } catch (e: any) {
      setDxfFound(false);
      toast.error(`Erro na busca: ${String(e?.message || e)}`);
    } finally {
      setDxfSearching(false);
      toast.dismiss(id);
    }
  }

  // Fun√ß√£o para corrigir FRESA_12_37 para FRESA_12_18
  async function fixFresa37to18() {
    if (!dxfFound || typeof dxfFound !== 'object' || !dxfFound.path) {
      toast.error("Nenhum arquivo DXF selecionado.");
      return;
    }

    setDxfFixing(true);
    const id = toast.loading("Corrigindo arquivo DXF...");

    try {
      const result = await (window as any).electron?.analyzer?.fixFresa37to18?.(dxfFound.path);
      
      if (result?.ok) {
        toast.dismiss(id);
        toast.success(`‚úÖ Arquivo corrigido com sucesso!\nüìù Altera√ß√µes:\n- PANEL: ${result.changes?.panelModified ? '‚úì' : '‚Äî'}\n- Primeira FRESA_12_37: ${result.changes?.fresaModified ? '‚úì' : '‚Äî'}\n- Total FRESA_12_37‚Üí18: ${result.changes?.fresa37Replacements}`);
      } else {
        toast.dismiss(id);
        toast.error(`Erro: ${result?.message || 'Falha ao corrigir'}`);
      }
    } catch (e: any) {
      toast.dismiss(id);
      toast.error(`Erro na corre√ß√£o: ${String(e?.message || e)}`);
    } finally {
      setDxfFixing(false);
    }
  }

  // whether meta has referencia entries collected by validateXml
  const hasReferenciaArray = React.useMemo(() => {
    return Array.isArray((data?.meta as any)?.referenciaEmpty) && ((data?.meta as any)?.referenciaEmpty.length > 0);
  }, [data]);

  // show the panel when we have collected referenciaEmpty OR when the file contains the error "ITEM SEM C√ìDIGO"
  const showReferenciaPanel = React.useMemo(() => {
    const errs = data?.errors || [];
    return hasReferenciaArray || errs.includes("ITEM SEM C√ìDIGO");
  }, [data, hasReferenciaArray]);

  // if file revalidated and the replaced token no longer exists, clear lastReplace
  React.useEffect(() => {
    if (!lastReplace) return;
    const matches = (data?.meta?.coringaMatches || []) as string[];
    if (!matches || !matches.length) { setLastReplace(null); return; }
    if (!matches.includes(String(lastReplace.from))) setLastReplace(null);
  }, [data, lastReplace]);

  // JSON completo (sem XML bruto; inclui meta)
  const prettyFull = React.useMemo(() => {
    if (!data) return "{}";
    const safe = {
      status: data.status,
      filename: data.filename,
      fullpath: data.fullpath,
      timestamp: data.timestamp,
      errors: data.errors || [],
      warnings: data.warnings || [],
      autoFixes: data.autoFixes || [],
      tags: data.tags || [],
      meta: {
        ...(data.meta || {}),
        // usa vers√£o dedupada das m√°quinas
        machines,
      },
    };
    return JSON.stringify(safe, null, 2);
  }, [data, machines]);

  // JSON resumido (listas e tamanho limitados)
  const prettyCompact = React.useMemo(() => {
    if (!data) return "{}";
    const safeSmall = {
      status: data.status,
      filename: data.filename,
      fullpath: data.fullpath,
      timestamp: data.timestamp,
      errors: cap(data.errors, 10),
      warnings: cap(data.warnings, 10),
      autoFixes: cap(data.autoFixes, 10),
      tags: cap(data.tags, 20),
      meta: {
        ...(data.meta ? { ...data.meta } : {}),
        machines: cap(machines, 12),
      },
      _note: "visualiza√ß√£o resumida (listas truncadas)",
    };
    return truncateText(JSON.stringify(safeSmall, null, 2), 4000);
  }, [data, machines]);

  const jsonToShow = showFull ? prettyFull : prettyCompact;

  return (
    <Sheet open={open} onOpenChange={onOpenChange}>
      <SheetContent
        side="right"
        className="w-[420px] sm:w-[460px] p-0 bg-[#161616] text-white border-l border-zinc-800"
      >
        <div className="h-full flex flex-col">
          {/* HEADER */}
          <SheetHeader className="px-5 py-4 border-b border-zinc-800">
            <div className="flex items-start gap-3">
              <div className="min-w-0">
                <SheetTitle className="truncate pr-10 text-white">
                  {data?.filename || "-"}
                </SheetTitle>
                <SheetDescription className="text-xs text-zinc-400">
                  Processado em {data?.timestamp || "-"}
                </SheetDescription>

                {/* tags */}
                <div className="mt-2 flex flex-wrap gap-2">
                  {(data?.tags || []).map((t, i) => (
                    <Badge
                      key={i}
                      variant="outline"
                      className="text-[#3498DB] border-[#3498DB]/20 bg-[#3498DB]/10 text-[10px]"
                    >
                      {formatTag(t)}
                    </Badge>
                  ))}
                </div>
              </div>

              {/* status + fechar */}
              <div className="ml-auto flex items-start gap-2">
                <StatusChip status={data?.status} />
                <SheetClose asChild>
                  <button
                    className="h-8 w-8 inline-flex items-center justify-center rounded hover:bg-white/10"
                    aria-label="Fechar"
                  >
                    <X className="h-4 w-4" />
                  </button>
                </SheetClose>
              </div>
            </div>
          </SheetHeader>

          {/* BODY */}
          <div className="flex-1 overflow-y-auto p-5 space-y-4">
            {/* ERROS */}
            {(data?.errors?.length ?? 0) > 0 && (
              <section className="rounded-lg border border-rose-500/20 bg-rose-500/10">
                <div className="px-4 py-2 text-rose-300 text-sm font-medium flex items-center gap-2">
                  <AlertTriangle className="h-4 w-4" />
                  Erros ({data?.errors?.length})
                </div>
                <ul className="px-5 pb-3 space-y-1">
                  {data!.errors!.map((e, i) => (
                    <li key={i} className="text-rose-200 text-sm">
                      ‚Ä¢ {e}
                    </li>
                  ))}
                </ul>
              </section>
            )}

            {/* AVISOS */}
            {(data?.warnings?.length ?? 0) > 0 && (
              <section className="rounded-lg border border-amber-500/20 bg-amber-500/10">
                <div className="px-4 py-2 text-amber-300 text-sm font-medium flex items-center gap-2">
                  <AlertTriangle className="h-4 w-4" />
                  Avisos ({data?.warnings?.length})
                </div>
                <ul className="px-5 pb-3 space-y-1">
                  {data!.warnings!.map((w, i) => (
                    <li key={i} className="text-amber-200 text-sm">
                      ‚Ä¢ {w}
                    </li>
                  ))}
                </ul>
              </section>
            )}

            {/* M√ÅQUINAS (dedupadas) */}
            {machines.length > 0 && (
              <div className="mt-1">
                <div className="text-sm font-medium mb-2 opacity-80">
                  M√°quinas detectadas
                </div>
                <div className="bg-[#151515] border border-[#2C2C2C] rounded-md overflow-hidden">
                  <table className="w-full text-sm">
                    <thead className="bg-[#1F1F1F] text-[#A7A7A7]">
                      <tr>
                        <th className="text-left px-3 py-2">ID do Plugin</th>
                        <th className="text-left px-3 py-2">Nome</th>
                      </tr>
                    </thead>
                    <tbody>
                      {machines.map((m, i) => (
                        <tr key={`${m.id ?? i}`} className="border-t border-[#2C2C2C]">
                          <td className="px-3 py-2 font-mono">{m.id || "-"}</td>
                          <td className="px-3 py-2">{m.name || "‚Äî"}</td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              </div>
            )}

            {/* ES08 (DUPLADO 37MM) - Dados complementares */}
            {Array.isArray(data?.meta?.es08Matches) && (data!.meta!.es08Matches!.length > 0) && (
              <div className="mt-1">
                <div className="text-sm font-medium mb-2 opacity-80 text-rose-300">
                  Itens ES08 - Duplado 37MM
                </div>
                <div className="space-y-3 overflow-x-auto pb-2">
                  {(data?.meta?.es08Matches as any[]).map((item, i) => (
                    <div key={i} className="bg-[#1a1a1a] border border-rose-500/30 rounded-md p-3 min-w-full">
                      <div className="grid grid-cols-1 gap-2 text-sm">
                        <div className="flex items-start gap-2 overflow-x-auto">
                          <span className="text-zinc-400 whitespace-nowrap">ID:</span>
                          <span className="text-white font-mono break-all">{item.id || "‚Äî"}</span>
                        </div>
                        <div className="flex items-center gap-2">
                          <span className="text-zinc-400 whitespace-nowrap">Referencia:</span>
                          <span className="text-white break-all">{item.referencia || "‚Äî"}</span>
                        </div>
                        <div className="flex items-center gap-2">
                          <span className="text-zinc-400 whitespace-nowrap">Desenho:</span>
                          <span className="text-white break-all">{item.desenho || "‚Äî"}</span>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>

                {/* Buscar arquivo DXF */}
                <div className="mt-3 pt-3 border-t border-rose-500/20">
                  <div className="bg-[#1a1a1a] border border-[#2C2C2C] rounded-md p-3">
                    <div className="flex items-center justify-between mb-3">
                      <div className="text-sm font-medium text-rose-300">Busca de Desenho DXF</div>
                      <button
                        onClick={searchDrawingDXF}
                        disabled={dxfSearching}
                        className="px-2 py-1 rounded bg-rose-600 text-white text-xs font-medium hover:bg-rose-700 disabled:opacity-50"
                      >
                        {dxfSearching ? "Buscando..." : "Buscar"}
                      </button>
                    </div>

                    {/* Tabela de resultado */}
                    <table className="w-full text-xs">
                      <tbody>
                        <tr className="border-b border-[#2C2C2C]">
                          <td className="px-2 py-2 text-zinc-400">C√≥digo:</td>
                          <td className="px-2 py-2 text-white font-mono">
                            {((data?.meta?.es08Matches as any[])?.[0]?.desenho || "‚Äî")}
                          </td>
                        </tr>
                        <tr className="border-b border-[#2C2C2C]">
                          <td className="px-2 py-2 text-zinc-400">Status:</td>
                          <td className="px-2 py-2">
                            {dxfFound === null ? (
                              <span className="text-zinc-400">Aguardando busca...</span>
                            ) : dxfFound === false ? (
                              <span className="text-rose-400 font-medium">‚úó N√£o encontrado</span>
                            ) : (
                              <span className="text-green-400 font-medium">‚úì Encontrado</span>
                            )}
                          </td>
                        </tr>
                        {dxfFound && typeof dxfFound === 'object' && (
                          <>
                            <tr className="border-b border-[#2C2C2C]">
                              <td className="px-2 py-2 text-zinc-400">Nome:</td>
                              <td className="px-2 py-2 text-white font-mono break-all">
                                {dxfFound.name}
                              </td>
                            </tr>
                            <tr className="border-b border-[#2C2C2C]">
                              <td className="px-2 py-2 text-zinc-400">Caminho:</td>
                              <td className="px-2 py-2 text-white font-mono text-[10px] break-all">
                                {dxfFound.path}
                              </td>
                            </tr>
                            {dxfFound.panelInfo && (
                              <tr className="border-b border-[#2C2C2C] bg-blue-500/5">
                                <td className="px-2 py-2 text-blue-400 font-medium">üìã Primeiro PAINEL:</td>
                                <td className="px-2 py-2 text-blue-300">
                                  {dxfFound.panelInfo.panelCode} <span className="font-mono text-blue-400">({dxfFound.panelInfo.dimension})</span>
                                </td>
                              </tr>
                            )}
                            {dxfFound.fresaInfo && (
                              <tr className="border-b border-[#2C2C2C] bg-purple-500/5">
                                <td className="px-2 py-2 text-purple-400 font-medium">üîß FRESA:</td>
                                <td className="px-2 py-2">
                                  <div className="space-y-1">
                                    <div className="text-purple-300 font-mono">{dxfFound.fresaInfo.fresaCode}</div>
                                    <div className="text-purple-200 text-sm">{dxfFound.fresaInfo.status}</div>
                                    {dxfFound.fresaInfo.firstFresa37 && (
                                      <div className="mt-2 pt-2 border-t border-purple-500/30 text-xs">
                                        <div className="text-purple-300 font-semibold">Primeira FRESA_12_37:</div>
                                        <div className="ml-2 space-y-1 mt-1">
                                          {dxfFound.fresaInfo.firstFresa37.hasNegative37 && (
                                            <div className="text-purple-200">‚úì C√≥digo 30 = -37</div>
                                          )}
                                          {dxfFound.fresaInfo.firstFresa37.hasPositive37 && (
                                            <div className="text-purple-200">‚úì C√≥digo 39 = 37</div>
                                          )}
                                          {!dxfFound.fresaInfo.firstFresa37.hasNegative37 && !dxfFound.fresaInfo.firstFresa37.hasPositive37 && (
                                            <div className="text-purple-300">‚Ä¢ Nenhum dos valores encontrado</div>
                                          )}
                                        </div>
                                      </div>
                                    )}
                                    {(
                                      (dxfFound.fresaInfo.count37 > 0 && (dxfFound.fresaInfo.firstFresa37?.hasNegative37 || dxfFound.fresaInfo.firstFresa37?.hasPositive37)) ||
                                      (dxfFound.panelInfo?.dimension === '-37' || dxfFound.panelInfo?.dimension === '37')
                                    ) && (
                                      <div className="mt-3 pt-2 border-t border-purple-500/30">
                                        <button
                                          onClick={fixFresa37to18}
                                          disabled={dxfFixing}
                                          className="w-full px-3 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-900 disabled:opacity-50 text-white font-semibold rounded text-sm transition"
                                        >
                                          {dxfFixing ? "‚è≥ Trocando..." : "üîß Trocar Valores"}
                                        </button>
                                      </div>
                                    )}
                                  </div>
                                </td>
                              </tr>
                            )}
                          </>
                        )}
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            )}

            {/* COR CORINGA - quick replace UI */}
            {Array.isArray(data?.meta?.coringaMatches) && (data!.meta!.coringaMatches!.length > 0) && (
              <section className="rounded-lg border border-amber-500/20 bg-amber-500/10">
                <div className="px-4 py-2 text-amber-300 text-sm font-medium flex items-center gap-2">
                  <AlertTriangle className="h-4 w-4" />
                  Cor Coringa detectada
                </div>
                <div className="px-4 pb-3 space-y-3">
                  <div className="text-sm text-zinc-200">Selecione a cor coringa encontrada (apenas as detectadas no XML):</div>

                  {/* select (only detected matches) */}
                  <div>
                    <label className="text-xs text-zinc-300 mb-1 block">Coringa encontrada</label>
                    <select
                      value={coringaFrom ?? ""}
                      onChange={(e) => setCoringaFrom(e.target.value)}
                      className="w-full bg-[#151515] border border-[#2C2C2C] text-white px-2 py-2 rounded"
                    >
                      {((data?.meta?.coringaMatches || []) as string[]).map((m, i) => (
                        <option key={i} value={m}>{m}</option>
                      ))}
                    </select>
                  </div>

                  {/* replacement input */}
                  <div>
                    <label className="text-xs text-zinc-300 mb-1 block">Substituir por</label>
                    <input
                      placeholder="Digite a cor/substitui√ß√£o..."
                      value={coringaTo}
                      onChange={(e) => setCoringaTo(e.target.value)}
                      className="w-full bg-[#151515] border border-[#2C2C2C] text-white px-2 py-2 rounded"
                    />
                  </div>

                  <div className="flex gap-2">
                    <button
                      disabled={!coringaFrom || !coringaTo || isReplacing}
                      onClick={() => setConfirmCoringaOpen(true)}
                      className="px-3 py-2 rounded bg-amber-500 text-black font-medium disabled:opacity-50"
                    >
                      Trocar
                    </button>

                    <button
                      onClick={async () => {
                        if (!data) return;
                        const id = toast.loading('Atualizando arquivo...');
                        try {
                          const ok = await (window as any).electron?.analyzer?.reprocessOne?.(data.fullpath);
                          if (ok) toast.success('Arquivo reprocessado.');
                          else toast.error('Falha ao reprocessar.');
                        } catch (e: any) {
                          toast.error(String(e?.message || e));
                        } finally { toast.dismiss(id); }
                      }}
                      className="px-3 py-2 rounded border border-amber-500 text-amber-300 bg-transparent hover:bg-amber-900/10"
                    >
                      Atualizar arquivo
                    </button>
                    {lastReplace && (
                      <button
                        onClick={async () => {
                          if (!data) return;
                          const id = toast.loading('Desfazendo ultima troca...');
                          try {
                            const res = await (window as any).electron?.analyzer?.undoReplace?.(data.fullpath);
                            if (res?.ok) {
                              toast.success('Troca desfeita. Arquivo restaurado.');
                              setLastReplace(null);
                            } else {
                              toast.error(`Falha: ${res?.message || 'n√£o foi poss√≠vel desfazer'}`);
                            }
                          } catch (e: any) {
                            toast.error(String(e?.message || e));
                          } finally { toast.dismiss(id); }
                        }}
                        className="px-3 py-2 rounded bg-red-600 text-white hover:bg-red-700"
                      >
                        Desfazer √∫ltima troca
                      </button>
                    )}
                  </div>
                  {/* CG1 / CG2 bulk replace UI (only show if detected) */}
                  {(hasCG1 || hasCG2) && (
                    <div className="mt-3 border-t border-amber-600/20 pt-3">
                      <div className="text-sm text-zinc-200 mb-2">Troca em lote por sigla (CG1 / CG2)</div>
                      <div className="grid grid-cols-2 gap-2">
                        <div>
                          <label className="text-xs text-zinc-300 mb-1 block">CG1 ‚Üí</label>
                          <input value={cg1Replace} onChange={(e)=>setCg1Replace(e.target.value)} placeholder="Ex: LA" className="w-full bg-[#151515] border border-[#2C2C2C] text-white px-2 py-2 rounded" />
                        </div>
                        <div>
                          <label className="text-xs text-zinc-300 mb-1 block">CG2 ‚Üí</label>
                          <input value={cg2Replace} onChange={(e)=>setCg2Replace(e.target.value)} placeholder="Ex: MO" className="w-full bg-[#151515] border border-[#2C2C2C] text-white px-2 py-2 rounded" />
                        </div>
                      </div>
                      <div className="flex gap-2 mt-2">
                        <button
                          disabled={!(cg1Replace || cg2Replace)}
                          onClick={() => setConfirmCgOpen(true)}
                          className="px-3 py-2 rounded bg-amber-500 text-black font-medium disabled:opacity-50"
                        >
                          Trocar CG1/CG2
                        </button>
                      </div>
                    </div>
                  )}
                </div>
              </section>
            )}

            {/* REFERENCIA empty fill UI - INDEPENDENT SECTION */}
            {showReferenciaPanel && (
              <section className="rounded-lg border border-rose-500/20 bg-rose-500/10">
                <div className="px-4 py-2 text-rose-300 text-sm font-medium flex items-center gap-2">
                  <AlertTriangle className="h-4 w-4" />
                  Itens com REFERENCIA vazia {hasReferenciaArray ? `(${(data!.meta!.referenciaEmpty!.length)})` : ""}
                </div>
                <div className="px-4 pb-3 space-y-3">
                  {!hasReferenciaArray && (
                    <div className="text-xs text-zinc-300 mb-2">
                      Foi detectado o erro <span className="font-mono">ITEM SEM C√ìDIGO</span>, mas os IDs ainda n√£o foram coletados na metadados.
                      Clique em "Reprocessar" (√≠cone de refresh na lista) ou no bot√£o abaixo para revalidar o arquivo e preencher a lista de IDs.
                      <div className="mt-2">
                        <button
                          onClick={async () => {
                            if (!data) return;
                            const id = toast.loading('Reprocessando arquivo para coletar IDs...');
                            try {
                              const ok = await (window as any).electron?.analyzer?.reprocessOne?.(data.fullpath);
                              if (ok) toast.success('Arquivo reprocessado. Aguarde a atualiza√ß√£o do painel.');
                              else toast.warning('Reprocessamento n√£o retornou dados novos.');
                            } catch (e:any) { toast.error(String(e?.message || e)); }
                            finally { toast.dismiss(id); }
                          }}
                          className="px-3 py-2 rounded bg-rose-500 text-black font-medium"
                        >
                          Reprocessar agora
                        </button>
                      </div>
                    </div>
                  )}

                  {hasReferenciaArray && (
                    <>
                      <div className="text-xs text-zinc-300 mb-2">Selecione o ID e digite o c√≥digo para preencher REFERENCIA:</div>
                      {/* single-select + input */}
                      <div className="mb-3">
                        <label className="text-xs text-zinc-300 mb-1 block">Selecionar ID</label>
                        <select
                          value={selectedRefSingle ?? ''}
                          onChange={(e) => setSelectedRefSingle(e.target.value || null)}
                          className="w-full bg-[#151515] border border-[#2C2C2C] text-white px-2 py-2 rounded mb-2"
                        >
                          <option value="">-- selecionar --</option>
                          {((data!.meta!.referenciaEmpty! ) as any[]).filter((r:any)=>!!r.id).map((r:any,i:number)=> (
                            <option key={i} value={r.id}>{r.id}</option>
                          ))}
                        </select>
                        <label className="text-xs text-zinc-300 mb-1 block">C√≥digo REFERENCIA</label>
                        <input value={refFillValue} onChange={(e)=>setRefFillValue(e.target.value)} placeholder="Ex: ABC123" className="w-full bg-[#151515] border border-[#2C2C2C] text-white px-2 py-2 rounded mb-2" />
                      </div>
                      <div className="flex gap-2">
                        <button
                          disabled={!selectedRefSingle || !refFillValue}
                          onClick={() => setConfirmRefOpen(true)}
                          className="px-3 py-2 rounded bg-rose-500 text-black font-medium disabled:opacity-50 flex-1"
                        >
                          Preencher REFERENCIA
                        </button>
                      </div>
                    </>
                  )}
                </div>
              </section>
            )}

            {/* LOG JSON (Resumo/Completo) */}
            <section className="rounded-lg border border-zinc-700 bg-zinc-900/40">
              <div className="px-4 py-2 text-xs uppercase tracking-wide text-zinc-400 flex items-center justify-between border-b border-zinc-800">
                <span className="inline-flex items-center gap-2">
                  <FileJson className="h-4 w-4" />
                  Log JSON {showFull ? "(completo)" : "(resumo)"}
                </span>
                <button
                  onClick={() => setShowFull((v) => !v)}
                  className="text-[11px] px-2 py-1 rounded border border-zinc-700 hover:bg-zinc-800"
                >
                  {showFull ? "Mostrar resumo" : "Mostrar completo"}
                </button>
              </div>
              <pre className="px-4 py-3 max-h-[50vh] overflow-auto text-xs leading-relaxed text-zinc-200 font-mono whitespace-pre">
{jsonToShow}
              </pre>
            </section>
          </div>
        </div>
      </SheetContent>

      {/* CONFIRMA√á√ÉO - Trocar Cor Coringa */}
      <AlertDialog open={confirmCoringaOpen} onOpenChange={setConfirmCoringaOpen}>
        <AlertDialogContent className="bg-[#1a1a1a] border border-amber-500/30">
          <AlertDialogTitle className="text-white">Confirmar troca de cor coringa?</AlertDialogTitle>
          <AlertDialogDescription className="text-zinc-300">
            Voc√™ est√° prestes a substituir <span className="font-mono font-bold text-amber-300">{coringaFrom}</span> por <span className="font-mono font-bold text-amber-300">{coringaTo}</span>.
            <div className="mt-2 text-xs">Ser√° criado um backup do arquivo original.</div>
          </AlertDialogDescription>
          <div className="flex gap-2 justify-end">
            <AlertDialogCancel className="bg-zinc-700 text-white hover:bg-zinc-600">Cancelar</AlertDialogCancel>
            <AlertDialogAction
              onClick={async () => {
                if (!data || !coringaFrom) return;
                setConfirmCoringaOpen(false);
                setIsReplacing(true);
                const id = toast.loading('Substituindo cor...');
                try {
                  const res = await (window as any).electron?.analyzer?.replaceCoringa?.(data.fullpath, coringaFrom, coringaTo);
                  if (res?.ok) {
                    toast.success(`Substitu√≠dos ${res.replaced || 0} ocorr√™ncia(s)`);
                    setLastReplace({ backupPath: res.backupPath, from: coringaFrom, to: coringaTo, replaced: res.replaced });
                  } else {
                    toast.error(`Falha: ${res?.message || 'nenhuma ocorr√™ncia encontrada'}`);
                  }
                } catch (e: any) {
                  toast.error(String(e?.message || e));
                } finally {
                  toast.dismiss(id);
                  setIsReplacing(false);
                }
              }}
              className="bg-amber-500 text-black hover:bg-amber-600"
            >
              Confirmar
            </AlertDialogAction>
          </div>
        </AlertDialogContent>
      </AlertDialog>

      {/* CONFIRMA√á√ÉO - Trocar CG1/CG2 */}
      <AlertDialog open={confirmCgOpen} onOpenChange={setConfirmCgOpen}>
        <AlertDialogContent className="bg-[#1a1a1a] border border-amber-500/30">
          <AlertDialogTitle className="text-white">Confirmar troca em lote (CG1/CG2)?</AlertDialogTitle>
          <AlertDialogDescription className="text-zinc-300">
            Voc√™ est√° prestes a substituir:
            <ul className="mt-2 ml-4 space-y-1 text-xs">
              {cg1Replace && <li>‚Ä¢ <span className="font-mono">CG1</span> ‚Üí <span className="font-mono font-bold text-amber-300">{cg1Replace}</span></li>}
              {cg2Replace && <li>‚Ä¢ <span className="font-mono">CG2</span> ‚Üí <span className="font-mono font-bold text-amber-300">{cg2Replace}</span></li>}
            </ul>
            <div className="mt-2 text-xs">Ser√° criado um backup do arquivo original.</div>
          </AlertDialogDescription>
          <div className="flex gap-2 justify-end">
            <AlertDialogCancel className="bg-zinc-700 text-white hover:bg-zinc-600">Cancelar</AlertDialogCancel>
            <AlertDialogAction
              onClick={async () => {
                if (!data) return;
                setConfirmCgOpen(false);
                const map: any = {};
                if (cg1Replace) map['CG1'] = cg1Replace;
                if (cg2Replace) map['CG2'] = cg2Replace;
                const id = toast.loading('Aplicando trocas CG1/CG2...');
                try {
                  const res = await (window as any).electron?.analyzer?.replaceCgGroups?.(data.fullpath, map);
                  if (res?.ok) {
                    toast.success(`Substitui√ß√µes aplicadas (total: ${Object.values(res.counts||{}).reduce((s:any,n:any)=>s+(n||0),0)})`);
                    setLastReplace({ backupPath: res.backupPath, map: map, counts: res.counts });
                  } else {
                    toast.error(`Falha: ${res?.message || 'nenhuma ocorr√™ncia encontrada'}`);
                  }
                } catch (e:any) { 
                  toast.error(String(e?.message || e)); 
                } finally { 
                  toast.dismiss(id); 
                }
              }}
              className="bg-amber-500 text-black hover:bg-amber-600"
            >
              Confirmar
            </AlertDialogAction>
          </div>
        </AlertDialogContent>
      </AlertDialog>

      {/* CONFIRMA√á√ÉO - Preencher REFERENCIA */}
      <AlertDialog open={confirmRefOpen} onOpenChange={setConfirmRefOpen}>
        <AlertDialogContent className="bg-[#1a1a1a] border border-rose-500/30">
          <AlertDialogTitle className="text-white">Confirmar preenchimento de REFERENCIA?</AlertDialogTitle>
          <AlertDialogDescription className="text-zinc-300">
            Voc√™ est√° prestes a preencher REFERENCIA do item <span className="font-mono font-bold text-rose-300">{selectedRefSingle}</span> com <span className="font-mono font-bold text-rose-300">{refFillValue}</span>.
            <div className="mt-2 text-xs">Ser√° criado um backup do arquivo original.</div>
          </AlertDialogDescription>
          <div className="flex gap-2 justify-end">
            <AlertDialogCancel className="bg-zinc-700 text-white hover:bg-zinc-600">Cancelar</AlertDialogCancel>
            <AlertDialogAction
              onClick={async () => {
                if (!data || !selectedRefSingle) return;
                setConfirmRefOpen(false);
                const id = toast.loading('Trocando REFERENCIA...');
                try {
                  const replacements = [{ id: selectedRefSingle, value: refFillValue }];
                  const res = await (window as any).electron?.analyzer?.fillReferenciaByIds?.(data.fullpath, replacements);
                  if (res?.ok) {
                    toast.success(`Preenchidas ${Object.values(res.counts||{}).reduce((s:any,n:any)=>s+(n||0),0)} ocorr√™ncia(s)`);
                    setLastReplace({ backupPath: res.backupPath, type: 'fill-referencia-ids', replacements, counts: res.counts });
                    setRefFillValue('');
                    setSelectedRefSingle(null);
                  } else {
                    toast.error(`Falha: ${res?.message || 'nenhuma ocorr√™ncia encontrada'}`);
                  }
                } catch (e:any) { 
                  toast.error(String(e?.message || e)); 
                } finally { 
                  toast.dismiss(id); 
                }
              }}
              className="bg-rose-500 text-black hover:bg-rose-600"
            >
              Confirmar
            </AlertDialogAction>
          </div>
        </AlertDialogContent>
      </AlertDialog>
    </Sheet>
  );
}

/* helpers */
function formatTag(tag: string) {
  const t = (tag || "").trim().toLowerCase();
  if (t === "ferragens" || t === "ferragens-only") return "FERRAGENS";
  if (t === "muxarabi") return "MUXARABI";
  if (t === "coringa" || t === "cor coringa") return "COR CORINGA";
  if (t === "qtd-zero" || t === "qtd zero") return "QTD ZERO";
  if (t === "preco-zero" || t === "pre√ßo zero") return "PRE√áO ZERO";
  if (t === "curvo") return "CURVO";
  if (t === "duplado37mm" || t === "duplado 37mm") return "DUPLADO 37MM";
  return t.toUpperCase();
}
</file>

</files>
